/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return Z.call(t,e)>-1!==n})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function i(e){var t={};return ie.each(e.match(we)||[],function(e,n){t[n]=!0}),t}function a(){K.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),ie.ready()}function s(){this.expando=ie.expando+s.uid++}function u(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(Ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:_e.test(n)?ie.parseJSON(n):n)}catch(o){}ke.set(e,t,n)}else n=undefined;return n}function c(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return ie.css(e,t,"")},u=s(),c=n&&n[3]||(ie.cssNumber[t]?"":"px"),l=(ie.cssNumber[t]||"px"!==c&&+u)&&Ae.exec(ie.css(e,t));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do{l/=i=i||".5",ie.style(e,t,l+c)}while(i!==(i=s()/u)&&1!==i&&--a)}return n&&(l=+l||+u||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}function l(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&ie.nodeName(e,t)?ie.merge([e],n):n}function f(e,t){for(var n=0,r=e.length;n<r;n++)Ee.set(e[n],"globalEval",!t||Ee.get(t[n],"globalEval"))}function d(e,t,n,r,o){for(var i,a,s,u,c,d,p=t.createDocumentFragment(),h=[],m=0,g=e.length;m<g;m++)if((i=e[m])||0===i)if("object"===ie.type(i))ie.merge(h,i.nodeType?[i]:i);else if(Fe.test(i)){for(a=a||p.appendChild(t.createElement("div")),s=(Oe.exec(i)||["",""])[1].toLowerCase(),u=Ie[s]||Ie._default,a.innerHTML=u[1]+ie.htmlPrefilter(i)+u[2],d=u[0];d--;)a=a.lastChild;ie.merge(h,a.childNodes),(a=p.firstChild).textContent=""}else h.push(t.createTextNode(i));for(p.textContent="",m=0;i=h[m++];)if(r&&ie.inArray(i,r)>-1)o&&o.push(i);else if(c=ie.contains(i.ownerDocument,i),a=l(p.appendChild(i),"script"),c&&f(a),n)for(d=0;i=a[d++];)Le.test(i.type||"")&&n.push(i);return p}function p(){return!0}function h(){return!1}function m(){try{return K.activeElement}catch(e){}}function g(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=undefined),t)g(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=undefined):null==o&&("string"==typeof n?(o=r,r=undefined):(o=r,r=n,n=undefined)),!1===o)o=h;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return ie().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ie.guid++)),e.each(function(){ie.event.add(this,t,o,r,n)})}function v(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){var n,r,o,i,a,s,u,c;if(1===t.nodeType){if(Ee.hasData(e)&&(i=Ee.access(e),a=Ee.set(t,i),c=i.events))for(o in delete a.handle,a.events={},c)for(n=0,r=c[o].length;n<r;n++)ie.event.add(t,o,c[o][n]);ke.hasData(e)&&(s=ke.access(e),u=ie.extend({},s),ke.set(t,u))}}function w(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Re.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function x(e,t,n,r){t=Q.apply([],t);var o,i,a,s,u,c,f=0,p=e.length,h=p-1,m=t[0],g=ie.isFunction(m);if(g||p>1&&"string"==typeof m&&!re.checkClone&&We.test(m))return e.each(function(o){var i=e.eq(o);g&&(t[0]=m.call(this,o,i.html())),x(i,t,n,r)});if(p&&(i=(o=d(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=ie.map(l(o,"script"),y)).length;f<p;f++)u=o,f!==h&&(u=ie.clone(u,!0,!0),s&&ie.merge(a,l(u,"script"))),n.call(e[f],u,f);if(s)for(c=a[a.length-1].ownerDocument,ie.map(a,b),f=0;f<s;f++)u=a[f],Le.test(u.type||"")&&!Ee.access(u,"globalEval")&&ie.contains(c,u)&&(u.src?ie._evalUrl&&ie._evalUrl(u.src):ie.globalEval(u.textContent.replace($e,"")))}return e}function S(e,t,n){for(var r,o=t?ie.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||ie.cleanData(l(r)),r.parentNode&&(n&&ie.contains(r.ownerDocument,r)&&f(l(r,"script")),r.parentNode.removeChild(r));return e}function E(e,t){var n=ie(t.createElement(e)).appendTo(t.body),r=ie.css(n[0],"display");return n.detach(),r}function k(e){var t=K,n=Ye[e];return n||("none"!==(n=E(e,t))&&n||((t=(Xe=(Xe||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=E(e,t),Xe.detach()),Ye[e]=n),n}function _(e,t,n){var r,o,i,a,s=e.style;return""!==(a=(n=n||Qe(e))?n.getPropertyValue(t)||n[t]:undefined)&&a!==undefined||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),n&&!re.pixelMarginRight()&&Ge.test(a)&&Ke.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),a!==undefined?a+"":a}function N(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function T(e){if(e in ot)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=rt.length;n--;)if((e=rt[n]+t)in ot)return e}function A(e,t,n){var r=Ae.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function D(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=ie.css(e,n+De[i],!0,o)),r?("content"===n&&(a-=ie.css(e,"padding"+De[i],!0,o)),"margin"!==n&&(a-=ie.css(e,"border"+De[i]+"Width",!0,o))):(a+=ie.css(e,"padding"+De[i],!0,o),"padding"!==n&&(a+=ie.css(e,"border"+De[i]+"Width",!0,o)));return a}function P(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=Qe(e),a="border-box"===ie.css(e,"boxSizing",!1,i);if(o<=0||null==o){if(((o=_(e,t,i))<0||null==o)&&(o=e.style[t]),Ge.test(o))return o;r=a&&(re.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+D(e,t,n||(a?"border":"content"),r,i)+"px"}function R(e,t){for(var n,r,o,i=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(i[a]=Ee.get(r,"olddisplay"),n=r.style.display,t?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Pe(r)&&(i[a]=Ee.access(r,"olddisplay",k(r.nodeName)))):(o=Pe(r),"none"===n&&o||Ee.set(r,"olddisplay",o?n:ie.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[a]||"":"none"));return e}function O(e,t,n,r,o){return new O.prototype.init(e,t,n,r,o)}function L(){return e.setTimeout(function(){it=undefined}),it=ie.now()}function I(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=De[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function B(e,t,n){for(var r,o=(H.tweeners[t]||[]).concat(H.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function M(e,t,n){var r,o,i,a,s,u,c,l=this,f={},d=e.style,p=e.nodeType&&Pe(e),h=Ee.get(e,"fxshow");for(r in n.queue||(null==(s=ie._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=ie.css(e,"display"))?Ee.get(e,"olddisplay")||k(e.nodeName):c)&&"none"===ie.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",l.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(o=t[r],st.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!h||h[r]===undefined)continue;p=!0}f[r]=h&&h[r]||ie.style(e,r)}else c=undefined;if(ie.isEmptyObject(f))"inline"===("none"===c?k(e.nodeName):c)&&(d.display=c);else for(r in h?"hidden"in h&&(p=h.hidden):h=Ee.access(e,"fxshow",{}),i&&(h.hidden=!p),p?ie(e).show():l.done(function(){ie(e).hide()}),l.done(function(){var t;for(t in Ee.remove(e,"fxshow"),f)ie.style(e,t,f[t])}),f)a=B(p?h[r]:0,r,l),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function F(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=ie.camelCase(n)],i=e[n],ie.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=ie.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}function H(e,t,n){var r,o,i=0,a=H.prefilters.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(o)return!1;for(var t=it||L(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{},easing:ie.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||L(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(F(l,c.opts.specialEasing);i<a;i++)if(r=H.prefilters[i].call(c,e,l,c.opts))return ie.isFunction(r.stop)&&(ie._queueHooks(c.elem,c.opts.queue).stop=ie.proxy(r.stop,r)),r;return ie.map(l,B,c),ie.isFunction(c.opts.start)&&c.opts.start.call(e,c),ie.fx.timer(ie.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(we)||[];if(ie.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function o(s){var u;return i[s]=!0,ie.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||i[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),u}var i={},a=e===Nt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function z(e,t){var n,r,o=ie.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&ie.extend(!0,e,r),e}function W(e,t,n){for(var r,o,i,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),n[i]}function V(e,t,n,r){var o,i,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=i,i=l.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=c[u+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+i}}}return{state:"success",data:t}}function $(e,t,n,r){var o;if(ie.isArray(t))ie.each(t,function(t,o){n||Pt.test(e)?r(e,o):$(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(o in t)$(e+"["+o+"]",t[o],n,r)}function X(e){return ie.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Y=[],K=e.document,G=Y.slice,Q=Y.concat,J=Y.push,Z=Y.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},oe="2.2.4",ie=function(e,t){return new ie.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,ue=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:oe,constructor:ie,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return ie.each(this,e)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:Y.sort,splice:Y.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(ie.isPlainObject(r)||(o=ie.isArray(r)))?(o?(o=!1,i=n&&ie.isArray(n)?n:[]):i=n&&ie.isPlainObject(n)?n:{},a[t]=ie.extend(c,i,r)):r!==undefined&&(a[t]=r));return a},ie.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!ie.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return t===undefined||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=ie.trim(e))&&(1===e.indexOf("use strict")?((t=K.createElement("script")).text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(ue,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,o=0;if(n(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):J.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,r){var o,i,a=0,s=[];if(n(e))for(o=e.length;a<o;a++)null!=(i=t(e[a],a,r))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,r))&&s.push(i);return Q.apply([],s)},guid:1,proxy:function(e,t){var n,r,o;return"string"==typeof t&&(n=e[t],t=e,e=n),ie.isFunction(e)?(r=G.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(G.call(arguments)))}).guid=e.guid=e.guid||ie.guid++,o):undefined},now:Date.now,support:re}),"function"==typeof Symbol&&(ie.fn[Symbol.iterator]=Y[Symbol.iterator]),ie.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var le=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,r){var o,i,a,s,u,c,f,p,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:q)!==R&&P(t),t=t||R,L)){if(11!==m&&(c=ve.exec(e)))if(o=c[1]){if(9===m){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&F(t,a)&&a.id===o)return n.push(a),n}else{if(c[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=c[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!V[e+" "]&&(!I||!I.test(e))){if(1!==m)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=H),i=(f=k(e)).length,u=de.test(s)?"#"+s:"[id='"+s+"']";i--;)f[i]=u+" "+d(f[i]);p=f.join(","),h=ye.test(e)&&l(t.parentNode)||t}if(p)try{return J.apply(n,h.querySelectorAll(p)),n}catch(g){}finally{s===H&&t.removeAttribute("id")}}}return N(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function o(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=U++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,c,l=[j,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(u=(c=t[H]||(t[H]={}))[t.uniqueID]||(c[t.uniqueID]={}))[r])&&s[0]===j&&s[1]===i)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function g(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function v(e,t,n,o,i,a){return o&&!o[H]&&(o=v(o)),i&&!i[H]&&(i=v(i,a)),r(function(r,a,s,u){var c,l,f,d=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,d,e,s,u),b=n?i||(r?e:h||o)?[]:a:y;if(n&&n(y,b,s,u),o)for(c=g(b,p),o(c,[],s,u),l=c.length;l--;)(f=c[l])&&(b[p[l]]=!(y[p[l]]=f));if(r){if(i||e){if(i){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(y[l]=f);i(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&&(c=i?ee(r,f):d[l])>-1&&(r[c]=!(a[c]=f))}}else b=g(b===a?b.splice(h,b.length):b),i?i(null,a,b,u):J.apply(a,b)})}function y(e){for(var t,n,r,o=e.length,i=x.relative[e[0].type],a=i||x.relative[" "],s=i?1:0,u=p(function(e){return e===t},a,!0),c=p(function(e){return ee(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==T)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,o}];s<o;s++)if(n=x.relative[e[s].type])l=[p(h(l),n)];else{if((n=x.filter[e[s].type].apply(null,e[s].matches))[H]){for(r=++s;r<o&&!x.relative[e[r].type];r++);return v(s>1&&h(l),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&y(e.slice(s,r)),r<o&&y(e=e.slice(r)),r<o&&d(e))}l.push(n)}return h(l)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,s,u,c){var l,f,d,p=0,h="0",m=r&&[],v=[],y=T,b=r||i&&x.find.TAG("*",c),C=j+=null==y?1:Math.random()||.1,w=b.length;for(c&&(T=a===R||a||c);h!==w&&null!=(l=b[h]);h++){if(i&&l){for(f=0,a||l.ownerDocument===R||(P(l),s=!L);d=e[f++];)if(d(l,a||R,s)){u.push(l);break}c&&(j=C)}o&&((l=!d&&l)&&p--,r&&m.push(l))}if(p+=h,o&&h!==p){for(f=0;d=n[f++];)d(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(u));v=g(v)}J.apply(u,v),c&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return c&&(j=C,T=y),m};return o?r(a):a}var C,w,x,S,E,k,_,N,T,A,D,P,R,O,L,I,B,M,F,H="sizzle"+1*new Date,q=e.document,j=0,U=0,z=n(),W=n(),V=n(),$=function(e,t){return e===t&&(D=!0),0},X=1<<31,Y={}.hasOwnProperty,K=[],G=K.pop,Q=K.push,J=K.push,Z=K.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ie=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ie),de=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xe=function(){P()};try{J.apply(K=Z.call(q.childNodes),q.childNodes),K[q.childNodes.length].nodeType}catch(Se){J={apply:K.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(C in w=t.support={},E=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:q;return r!==R&&9===r.nodeType&&r.documentElement?(O=(R=r).documentElement,L=!E(R),(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(R.getElementsByClassName),w.getById=o(function(e){return O.appendChild(e).id=H,!R.getElementsByName||!R.getElementsByName(H).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(Ce,we);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(Ce,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},x.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&L)return t.getElementsByClassName(e)},B=[],I=[],(w.qsa=ge.test(R.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+H+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+H+"+*").length||I.push(".#.+[+~]")}),o(function(e){var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=ge.test(M=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){w.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),B.push("!=",ie)}),I=I.length&&new RegExp(I.join("|")),B=B.length&&new RegExp(B.join("|")),t=ge.test(O.compareDocumentPosition),F=t||ge.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===q&&F(q,e)?-1:t===R||t.ownerDocument===q&&F(q,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],u=[t];if(!o||!i)return e===R?-1:t===R?1:o?-1:i?1:A?ee(A,e)-ee(A,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===q?-1:u[r]===q?1:0},R):R},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==R&&P(e),n=n.replace(le,"='$1']"),w.matchesSelector&&L&&!V[n+" "]&&(!B||!B.test(n))&&(!I||!I.test(n)))try{var r=M.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Se){}return t(n,R,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==R&&P(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==R&&P(e);var n=x.attrHandle[t.toLowerCase()],r=n&&Y.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):undefined;return r!==undefined?r:w.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(D=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort($),D){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return A=null,e},S=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},(x=t.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,we),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(i){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(c=(l=(f=(d=g)[H]||(d[H]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===j&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(b=p=0)||h.pop();)if(1===d.nodeType&&++b&&d===t){l[e]=[j,p,b];break}}else if(y&&(b=p=(c=(l=(f=(d=t)[H]||(d[H]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===j&&c[1]),!1===b)for(;(d=++p&&d&&d[m]||(b=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((l=(f=d[H]||(d[H]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[j,b]),d!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var o,i=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[H]?i(n):i.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=ee(e,o[a])]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=_(e.replace(se,"$1"));return o[H]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Ce,we),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ce,we).toLowerCase(),function(t){var n;do{if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})x.pseudos[C]=u(C);return f.prototype=x.filters=x.pseudos,x.setFilters=new f,k=t.tokenize=function(e,n){var r,o,i,a,s,u,c,l=W[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=x.preFilter;s;){for(a in r&&!(o=ue.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(i=[])),r=!1,(o=ce.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(se," ")}),s=s.slice(r.length)),x.filter)!(o=pe[a].exec(s))||c[a]&&!(o=c[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):W(e,u).slice(0)},_=t.compile=function(e,t){var n,r=[],o=[],i=V[e+" "];if(!i){for(t||(t=k(e)),n=t.length;n--;)(i=y(t[n]))[H]?r.push(i):o.push(i);(i=V(e,b(o,r))).selector=e}return i},N=t.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,f=!r&&k(e=c.selector||e);if(n=n||[],1===f.length){if((i=f[0]=f[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&w.getById&&9===t.nodeType&&L&&x.relative[i[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(Ce,we),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=pe.needsContext.test(e)?0:i.length;o--&&(a=i[o],!x.relative[s=a.type]);)if((u=x.find[s])&&(r=u(a.matches[0].replace(Ce,we),ye.test(i[0].type)&&l(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&d(i)))return J.apply(n,r),n;break}}return(c||_(e,f))(r,t,!L,n,!t||ye.test(e)&&l(t.parentNode)||t),n},w.sortStable=H.split("").sort($).join("")===H,w.detectDuplicates=!!D,P(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.uniqueSort=ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var fe=function(e,t,n){for(var r=[],o=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&ie(e).is(n))break;r.push(e)}return r},de=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},pe=ie.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=this.length,r=[],o=this;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<n;t++)if(ie.contains(o[t],this))return!0}));for(t=0;t<n;t++)ie.find(e,o[t],r);return(r=this.pushStack(n>1?ie.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&pe.test(e)?ie(e):e||[],!1).length}});var ge,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ie.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||ge,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),he.test(r[1])&&ie.isPlainObject(t))for(r in t)ie.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=K.getElementById(r[2]))&&o.parentNode&&(this.length=1,this[0]=o),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?n.ready!==undefined?n.ready(e):e(ie):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))}).prototype=ie.fn,ge=ie(K);var ye=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};ie.fn.extend({has:function(e){var t=ie(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ie.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,o=this.length,i=[],a=pe.test(e)||"string"!=typeof e?ie(e,t||this.context):0;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?ie.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?Z.call(ie(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.uniqueSort(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fe(e,"parentNode")},parentsUntil:function(e,t,n){return fe(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return fe(e,"nextSibling")},prevAll:function(e){return fe(e,"previousSibling")},nextUntil:function(e,t,n){return fe(e,"nextSibling",n)},prevUntil:function(e,t,n){return fe(e,"previousSibling",n)},siblings:function(e){return de((e.parentNode||{}).firstChild,e)},children:function(e){return de(e.firstChild)},contents:function(e){return e.contentDocument||ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var o=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ie.filter(r,o)),this.length>1&&(be[e]||ie.uniqueSort(o),ye.test(e)&&o.reverse()),this.pushStack(o)}});var Ce,we=/\S+/g;ie.Callbacks=function(e){e="string"==typeof e?i(e):ie.extend({},e);var t,n,r,o,a=[],s=[],u=-1,c=function(){for(o=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)!1===a[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},l={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function r(t){ie.each(t,function(t,n){ie.isFunction(n)?e.unique&&l.has(n)||a.push(n):n&&n.length&&"string"!==ie.type(n)&&r(n)})}(arguments),n&&!t&&c()),this},remove:function(){return ie.each(arguments,function(e,t){for(var n;(n=ie.inArray(t,a,n))>-1;)a.splice(n,1),n<=u&&u--}),this},has:function(e){return e?ie.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,i){var a=ie.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},o={};return r.pipe=r.then,ie.each(t,function(e,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=G.call(arguments),a=i.length,s=1!==a||e&&ie.isFunction(e.promise)?a:0,u=1===s?e:ie.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?G.call(arguments):o,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&ie.isFunction(i[o].promise)?i[o].promise().progress(c(o,n,t)).done(c(o,r,i)).fail(u.reject):--s;return s||u.resolveWith(r,i),u.promise()}}),ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){(!0===e?--ie.readyWait:ie.isReady)||(ie.isReady=!0,!0!==e&&--ie.readyWait>0||(Ce.resolveWith(K,[ie]),ie.fn.triggerHandler&&(ie(K).triggerHandler("ready"),ie(K).off("ready"))))}}),ie.ready.promise=function(t){return Ce||(Ce=ie.Deferred(),"complete"===K.readyState||"loading"!==K.readyState&&!K.documentElement.doScroll?e.setTimeout(ie.ready):(K.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),Ce.promise(t)},ie.ready.promise();var xe=function(e,t,n,r,o,i,a){var s=0,u=e.length,c=null==n;if("object"===ie.type(n))for(s in o=!0,n)xe(e,t,s,n[s],!0,i,a);else if(r!==undefined&&(o=!0,ie.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(ie(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):u?t(e[0],n):i},Se=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Se(e))return{};var t=e[this.expando];return t||(t={},Se(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[t]=n;else for(r in t)o[r]=t[r];return o},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t))!==undefined?r:this.get(e,ie.camelCase(t)):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,o,i=e[this.expando];if(i!==undefined){if(t===undefined)this.register(e);else{ie.isArray(t)?r=t.concat(t.map(ie.camelCase)):(o=ie.camelCase(t),r=t in i?[t,o]:(r=o)in i?[r]:r.match(we)||[]),n=r.length;for(;n--;)delete i[r[n]]}(t===undefined||ie.isEmptyObject(i))&&(e.nodeType?e[this.expando]=undefined:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!ie.isEmptyObject(t)}};var Ee=new s,ke=new s,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;ie.extend({hasData:function(e){return ke.hasData(e)||Ee.hasData(e)},data:function(e,t,n){return ke.access(e,t,n)},removeData:function(e,t){ke.remove(e,t)},_data:function(e,t,n){return Ee.access(e,t,n)},_removeData:function(e,t){Ee.remove(e,t)}}),ie.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(e===undefined){if(this.length&&(o=ke.get(i),1===i.nodeType&&!Ee.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(i,r,o[r]));Ee.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ke.set(this,e)}):xe(this,function(t){var n,r;if(i&&t===undefined)return(n=ke.get(i,e)||ke.get(i,e.replace(Ne,"-$&").toLowerCase()))!==undefined?n:(r=ie.camelCase(e),(n=ke.get(i,r))!==undefined?n:(n=u(i,r,undefined))!==undefined?n:void 0);r=ie.camelCase(e),this.each(function(){var n=ke.get(this,r);ke.set(this,r,t),e.indexOf("-")>-1&&n!==undefined&&ke.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ke.remove(this,e)})}}),ie.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Ee.get(e,t),n&&(!r||ie.isArray(n)?r=Ee.access(e,t,ie.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,o=n.shift(),i=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Ee.get(e,n)||Ee.access(e,n,{empty:ie.Callbacks("once memory").add(function(){Ee.remove(e,[t+"queue",n])})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):t===undefined?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=ie.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=Ee.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),De=["Top","Right","Bottom","Left"],Pe=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Re=/^(?:checkbox|radio)$/i,Oe=/<([\w:-]+)/,Le=/^$|\/(?:java|ecma)script/i,Ie={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td;var Be,Me,Fe=/<|&#?\w+;/;Be=K.createDocumentFragment().appendChild(K.createElement("div")),(Me=K.createElement("input")).setAttribute("type","radio"),Me.setAttribute("checked","checked"),Me.setAttribute("name","t"),Be.appendChild(Me),re.checkClone=Be.cloneNode(!0).cloneNode(!0).lastChild.checked,Be.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!Be.cloneNode(!0).lastChild.defaultValue;var He=/^key/,qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,je=/^([^.]*)(?:\.(.+)|)/;ie.event={global:{},add:function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p,h,m,g=Ee.get(e);if(g)for(n.handler&&(n=(i=n).handler,o=i.selector),n.guid||(n.guid=ie.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==ie&&ie.event.triggered!==t.type?ie.event.dispatch.apply(e,arguments):undefined}),c=(t=(t||"").match(we)||[""]).length;c--;)p=m=(s=je.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(f=ie.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=ie.event.special[p]||{},l=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&ie.expr.match.needsContext.test(o),namespace:h.join(".")},i),(d=u[p])||((d=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),ie.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,s,u,c,l,f,d,p,h,m,g=Ee.hasData(e)&&Ee.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(we)||[""]).length;c--;)if(p=m=(s=je.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(f=ie.event.special[p]||{},d=u[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)l=d[i],!o&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||ie.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ie.event.remove(e,p+t[c],n,r,!0);ie.isEmptyObject(u)&&Ee.remove(e,"handle events")}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,o,i,a=[],s=G.call(arguments),u=(Ee.get(this,"events")||{})[e.type]||[],c=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=ie.event.handlers.call(this,e,u),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(i.namespace)||(e.handleObj=i,e.data=i.data,
(r=((ie.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))!==undefined&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)r[o=(i=t[n]).selector+" "]===undefined&&(r[o]=i.needsContext?ie(o,this).index(u)>-1:ie.find(o,this,null,[u]).length),r[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||K).documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||i===undefined||(e.which=1&i?1:2&i?3:4&i?2:0),e}},fix:function(e){if(e[ie.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=qe.test(o)?this.mouseHooks:He.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(i),t=r.length;t--;)e[n=r[t]]=i[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,i):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===m()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ie.nodeName(this,"input"))return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ie.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ie.Event=function(e,t){if(!(this instanceof ie.Event))return new ie.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?p:h):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),this[ie.expando]=!0},ie.Event.prototype={constructor:ie.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||ie.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),ie.fn.extend({on:function(e,t,n,r){return g(this,e,t,n,r)},one:function(e,t,n,r){return g(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=h),this.each(function(){ie.event.remove(this,e,n,t)})}});var Ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ze=/<script|<style|<link/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Ve=/^true\/(.*)/,$e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ie.extend({htmlPrefilter:function(e){return e.replace(Ue,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),u=ie.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(a=l(s),r=0,o=(i=l(e)).length;r<o;r++)w(i[r],a[r]);if(t)if(n)for(i=i||l(e),a=a||l(s),r=0,o=i.length;r<o;r++)C(i[r],a[r]);else C(e,s);return(a=l(s,"script")).length>0&&f(a,!u&&l(e,"script")),s},cleanData:function(e){for(var t,n,r,o=ie.event.special,i=0;(n=e[i])!==undefined;i++)if(Se(n)){if(t=n[Ee.expando]){if(t.events)for(r in t.events)o[r]?ie.event.remove(n,r):ie.removeEvent(n,r,t.handle);n[Ee.expando]=undefined}n[ke.expando]&&(n[ke.expando]=undefined)}}}),ie.fn.extend({domManip:x,detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return xe(this,function(e){return e===undefined?ie.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return x(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||v(this,e).appendChild(e)})},prepend:function(){return x(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return x(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ie.cleanData(l(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return xe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ze.test(e)&&!Ie[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=ie.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(ie.cleanData(l(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return x(this,arguments,function(t){var n=this.parentNode;ie.inArray(this,e)<0&&(ie.cleanData(l(this)),n&&n.replaceChild(t,this))},e)}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=[],o=ie(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),ie(o[a])[t](n),J.apply(r,n.get());return this.pushStack(r)}});var Xe,Ye={HTML:"block",BODY:"block"},Ke=/^margin/,Ge=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),Qe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Je=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o},Ze=K.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ze.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,i="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Ze.removeChild(a)}var n,r,o,i,a=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ie.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),o},reliableMarginLeft:function(){return null==r&&t(),i},reliableMarginRight:function(){var t,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Ze.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Ze.removeChild(a),s.removeChild(n),t}}))}();var et=/^(none|table(?!-c[ea]).+)/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"},rt=["Webkit","O","Moz","ms"],ot=K.createElement("div").style;ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=T(s)||s),a=ie.cssHooks[t]||ie.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(e,!1,r))!==undefined?o:u[t];"string"===(i=typeof n)&&(o=Ae.exec(n))&&o[1]&&(n=c(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(ie.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&(n=a.set(e,n,r))===undefined||(u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=T(s)||s),(a=ie.cssHooks[t]||ie.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),o===undefined&&(o=_(e,t,r)),"normal"===o&&t in nt&&(o=nt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){if(n)return et.test(ie.css(e,"display"))&&0===e.offsetWidth?Je(e,tt,function(){return P(e,t,r)}):P(e,t,r)},set:function(e,n,r){var o,i=r&&Qe(e),a=r&&D(e,t,r,"border-box"===ie.css(e,"boxSizing",!1,i),i);return a&&(o=Ae.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=ie.css(e,t)),A(e,n,a)}}}),ie.cssHooks.marginLeft=N(re.reliableMarginLeft,function(e,t){if(t)return(parseFloat(_(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ie.cssHooks.marginRight=N(re.reliableMarginRight,function(e,t){if(t)return Je(e,{display:"inline-block"},_,[e,"marginRight"])}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+De[r]+t]=i[r]||i[r-2]||i[0];return o}},Ke.test(e)||(ie.cssHooks[e+t].set=A)}),ie.fn.extend({css:function(e,t){return xe(this,function(e,t,n){var r,o,i={},a=0;if(ie.isArray(t)){for(r=Qe(e),o=t.length;a<o;a++)i[t[a]]=ie.css(e,t[a],!1,r);return i}return n!==undefined?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return R(this,!0)},hide:function(){return R(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Pe(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=O,O.prototype={constructor:O,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||ie.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(ie.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ie.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ie.cssProps[e.prop]]&&!ie.cssHooks[e.prop]?e.elem[e.prop]=e.now:ie.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ie.fx=O.prototype.init,ie.fx.step={};var it,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;ie.Animation=ie.extend(H,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return c(n.elem,e,Ae.exec(t),n),n}]},tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.match(we);for(var n,r=0,o=e.length;r<o;r++)n=e[r],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(t)},prefilters:[M],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Pe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=ie.isEmptyObject(e),i=ie.speed(t,n,r),a=function(){var t=H(this,ie.extend({},e),i);(o||Ee.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=ie.timers,a=Ee.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ut.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Ee.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(I(t,!0),e,r,o)}}),ie.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=0,n=ie.timers;for(it=ie.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ie.fx.stop(),it=undefined},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){at||(at=e.setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){e.clearInterval(at),at=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(t,n){return t=ie.fx&&ie.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var o=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(o)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,(e=K.createElement("input")).value="t",e.type="radio",re.radioValue="t"===e.value}();var ct,lt=ie.expr.attrHandle;ie.fn.extend({attr:function(e,t){return xe(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof e.getAttribute?ie.prop(e,t,n):(1===i&&ie.isXMLDoc(e)||(t=t.toLowerCase(),o=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?ct:undefined)),n!==undefined?null===n?void ie.removeAttr(e,t):o&&"set"in o&&(r=o.set(e,n,t))!==undefined?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=ie.find.attr(e,t))?undefined:r)},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(we);if(i&&1===e.nodeType)for(;n=i[o++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?ie.removeAttr(e,n):e.setAttribute(n,n),n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=lt[t]||ie.find.attr;lt[t]=function(e,t,r){var o,i;return r||(i=lt[t],lt[t]=o,o=null!=n(e,t,r)?t.toLowerCase():null,lt[t]=i),o}});var ft=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return xe(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[ie.propFix[e]||e]})}}),ie.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&ie.isXMLDoc(e)||(t=ie.propFix[t]||t,o=ie.propHooks[t]),n!==undefined?o&&"set"in o&&(r=o.set(e,n,t))!==undefined?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),re.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,u=0;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(o=q(n),r=1===n.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=ie.trim(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,u=0;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(we)||[];n=this[u++];)if(o=q(n),r=1===n.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=ie.trim(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,r,o,i;if("string"===n)for(r=0,o=ie(this),i=e.match(we)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else e!==undefined&&"boolean"!==n||((t=q(this))&&Ee.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Ee.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+q(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ht=/\r/g,mt=/[\x20\t\r\n\f]+/g;ie.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=ie.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,ie(this).val()):e)?o="":"number"==typeof o?o+="":ie.isArray(o)&&(o=ie.map(o,function(e){return null==e?"":e+""})),(t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,o,"value")!==undefined||(this.value=o))})):o?(t=ie.valHooks[o.type]||ie.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(o,"value"))!==undefined?n:"string"==typeof(n=o.value)?n.replace(ht,""):null==n?"":n:void 0}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e)).replace(mt," ")}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||o<0,a=i?null:[],s=i?o+1:r.length,u=o<0?s:i?o:0;u<s;u++)if(((n=r[u]).selected||u===o)&&(re.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),i)return t;a.push(t)}return a},set:function(e,t){for(var n,r,o=e.options,i=ie.makeArray(t),a=o.length;a--;)((r=o[a]).selected=ie.inArray(ie.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>-1}},re.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var gt=/^(?:focusinfocus|focusoutblur)$/;ie.extend(ie.event,{trigger:function(t,n,r,o){var i,a,s,u,c,l,f,d=[r||K],p=ne.call(t,"type")?t.type:t,h=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!gt.test(p+ie.event.triggered)&&(p.indexOf(".")>-1&&(p=(h=p.split(".")).shift(),h.sort()),c=p.indexOf(":")<0&&"on"+p,(t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),f=ie.event.special[p]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!ie.isWindow(r)){for(u=f.delegateType||p,gt.test(u+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||K)&&d.push(s.defaultView||s.parentWindow||e)}for(i=0;(a=d[i++])&&!t.isPropagationStopped();)t.type=i>1?u:f.bindType||p,(l=(Ee.get(a,"events")||{})[t.type]&&Ee.get(a,"handle"))&&l.apply(a,n),(l=c&&a[c])&&l.apply&&Se(a)&&(t.result=l.apply(a,n),!1===t.result&&t.preventDefault());return t.type=p,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),n)||!Se(r)||c&&ie.isFunction(r[p])&&!ie.isWindow(r)&&((s=r[c])&&(r[c]=null),ie.event.triggered=p,r[p](),ie.event.triggered=undefined,s&&(r[c]=s)),t.result}},simulate:function(e,t,n){var r=ie.extend(new ie.Event,n,{type:e,isSimulated:!0});ie.event.trigger(r,null,t)}}),ie.fn.extend({trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e))};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=Ee.access(r,t);o||r.addEventListener(e,n,!0),Ee.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Ee.access(r,t)-1;o?Ee.access(r,t,o):(r.removeEventListener(e,n,!0),Ee.remove(r,t))}}});var vt=e.location,yt=ie.now(),bt=/\?/;ie.parseJSON=function(e){return JSON.parse(e+"")},ie.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=undefined}return n&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var Ct=/#.*$/,wt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)$/gm,St=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Et=/^(?:GET|HEAD)$/,kt=/^\/\//,_t={},Nt={},Tt="*/".concat("*"),At=K.createElement("a");At.href=vt.href,ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vt.href,type:"GET",isLocal:St.test(vt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,ie.ajaxSettings),t):z(ie.ajaxSettings,e)},ajaxPrefilter:j(_t),ajaxTransport:j(Nt),ajax:function(t,n){function r(t,n,r,s){var c,f,y,b,w,S=n;2!==C&&(C=2,u&&e.clearTimeout(u),o=undefined,a=s||"",x.readyState=t>0?4:0,c=t>=200&&t<300||304===t,r&&(b=W(d,x,r)),b=V(d,b,x,c),c?(d.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(ie.lastModified[i]=w),(w=x.getResponseHeader("etag"))&&(ie.etag[i]=w)),204===t||"HEAD"===d.type?S="nocontent":304===t?S="notmodified":(S=b.state,f=b.data,c=!(y=b.error))):(y=S,!t&&S||(S="error",t<0&&(t=0))),x.status=t,x.statusText=(n||S)+"",c?m.resolveWith(p,[f,S,x]):m.rejectWith(p,[x,S,y]),x.statusCode(v),v=undefined,l&&h.trigger(c?"ajaxSuccess":"ajaxError",[x,d,c?f:y]),g.fireWith(p,[x,S]),l&&(h.trigger("ajaxComplete",[x,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=undefined),n=n||{};var o,i,a,s,u,c,l,f,d=ie.ajaxSetup({},n),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?ie(p):ie.event,m=ie.Deferred(),g=ie.Callbacks("once memory"),v=d.statusCode||{},y={},b={},C=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!s)for(s={};t=xt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(C<2)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return o&&o.abort(t),r(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||vt.href)+"").replace(Ct,"").replace(kt,vt.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(we)||[""],null==d.crossDomain){c=K.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=At.protocol+"//"+At.host!=c.protocol+"//"+c.host}catch(S){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),U(_t,d,n,x),2===C)return x;for(f in(l=ie.event&&d.global)&&0==ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Et.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(bt.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=wt.test(i)?i.replace(wt,"$1_="+yt++):i+(bt.test(i)?"&":"?")+"_="+yt++)),d.ifModified&&(ie.lastModified[i]&&x.setRequestHeader("If-Modified-Since",ie.lastModified[i]),ie.etag[i]&&x.setRequestHeader("If-None-Match",ie.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Tt+"; q=0.01":""):d.accepts["*"]),d.headers)x.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(p,x,d)||2===C))return x.abort();for(f in w="abort",{success:1,error:1,complete:1})x[f](d[f]);if(o=U(Nt,d,n,x)){if(x.readyState=1,l&&h.trigger("ajaxSend",[x,d]),2===C)return x;d.async&&d.timeout>0&&(u=e.setTimeout(function(){x.abort("timeout")},d.timeout));try{C=1,o.send(y,r)}catch(S){if(!(C<2))throw S;r(-1,S)}}else r(-1,"No Transport");return x},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,undefined,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,o){return ie.isFunction(n)&&(o=o||r,r=n,n=undefined),ie.ajax(ie.extend({url:e,type:t,dataType:o,data:n,success:r},ie.isPlainObject(e)&&e))}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){var t;return ie.isFunction(e)?this.each(function(t){ie(this).wrapAll(e.call(this,t))}):(this[0]&&(t=ie(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return!ie.expr.filters.visible(e)},ie.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var Dt=/%20/g,Pt=/\[\]$/,Rt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],o=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){o(this.name,this.value)});else for(n in e)$(n,e[n],t,o);return r.join("&").replace(Dt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Lt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Re.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}}):{name:t.name,value:n.replace(Rt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var It={0:200,1223:204},Bt=ie.ajaxSettings.xhr();re.cors=!!Bt&&"withCredentials"in Bt,re.ajax=Bt=!!Bt,ie.ajaxTransport(function(t){var n,r;if(re.cors||Bt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(It[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),s.onabort!==undefined?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ie.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,o){t=ie("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}});var Mt=[],Ft=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){
var e=Mt.pop()||ie.expando+"_"+yt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var o,i,a,s=!1!==t.jsonp&&(Ft.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ft.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ft,"$1"+o):!1!==t.jsonp&&(t.url+=(bt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||ie.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},r.always(function(){i===undefined?ie(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=n.jsonpCallback,Mt.push(o)),a&&ie.isFunction(i)&&i(a[0]),a=i=undefined}),"script"}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var r=he.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=d([e],t,o),o&&o.length&&ie(o).remove(),ie.merge([],r.childNodes))};var Ht=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&Ht)return Ht.apply(this,arguments);var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=ie.trim(e.slice(s)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length},ie.offset={setOffset:function(e,t,n){var r,o,i,a,s,u,c=ie.css(e,"position"),l=ie(e),f={};"static"===c&&(e.style.position="relative"),s=l.offset(),i=ie.css(e,"top"),u=ie.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+u).indexOf("auto")>-1?(a=(r=l.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,ie.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):l.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;return i?(t=i.documentElement,ie.contains(t,r)?(o=r.getBoundingClientRect(),n=X(i),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===ie.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(r=e.offset()),r.top+=ie.css(e[0],"borderTopWidth",!0),r.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-ie.css(n,"marginTop",!0),left:t.left-r.left-ie.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||Ze})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;ie.fn[e]=function(r){return xe(this,function(e,r,o){var i=X(e);if(o===undefined)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=N(re.pixelPosition,function(e,n){if(n)return n=_(e,t),Ge.test(n)?ie(e).position()[t]+"px":n})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return xe(this,function(t,n,r){var o;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):r===undefined?ie.css(t,n,a):ie.style(t,n,r,a)},t,i?r:undefined,i,null)}})}),ie.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var qt=e.jQuery,jt=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=jt),t&&e.jQuery===ie&&(e.jQuery=qt),ie},t||(e.jQuery=e.$=ie),ie}),
/*
 * jQuery UI 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI
 */
jQuery.ui||function(e){function t(t,n,r,o){function i(r){var o=e[t][n][r]||[];return"string"==typeof o?o.split(/,?\s+/):o}var a=i("getter");return 1==o.length&&"string"==typeof o[0]&&(a=a.concat(i("getterSetter"))),-1!=e.inArray(r,a)}var n=e.fn.remove,r=e.browser.mozilla&&parseFloat(e.browser.version)<1.9;if(e.ui={version:"1.7.2",plugin:{add:function(t,n,r){var o=e.ui[t].prototype;for(var i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n){var r=e.plugins[t];if(r&&e.element[0].parentNode)for(var o=0;o<r.length;o++)e.options[r[o][0]]&&r[o][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"==e(t).css("overflow"))return!1;var r=n&&"left"==n?"scrollLeft":"scrollTop",o=!1;return t[r]>0||(t[r]=1,o=t[r]>0,t[r]=0,o)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,o,i,a){return e.ui.isOverAxis(t,r,i)&&e.ui.isOverAxis(n,o,a)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}},r){var o=e.attr,i=e.fn.removeAttr,a="http://www.w3.org/2005/07/aaa",s=/^aria-/,u=/^wairole:/;e.attr=function(e,t,n){var r=n!==undefined;return"role"==t?r?o.call(this,e,t,"wairole:"+n):(o.apply(this,arguments)||"").replace(u,""):s.test(t)?r?e.setAttributeNS(a,t.replace(s,"aaa:"),n):o.call(this,e,t.replace(s,"aaa:")):o.apply(this,arguments)},e.fn.removeAttr=function(e){return s.test(e)?this.each(function(){this.removeAttributeNS(a,e.replace(s,""))}):i.call(this,e)}}e.fn.extend({remove:function(){return e("*",this).add(this).each(function(){e(this).triggerHandler("remove")}),n.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t}}),e.extend(e.expr[":"],{data:function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){var n=t.nodeName.toLowerCase(),r=e.attr(t,"tabindex");return(/input|select|textarea|button|object/.test(n)?!t.disabled:("a"==n||"area"==n)&&t.href||!isNaN(r))&&!e(t)["area"==n?"parents":"closest"](":hidden").length},tabbable:function(t){var n=e.attr(t,"tabindex");return(isNaN(n)||n>=0)&&e(t).is(":focusable")}}),e.widget=function(n,r){var o=n.split(".")[0];n=n.split(".")[1],e.fn[n]=function(r){var i="string"==typeof r,a=Array.prototype.slice.call(arguments,1);if(i&&"_"==r.substring(0,1))return this;if(i&&t(o,n,r,a)){var s=e.data(this[0],n);return s?s[r].apply(s,a):undefined}return this.each(function(){var t=e.data(this,n);!t&&!i&&e.data(this,n,new e[o][n](this,r))._init(),t&&i&&e.isFunction(t[r])&&t[r].apply(t,a)})},e[o]=e[o]||{},e[o][n]=function(t,r){var i=this;this.namespace=o,this.widgetName=n,this.widgetEventPrefix=e[o][n].eventPrefix||n,this.widgetBaseClass=o+"-"+n,this.options=e.extend({},e.widget.defaults,e[o][n].defaults,e.metadata&&e.metadata.get(t)[n],r),this.element=e(t).bind("setData."+n,function(e,n,r){if(e.target==t)return i._setData(n,r)}).bind("getData."+n,function(e,n){if(e.target==t)return i._getData(n)}).bind("remove",function(){return i.destroy()})},e[o][n].prototype=e.extend({},e.widget.prototype,r),e[o][n].getterSetter="option"},e.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(t,n){var r=t,o=this;if("string"==typeof t){if(n===undefined)return this._getData(t);(r={})[t]=n}e.each(r,function(e,t){o._setData(e,t)})},_getData:function(e){return this.options[e]},_setData:function(e,t){this.options[e]=t,"disabled"==e&&this.element[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",t)},enable:function(){this._setData("disabled",!1)},disable:function(){this._setData("disabled",!0)},_trigger:function(t,n,r){var o=this.options[t],i=t==this.widgetEventPrefix?t:this.widgetEventPrefix+t;if((n=e.Event(n)).type=i,n.originalEvent)for(var a,s=e.event.props.length;s;)n[a=e.event.props[--s]]=n.originalEvent[a];return this.element.trigger(n,r),!(e.isFunction(o)&&!1===o.call(this.element[0],n,r)||n.isDefaultPrevented())}},e.widget.defaults={disabled:!1},e.ui.mouse={_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(t._preventClickEvent)return t._preventClickEvent=!1,e.stopImmediatePropagation(),!1}),e.browser.msie&&(this._mouseUnselectable=this.element.attr("unselectable"),this.element.attr("unselectable","on")),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),e.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(t){if(t.originalEvent=t.originalEvent||{},!t.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1==t.which,o="string"==typeof this.options.cancel&&e(t.target).parents().add(t.target).filter(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.browser.safari||t.preventDefault(),t.originalEvent.mouseHandled=!0,!0))}},_mouseMove:function(t){return e.browser.msie&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,this._preventClickEvent=t.target==this._mouseDownEvent.target,this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}},e.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery),
/*
 * jQuery UI Draggable 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	ui.core.js
 */
function(e){e.widget("ui.draggable",e.extend({},e.ui.mouse,{_init:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){this.element.data("draggable")&&(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(t),!!this.handle)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t),this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),!0},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();this._trigger("drag",t,r),this.position=r.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;if(e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var r=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t),r._clear()})}else this._trigger("stop",t),this._clear();return!1},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"==n.helper?this.element.clone():this.element;return r.parents("body").length||r.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),r[0]==this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_adjustOffsetFromHelper:function(e){e.left!=undefined&&(this.offset.click.left=e.left+this.margins.left),e.right!=undefined&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),e.top!=undefined&&(this.offset.click.top=e.top+this.margins.top),e.bottom!=undefined&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var n=e(t.containment)[0];if(!n)return;var r=e(t.containment).offset(),o="hidden"!=e(n).css("overflow");this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(o?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(o?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"==t?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),i=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:o.scrollTop())*r),left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:o.scrollLeft())*r)}},_generatePosition:function(t){var n=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var i=t.pageX,a=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1];a=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var u=this.originalPageX+Math.round((i-this.originalPageX)/n.grid[0])*n.grid[0];i=this.containment&&(u-this.offset.click.left<this.containment[0]||u-this.offset.click.left>this.containment[2])?u-this.offset.click.left<this.containment[0]?u+n.grid[0]:u-n.grid[0]:u}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}})),e.extend(e.ui.draggable,{version:"1.7.2",eventPrefix:"drag",defaults:{addClasses:!0,appendTo:"parent",axis:!1,cancel:":input,option",connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,delay:0,distance:1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),o=r.options,i=e.extend({},n,{item:r.element});r.sortables=[],e(o.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n._refreshItems(),n._trigger("activate",t,i))})},stop:function(t,n){var r=e(this).data("draggable"),o=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,n){var r=e(this).data("draggable"),o=this;e.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","iframeFix",{start:function(){var t=e(this).data("draggable").options;e(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")})},stop:function(){e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),o=e(this).data("draggable").options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n){var r=e(this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("draggable"),r=n.options,o=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(r.axis&&"x"==r.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=o=n.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"==r.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=o=n.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"==r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"==r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){for(var r=e(this).data("draggable"),o=r.options,i=o.snapTolerance,a=n.offset.left,s=a+r.helperProportions.width,u=n.offset.top,c=u+r.helperProportions.height,l=r.snapElements.length-1;l>=0;l--){var f=r.snapElements[l].left,d=f+r.snapElements[l].width,p=r.snapElements[l].top,h=p+r.snapElements[l].height;if(f-i<a&&a<d+i&&p-i<u&&u<h+i||f-i<a&&a<d+i&&p-i<c&&c<h+i||f-i<s&&s<d+i&&p-i<u&&u<h+i||f-i<s&&s<d+i&&p-i<c&&c<h+i){if("inner"!=o.snapMode){var m=Math.abs(p-c)<=i,g=Math.abs(h-u)<=i,v=Math.abs(f-s)<=i,y=Math.abs(d-a)<=i;m&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:h,left:0}).top-r.margins.top),v&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f-r.helperProportions.width}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:d}).left-r.margins.left)}var b=m||g||v||y;if("outer"!=o.snapMode){m=Math.abs(p-u)<=i,g=Math.abs(h-c)<=i,v=Math.abs(f-a)<=i,y=Math.abs(d-s)<=i;m&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:h-r.helperProportions.height,left:0}).top-r.margins.top),v&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:d-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[l].snapping&&(m||g||v||y||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=m||g||v||y||b}else r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,n=e.makeArray(e(t.stack.group)).sort(function(n,r){return(parseInt(e(n).css("zIndex"),10)||t.stack.min)-(parseInt(e(r).css("zIndex"),10)||t.stack.min)});e(n).each(function(e){this.style.zIndex=t.stack.min+e}),this[0].style.zIndex=t.stack.min+n.length}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),o=e(this).data("draggable").options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),
/*
 * jQuery UI Droppable 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	ui.core.js
 *	ui.draggable.js
 */
function(e){e.widget("ui.droppable",{_init:function(){var t=this.options.accept;this.isover=0,this.isout=1,this.options.accept=this.options.accept&&e.isFunction(this.options.accept)?this.options.accept:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[this.options.scope]=e.ui.ddmanager.droppables[this.options.scope]||[],e.ui.ddmanager.droppables[this.options.scope].push(this),this.options.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(t,n){"accept"==t?this.options.accept=n&&e.isFunction(n)?n:function(e){return e.is(n)}:e.widget.prototype._setData.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.options.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.options.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current;if(!r||(r.currentItem||r.element)[0]==this.element[0])return!1;var o=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");if(t.options.greedy&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return o=!0,!1}),!o&&(!!this.options.accept.call(this.element[0],r.currentItem||r.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,absolutePosition:e.positionAbs,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"}}),e.ui.intersect=function(t,n,r){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left,i=o+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,s=a+t.helperProportions.height,u=n.offset.left,c=u+n.proportions.width,l=n.offset.top,f=l+n.proportions.height;switch(r){case"fit":return u<o&&i<c&&l<a&&s<f;case"intersect":return u<o+t.helperProportions.width/2&&i-t.helperProportions.width/2<c&&l<a+t.helperProportions.height/2&&s-t.helperProportions.height/2<f;case"pointer":var d=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,p=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return e.ui.isOver(p,d,l,u,n.proportions.height,n.proportions.width);case"touch":return(a>=l&&a<=f||s>=l&&s<=f||a<l&&s>f)&&(o>=u&&o<=c||i>=u&&i<=c||o<u&&i>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r=e.ui.ddmanager.droppables[t.options.scope],o=n?n.type:null,i=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var a=0;a<r.length;a++)if(!(r[a].options.disabled||t&&!r[a].options.accept.call(r[a].element[0],t.currentItem||t.element))){for(var s=0;s<i.length;s++)if(i[s]==r[a].element[0]){r[a].proportions.height=0;continue e}r[a].visible="none"!=r[a].element.css("display"),r[a].visible&&(r[a].offset=r[a].element.offset(),r[a].proportions={width:r[a].element[0].offsetWidth,height:r[a].element[0].offsetHeight},"mousedown"==o&&r[a]._activate.call(r[a],n))}},drop:function(t,n){var r=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)),!this.options.disabled&&this.visible&&this.options.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))}),r},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r=e.ui.intersect(t,this,this.options.tolerance),o=r||1!=this.isover?r&&0==this.isover?"isover":null:"isout";if(o){var i;if(this.options.greedy){var a=this.element.parents(":data(droppable):eq(0)");a.length&&((i=e.data(a[0],"droppable")).greedyChild="isover"==o?1:0)}i&&"isover"==o&&(i.isover=0,i.isout=1,i._out.call(i,n)),this[o]=1,this["isout"==o?"isover":"isout"]=0,this["isover"==o?"_over":"_out"].call(this,n),i&&"isout"==o&&(i.isout=0,i.isover=1,i._over.call(i,n))}}})}}}(jQuery),
/*
 * jQuery UI Sortable 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	ui.core.js
 */
function(e){e.widget("ui.sortable",e.extend({},e.ui.mouse,{_init:function(){this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&/left|right/.test(this.items[0].item.css("float")),this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData("sortable-item")},_mouseCapture:function(t,n){if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var r=null,o=this;e(t.target).parents().each(function(){if(e.data(this,"sortable-item")==o)return r=e(this),!1});if(e.data(t.target,"sortable-item")==o&&(r=e(t.target)),!r)return!1;if(this.options.handle&&!n){var i=!1;if(e(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(i=!0)}),!i)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var o=this.options,i=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,i._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),!1!==r&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var o=this.items.length-1;o>=0;o--){var i=this.items[o],a=i.item[0],s=this._intersectsWithPointer(i);if(s&&!(a==this.currentItem[0]||this.placeholder[1==s?"next":"prev"]()[0]==a||e.ui.contains(this.placeholder[0],a)||"semi-dynamic"==this.options.type&&e.ui.contains(this.element[0],a))){if(this.direction=1==s?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,o=r.placeholder.offset();r.reverting=!0,e(this.helper).animate({left:o.left-this.offset.parent.left-r.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:o.top-this.offset.parent.top-r.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp(),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,t._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,t._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem),!0},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,o=r+this.helperProportions.height,i=e.left,a=i+e.width,s=e.top,u=s+e.height,c=this.offset.click.top,l=this.offset.click.left,f=r+c>s&&r+c<u&&t+l>i&&t+l<a;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:i<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<r+this.helperProportions.height/2&&o-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=n&&r,i=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!o&&(this.floating?a&&"right"==a||"down"==i?2:1:i&&("down"==i?2:1))},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"==i&&r||"left"==i&&!r:o&&("down"==o&&n||"up"==o&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e),this.refreshPositions()},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],o=this._connectWith();if(o&&t)for(var i=o.length-1;i>=0;i--)for(var a=e(o[i]),s=a.length-1;s>=0;s--){var u=e.data(a[s],"sortable");u&&u!=this&&!u.options.disabled&&r.push([e.isFunction(u.options.items)?u.options.items.call(u.element):e(u.options.items,u.element).not(".ui-sortable-helper"),u])}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper"),this]);for(i=r.length-1;i>=0;i--)r[i][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],o=this._connectWith();if(o)for(var i=o.length-1;i>=0;i--)for(var a=e(o[i]),s=a.length-1;s>=0;s--){var u=e.data(a[s],"sortable");u&&u!=this&&!u.options.disabled&&(r.push([e.isFunction(u.options.items)?u.options.items.call(u.element[0],t,{item:this.currentItem}):e(u.options.items,u.element),u]),this.containers.push(u))}for(i=r.length-1;i>=0;i--)for(var c=r[i][1],l=r[i][0],f=(s=0,l.length);s<f;s++){var d=e(l[s]);d.data("sortable-item",c),n.push({item:d,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance==this.currentContainer||!this.currentContainer||r.item[0]==this.currentItem[0]){var o=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=o.outerWidth(),r.height=o.outerHeight());var i=o.offset();r.left=i.left,r.top=i.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){i=this.containers[n].element.offset();this.containers[n].containerCache.left=i.left,this.containers[n].containerCache.top=i.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}},_createPlaceholder:function(t){var n=t||this,r=n.options;if(!r.placeholder||r.placeholder.constructor==String){var o=r.placeholder;r.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(o||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return o||(t.style.visibility="hidden"),t},update:function(e,t){o&&!r.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=e(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var n=this.containers.length-1;n>=0;n--)if(this._intersectsWith(this.containers[n].containerCache)){if(!this.containers[n].containerCache.over){if(this.currentContainer!=this.containers[n]){for(var r=1e4,o=null,i=this.positionAbs[this.containers[n].floating?"left":"top"],a=this.items.length-1;a>=0;a--)if(e.ui.contains(this.containers[n].element[0],this.items[a].item[0])){var s=this.items[a][this.containers[n].floating?"left":"top"];Math.abs(s-i)<r&&(r=Math.abs(s-i),o=this.items[a])}if(!o&&!this.options.dropOnEmpty)continue;this.currentContainer=this.containers[n],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[n].element,!0),this._trigger("change",t,this._uiHash()),this.containers[n]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder)}this.containers[n]._trigger("over",t,this._uiHash(this)),this.containers[n].containerCache.over=1}}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0)},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(""==r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(e){e.left!=undefined&&(this.offset.click.left=e.left+this.margins.left),e.right!=undefined&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),e.top!=undefined&&(this.offset.click.top=e.top+this.margins.top),e.bottom!=undefined&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),"document"!=t.containment&&"window"!=t.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),o="hidden"!=e(n).css("overflow");this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(o?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(o?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"==t?1:-1,o=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),i=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():i?0:o.scrollTop())*r),left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():i?0:o.scrollLeft())*r)}},_generatePosition:function(t){var n=this.options,r="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var i=t.pageX,a=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid)){var s=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1];a=this.containment&&(s-this.offset.click.top<this.containment[1]||s-this.offset.click.top>this.containment[3])?s-this.offset.click.top<this.containment[1]?s+n.grid[1]:s-n.grid[1]:s;var u=this.originalPageX+Math.round((i-this.originalPageX)/n.grid[0])*n.grid[0];i=this.containment&&(u-this.offset.click.left<this.containment[0]||u-this.offset.click.left>this.containment[2])?u-this.offset.click.left<this.containment[0]?u+n.grid[0]:u-n.grid[0]:u}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this,i=this.counter;window.setTimeout(function(){i==o.counter&&o.refreshPositions(!r)},0)},_clear:function(t,n){this.reverting=!1;var r=[];if(!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var o in this._storedCSS)"auto"!=this._storedCSS[o]&&"static"!=this._storedCSS[o]||(this._storedCSS[o]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||n||r.push(function(e){this._trigger("update",e,this._uiHash())}),!e.ui.contains(this.element[0],this.currentItem[0])){n||r.push(function(e){this._trigger("remove",e,this._uiHash())});for(o=this.containers.length-1;o>=0;o--)e.ui.contains(this.containers[o].element[0],this.currentItem[0])&&!n&&(r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.containers[o])),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.containers[o])))}for(o=this.containers.length-1;o>=0;o--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[o])),this.containers[o].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[o])),this.containers[o].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(o=0;o<r.length;o++)r[o].call(this,t);this._trigger("stop",t,this._uiHash())}return!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(o=0;o<r.length;o++)r[o].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===e.widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,absolutePosition:n.positionAbs,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})),e.extend(e.ui.sortable,{getter:"serialize toArray",version:"1.7.2",eventPrefix:"sort",defaults:{appendTo:"parent",axis:!1,cancel:":input,option",connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,delay:0,distance:1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3}})}(jQuery),
/*
 * jQuery UI Effects 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects||function(e){function t(t,n){var r=t[1]&&t[1].constructor==Object?t[1]:{};n&&(r.mode=n);var o=t[1]&&t[1].constructor!=Object?t[1]:r.duration?r.duration:t[2];o=e.fx.off?0:"number"==typeof o?o:e.fx.speeds[o]||e.fx.speeds._default;var i=r.callback||e.isFunction(t[1])&&t[1]||e.isFunction(t[2])&&t[2]||e.isFunction(t[3])&&t[3];return[t[0],r,o,i]}function n(t){var n;return t&&t.constructor==Array&&3==t.length?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3])]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:(n=/rgba\(0, 0, 0, 0\)/.exec(t))?o.transparent:o[e.trim(t).toLowerCase()]}function r(t,r){var o;do{if(""!=(o=e.curCSS(t,r))&&"transparent"!=o||e.nodeName(t,"body"))break;r="backgroundColor"}while(t=t.parentNode);return n(o)}e.effects={version:"1.7.2",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var t={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")};e.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var n=e.parent();if("static"==e.css("position"))n.css({position:"relative"}),e.css({position:"relative"});else{var r=e.css("top");isNaN(parseInt(r,10))&&(r="auto");var o=e.css("left");isNaN(parseInt(o,10))&&(o="auto"),n.css({position:e.css("position"),top:r,left:o,zIndex:e.css("z-index")}).show(),e.css({position:"relative",top:0,left:0})}return n.css(t),n},removeWrapper:function(e){return e.parent().is(".ui-effects-wrapper")?e.parent().replaceWith(e):e},setTransition:function(t,n,r,o){return o=o||{},e.each(n,function(e,n){unit=t.cssUnit(n),unit[0]>0&&(o[n]=unit[0]*r+unit[1])}),o},animateClass:function(t,n,r,o){var i="function"==typeof r?r:o||null,a="string"==typeof r?r:null;return this.each(function(){var r={},o=e(this),s=o.attr("style")||"";"object"==typeof s&&(s=s.cssText),t.toggle&&(o.hasClass(t.toggle)?t.remove=t.toggle:t.add=t.toggle);var u=e.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);t.add&&o.addClass(t.add),t.remove&&o.removeClass(t.remove);var c=e.extend({},document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle);for(var l in t.add&&o.removeClass(t.add),t.remove&&o.addClass(t.remove),c)"function"==typeof c[l]||!c[l]||-1!=l.indexOf("Moz")||-1!=l.indexOf("length")||c[l]==u[l]||!l.match(/color/i)&&(l.match(/color/i)||isNaN(parseInt(c[l],10)))||"static"==u.position&&("static"!=u.position||l.match(/left|top|bottom|right/))||(r[l]=c[l]);o.animate(r,n,a,function(){"object"==typeof e(this).attr("style")?(e(this).attr("style").cssText="",e(this).attr("style").cssText=s):e(this).attr("style",s),t.add&&e(this).addClass(t.add),t.remove&&e(this).removeClass(t.remove),i&&i.apply(this,arguments)})})}},e.fn.extend({_show:e.fn.show,_hide:e.fn.hide,__toggle:e.fn.toggle,_addClass:e.fn.addClass,_removeClass:e.fn.removeClass,_toggleClass:e.fn.toggleClass,effect:function(t,n,r,o){return e.effects[t]?e.effects[t].call(this,{method:t,options:n||{},duration:r,callback:o}):null},show:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._show.apply(this,arguments):this.effect.apply(this,t(arguments,"show"))},hide:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])?this._hide.apply(this,arguments):this.effect.apply(this,t(arguments,"hide"))},toggle:function(){return!arguments[0]||arguments[0].constructor==Number||/(slow|normal|fast)/.test(arguments[0])||e.isFunction(arguments[0])||"boolean"==typeof arguments[0]?this.__toggle.apply(this,arguments):this.effect.apply(this,t(arguments,"toggle"))},addClass:function(t,n,r,o){return n?e.effects.animateClass.apply(this,[{add:t},n,r,o]):this._addClass(t)},removeClass:function(t,n,r,o){return n?e.effects.animateClass.apply(this,[{remove:t},n,r,o]):this._removeClass(t)},toggleClass:function(t,n,r,o){return"boolean"!=typeof n&&n?e.effects.animateClass.apply(this,[{toggle:t},n,r,o]):this._toggleClass(t,n)},morph:function(t,n,r,o,i){return e.effects.animateClass.apply(this,[{add:n,remove:t},r,o,i])},switchClass:function(){return this.morph.apply(this,arguments)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}}),e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(t,o){e.fx.step[o]=function(e){0==e.state&&(e.start=r(e.elem,o),e.end=n(e.end)),e.elem.style[o]="rgb("+[Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0),Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0),Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)].join(",")+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,r,o,i){return e.easing[e.easing.def](t,n,r,o,i)},easeInQuad:function(e,t,n,r,o){return r*(t/=o)*t+n},easeOutQuad:function(e,t,n,r,o){return-r*(t/=o)*(t-2)+n},easeInOutQuad:function(e,t,n,r,o){return(t/=o/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,o){return r*(t/=o)*t*t+n},easeOutCubic:function(e,t,n,r,o){return r*((t=t/o-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,o){return(t/=o/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,o){return r*(t/=o)*t*t*t+n},easeOutQuart:function(e,t,n,r,o){return-r*((t=t/o-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,o){return(t/=o/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,o){return r*(t/=o)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,o){return r*((t=t/o-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,o){return(t/=o/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,o){return-r*Math.cos(t/o*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,o){return r*Math.sin(t/o*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,o){return-r/2*(Math.cos(Math.PI*t/o)-1)+n},easeInExpo:function(e,t,n,r,o){return 0==t?n:r*Math.pow(2,10*(t/o-1))+n},easeOutExpo:function(e,t,n,r,o){return t==o?n+r:r*(1-Math.pow(2,-10*t/o))+n},easeInOutExpo:function(e,t,n,r,o){return 0==t?n:t==o?n+r:(t/=o/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,r,o){return-r*(Math.sqrt(1-(t/=o)*t)-1)+n},easeOutCirc:function(e,t,n,r,o){return r*Math.sqrt(1-(t=t/o-1)*t)+n},easeInOutCirc:function(e,t,n,r,o){return(t/=o/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,o){var i=1.70158,a=0,s=r;if(0==t)return n;if(1==(t/=o))return n+r;if(a||(a=.3*o),s<Math.abs(r)){s=r;i=a/4}else i=a/(2*Math.PI)*Math.asin(r/s);return-s*Math.pow(2,10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/a)+n},easeOutElastic:function(e,t,n,r,o){var i=1.70158,a=0,s=r;if(0==t)return n;if(1==(t/=o))return n+r;if(a||(a=.3*o),s<Math.abs(r)){s=r;i=a/4}else i=a/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*t)*Math.sin((t*o-i)*(2*Math.PI)/a)+r+n},easeInOutElastic:function(e,t,n,r,o){var i=1.70158,a=0,s=r;if(0==t)return n;if(2==(t/=o/2))return n+r;if(a||(a=o*(.3*1.5)),s<Math.abs(r)){s=r;i=a/4}else i=a/(2*Math.PI)*Math.asin(r/s);return t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/a)*-.5+n:s*Math.pow(2,-10*(t-=1))*Math.sin((t*o-i)*(2*Math.PI)/a)*.5+r+n},easeInBack:function(e,t,n,r,o,i){return i==undefined&&(i=1.70158),r*(t/=o)*t*((i+1)*t-i)+n},easeOutBack:function(e,t,n,r,o,i){return i==undefined&&(i=1.70158),r*((t=t/o-1)*t*((i+1)*t+i)+1)+n},easeInOutBack:function(e,t,n,r,o,i){return i==undefined&&(i=1.70158),(t/=o/2)<1?r/2*(t*t*((1+(i*=1.525))*t-i))+n:r/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+n},easeInBounce:function(t,n,r,o,i){return o-e.easing.easeOutBounce(t,i-n,0,o,i)+r},easeOutBounce:function(e,t,n,r,o){return(t/=o)<1/2.75?r*(7.5625*t*t)+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,r,o,i){return n<i/2?.5*e.easing.easeInBounce(t,2*n,0,o,i)+r:.5*e.easing.easeOutBounce(t,2*n-i,0,o,i)+.5*o+r}})}(jQuery),
/*
 * jQuery UI Effects Blind 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.blind=function(t){return this.queue(function(){var n=e(this),r=["position","top","left"],o=e.effects.setMode(n,t.options.mode||"hide"),i=t.options.direction||"vertical";e.effects.save(n,r),n.show();var a=e.effects.createWrapper(n).css({overflow:"hidden"}),s="vertical"==i?"height":"width",u="vertical"==i?a.height():a.width();"show"==o&&a.css(s,0);var c={};c[s]="show"==o?u:0,a.animate(c,t.duration,t.options.easing,function(){"hide"==o&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),
/*
 * jQuery UI Effects Bounce 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.bounce=function(t){return this.queue(function(){var n=e(this),r=["position","top","left"],o=e.effects.setMode(n,t.options.mode||"effect"),i=t.options.direction||"up",a=t.options.distance||20,s=t.options.times||5,u=t.duration||250;/show|hide/.test(o)&&r.push("opacity"),e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var c="up"==i||"down"==i?"top":"left",l="up"==i||"left"==i?"pos":"neg";a=t.options.distance||("top"==c?n.outerHeight({margin:!0})/3:n.outerWidth({margin:!0})/3);("show"==o&&n.css("opacity",0).css(c,"pos"==l?-a:a),"hide"==o&&(a/=2*s),"hide"!=o&&s--,"show"==o)&&((p={opacity:1})[c]=("pos"==l?"+=":"-=")+a,n.animate(p,u/2,t.options.easing),a/=2,s--);for(var f=0;f<s;f++){var d={};(h={})[c]=("pos"==l?"-=":"+=")+a,d[c]=("pos"==l?"+=":"-=")+a,n.animate(h,u/2,t.options.easing).animate(d,u/2,t.options.easing),a="hide"==o?2*a:a/2}if("hide"==o){var p;(p={opacity:0})[c]=("pos"==l?"-=":"+=")+a,n.animate(p,u/2,t.options.easing,function(){n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}else{var h;d={};(h={})[c]=("pos"==l?"-=":"+=")+a,d[c]=("pos"==l?"+=":"-=")+a,n.animate(h,u/2,t.options.easing).animate(d,u/2,t.options.easing,function(){e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),
/*
 * jQuery UI Effects Clip 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.clip=function(t){return this.queue(function(){var n=e(this),r=["position","top","left","height","width"],o=e.effects.setMode(n,t.options.mode||"hide"),i=t.options.direction||"vertical";e.effects.save(n,r),n.show();var a=e.effects.createWrapper(n).css({overflow:"hidden"}),s="IMG"==n[0].tagName?a:n,u={size:"vertical"==i?"height":"width",position:"vertical"==i?"top":"left"},c="vertical"==i?s.height():s.width();"show"==o&&(s.css(u.size,0),s.css(u.position,c/2));var l={};l[u.size]="show"==o?c:0,l[u.position]="show"==o?0:c/2,s.animate(l,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==o&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()}})})}}(jQuery),
/*
 * jQuery UI Effects Drop 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.drop=function(t){return this.queue(function(){var n=e(this),r=["position","top","left","opacity"],o=e.effects.setMode(n,t.options.mode||"hide"),i=t.options.direction||"left";e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var a="up"==i||"down"==i?"top":"left",s="up"==i||"left"==i?"pos":"neg",u=t.options.distance||("top"==a?n.outerHeight({margin:!0})/2:n.outerWidth({margin:!0})/2);"show"==o&&n.css("opacity",0).css(a,"pos"==s?-u:u);var c={opacity:"show"==o?1:0};c[a]=("show"==o?"pos"==s?"+=":"-=":"pos"==s?"-=":"+=")+u,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==o&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),
/*
 * jQuery UI Effects Fold 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.fold=function(t){return this.queue(function(){var n=e(this),r=["position","top","left"],o=e.effects.setMode(n,t.options.mode||"hide"),i=t.options.size||15,a=!!t.options.horizFirst,s=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(n,r),n.show();var u=e.effects.createWrapper(n).css({overflow:"hidden"}),c="show"==o!=a,l=c?["width","height"]:["height","width"],f=c?[u.width(),u.height()]:[u.height(),u.width()],d=/([0-9]+)%/.exec(i);d&&(i=parseInt(d[1],10)/100*f["hide"==o?0:1]),"show"==o&&u.css(a?{height:0,width:i}:{height:i,width:0});var p={},h={};p[l[0]]="show"==o?f[0]:i,h[l[1]]="show"==o?f[1]:0,u.animate(p,s,t.options.easing).animate(h,s,t.options.easing,function(){"hide"==o&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),
/*
 * jQuery UI Effects Highlight 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.highlight=function(t){return this.queue(function(){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(n,t.options.mode||"show"),i=t.options.color||"#ffff99",a=n.css("backgroundColor");e.effects.save(n,r),n.show(),n.css({backgroundImage:"none",backgroundColor:i});var s={backgroundColor:a};"hide"==o&&(s.opacity=0),n.animate(s,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==o&&n.hide(),e.effects.restore(n,r),"show"==o&&e.browser.msie&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),
/*
 * jQuery UI Effects Pulsate 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.pulsate=function(t){return this.queue(function(){var n=e(this),r=e.effects.setMode(n,t.options.mode||"show"),o=t.options.times||5,i=t.duration?t.duration/2:e.fx.speeds._default/2;"hide"==r&&o--,n.is(":hidden")&&(n.css("opacity",0),n.show(),n.animate({opacity:1},i,t.options.easing),o-=2);for(var a=0;a<o;a++)n.animate({opacity:0},i,t.options.easing).animate({opacity:1},i,t.options.easing);"hide"==r?n.animate({opacity:0},i,t.options.easing,function(){n.hide(),t.callback&&t.callback.apply(this,arguments)}):n.animate({opacity:0},i,t.options.easing).animate({opacity:1},i,t.options.easing,function(){t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),
/*
 * jQuery UI Effects Scale 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.puff=function(t){return this.queue(function(){var n=e(this),r=e.extend(!0,{},t.options),o=e.effects.setMode(n,t.options.mode||"hide"),i=parseInt(t.options.percent,10)||150;r.fade=!0;var a={height:n.height(),width:n.width()},s=i/100;n.from="hide"==o?a:{height:a.height*s,width:a.width*s},r.from=n.from,r.percent="hide"==o?i:100,r.mode=o,n.effect("scale",r,t.duration,t.callback),n.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var n=e(this),r=e.extend(!0,{},t.options),o=e.effects.setMode(n,t.options.mode||"effect"),i=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==o?0:100),a=t.options.direction||"both",s=t.options.origin;"effect"!=o&&(r.origin=s||["middle","center"],r.restore=!0);var u={height:n.height(),width:n.width()};n.from=t.options.from||("show"==o?{height:0,width:0}:u);var c={y:"horizontal"!=a?i/100:1,x:"vertical"!=a?i/100:1};n.to={height:u.height*c.y,width:u.width*c.x},t.options.fade&&("show"==o&&(n.from.opacity=0,n.to.opacity=1),"hide"==o&&(n.from.opacity=1,n.to.opacity=0)),r.from=n.from,r.to=n.to,r.mode=o,n.effect("size",r,t.duration,t.callback),n.dequeue()})},e.effects.size=function(t){return this.queue(function(){var n=e(this),r=["position","top","left","width","height","overflow","opacity"],o=["position","top","left","overflow","opacity"],i=["width","height","overflow"],a=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.effects.setMode(n,t.options.mode||"effect"),l=t.options.restore||!1,f=t.options.scale||"both",d=t.options.origin,p={height:n.height(),width:n.width()};if(n.from=t.options.from||p,n.to=t.options.to||p,d){var h=e.effects.getBaseline(d,p);n.from.top=(p.height-n.from.height)*h.y,n.from.left=(p.width-n.from.width)*h.x,n.to.top=(p.height-n.to.height)*h.y,n.to.left=(p.width-n.to.width)*h.x}var m={from:{y:n.from.height/p.height,x:n.from.width/p.width},to:{y:n.to.height/p.height,x:n.to.width/p.width}};"box"!=f&&"both"!=f||(m.from.y!=m.to.y&&(r=r.concat(s),n.from=e.effects.setTransition(n,s,m.from.y,n.from),n.to=e.effects.setTransition(n,s,m.to.y,n.to)),m.from.x!=m.to.x&&(r=r.concat(u),n.from=e.effects.setTransition(n,u,m.from.x,n.from),n.to=e.effects.setTransition(n,u,m.to.x,n.to))),"content"!=f&&"both"!=f||m.from.y!=m.to.y&&(r=r.concat(a),n.from=e.effects.setTransition(n,a,m.from.y,n.from),n.to=e.effects.setTransition(n,a,m.to.y,n.to)),e.effects.save(n,l?r:o),n.show(),e.effects.createWrapper(n),n.css("overflow","hidden").css(n.from),"content"!=f&&"both"!=f||(s=s.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),i=r.concat(s).concat(u),n.find("*[width]").each(function(){child=e(this),l&&e.effects.save(child,i);var n={height:child.height(),width:child.width()};child.from={height:n.height*m.from.y,width:n.width*m.from.x},child.to={height:n.height*m.to.y,width:n.width*m.to.x},m.from.y!=m.to.y&&(child.from=e.effects.setTransition(child,s,m.from.y,child.from),child.to=e.effects.setTransition(child,s,m.to.y,child.to)),m.from.x!=m.to.x&&(child.from=e.effects.setTransition(child,u,m.from.x,child.from),child.to=e.effects.setTransition(child,u,m.to.x,child.to)),child.css(child.from),child.animate(child.to,t.duration,t.options.easing,function(){l&&e.effects.restore(child,i)})})),n.animate(n.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==c&&n.hide(),e.effects.restore(n,l?r:o),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),
/*
 * jQuery UI Effects Shake 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.shake=function(t){return this.queue(function(){var n=e(this),r=["position","top","left"],o=(e.effects.setMode(n,t.options.mode||"effect"),t.options.direction||"left"),i=t.options.distance||20,a=t.options.times||3,s=t.duration||t.options.duration||140;e.effects.save(n,r),n.show(),e.effects.createWrapper(n);var u="up"==o||"down"==o?"top":"left",c="up"==o||"left"==o?"pos":"neg",l={},f={},d={};l[u]=("pos"==c?"-=":"+=")+i,f[u]=("pos"==c?"+=":"-=")+2*i,d[u]=("pos"==c?"-=":"+=")+2*i,n.animate(l,s,t.options.easing);for(var p=1;p<a;p++)n.animate(f,s,t.options.easing).animate(d,s,t.options.easing);n.animate(f,s,t.options.easing).animate(l,s/2,t.options.easing,function(){e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),
/*
 * jQuery UI Effects Slide 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.slide=function(t){return this.queue(function(){var n=e(this),r=["position","top","left"],o=e.effects.setMode(n,t.options.mode||"show"),i=t.options.direction||"left";e.effects.save(n,r),n.show(),e.effects.createWrapper(n).css({overflow:"hidden"});var a="up"==i||"down"==i?"top":"left",s="up"==i||"left"==i?"pos":"neg",u=t.options.distance||("top"==a?n.outerHeight({margin:!0}):n.outerWidth({margin:!0}));"show"==o&&n.css(a,"pos"==s?-u:u);var c={};c[a]=("show"==o?"pos"==s?"+=":"-=":"pos"==s?"-=":"+=")+u,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==o&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),
/*
 * jQuery UI Effects Transfer 1.7.2
 *
 * Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	effects.core.js
 */
function(e){e.effects.transfer=function(t){return this.queue(function(){var n=e(this),r=e(t.options.to),o=r.offset(),i={top:o.top,left:o.left,height:r.innerHeight(),width:r.innerWidth()},a=n.offset(),s=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:a.top,left:a.left,height:n.innerHeight(),width:n.innerWidth(),position:"absolute"}).animate(i,t.duration,t.options.easing,function(){s.remove(),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),window.TinyMCERails={configuration:{"default":{}},initialize:function(e,t){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[e||"default"];n=TinyMCERails._merge(n,t),tinyMCE.init(n)}else setTimeout(function(){TinyMCERails.initialize(e,t)},50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",function(){tinymce.remove()})},_merge:function(){for(var e={},t=0;t<arguments.length;++t){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&("[object Object]"===Object.prototype.toString.call(n[r])?e[r]=TinyMCERails._merge(e[r],n[r]):e[r]=n[r])}return e}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},
/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.10.3 (2022-02-09)
 */
function(){"use strict";function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function n(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function r(e,t,n,r,o){return e(n,r)?se.some(n):W(o)&&o(n)?se.none():t(n,r,o)}function o(){function e(n,r){return t.push(n+" ")>ri.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function i(e){return e[$s]=!0,e}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||tu)-(~e.sourceIndex||tu);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function l(e){return e&&typeof e.getElementsByTagName!==eu&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=Ks++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var s,u,c=[Ys,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if((s=(u=t[$s]||(t[$s]={}))[r])&&s[0]===Ys&&s[1]===i)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,t,n){for(var r=0,o=t.length;r<o;r++)Au(e,t[r],n);return n}function g(e,t,n,r,o){for(var i,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(s)));return a}function v(e,t,n,r,o,a){return r&&!r[$s]&&(r=v(r)),o&&!o[$s]&&(o=v(o,a)),i(function(i,a,s,u){var c,l,f,d=[],p=[],h=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,d,e,s,u),b=n?o||(i?e:h||r)?[]:a:y;if(n&&n(y,b,s,u),r)for(c=g(b,p),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(b[p[l]]=!(y[p[l]]=f));if(i){if(o||e){if(o){for(c=[],l=b.length;l--;)(f=b[l])&&c.push(y[l]=f);o(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&&(c=o?uu.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):au.apply(a,b)})}function y(e){for(var t,n,r,o=e.length,i=ri.relative[e[0].type],a=i||ri.relative[" "],s=i?1:0,u=p(function(e){return e===t},a,!0),c=p(function(e){return uu.call(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==ci)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,o}];s<o;s++)if(n=ri.relative[e[s].type])l=[p(h(l),n)];else{if((n=ri.filter[e[s].type].apply(null,e[s].matches))[$s]){for(r=++s;r<o&&!ri.relative[e[r].type];r++);return v(s>1&&h(l),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(hu,"$1"),n,s<r&&y(e.slice(s,r)),r<o&&y(e=e.slice(r)),r<o&&d(e))}l.push(n)}return h(l)}function b(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,s,u){var c,l,f,d=0,p="0",h=o&&[],m=[],v=ci,y=o||r&&ri.find.TAG("*",u),b=Ys+=null==v?1:Math.random()||.1,C=y.length;for(u&&(ci=i!==pi&&i);p!==C&&null!=(c=y[p]);p++){if(r&&c){for(l=0;f=e[l++];)if(f(c,i,a)){s.push(c);break}u&&(Ys=b)}n&&((c=!f&&c)&&d--,o&&h.push(c))}if(d+=p,n&&p!==d){for(l=0;f=t[l++];)f(h,m,i,a);if(o){if(d>0)for(;p--;)h[p]||m[p]||(m[p]=ou.call(s));m=g(m)}au.apply(s,m),u&&!o&&m.length>0&&d+t.length>1&&Au.uniqueSort(s)}return u&&(Ys=b,ci=v),h};return n?i(o):o}function C(e,t){var n,r,o=function(t,n){return Se(n,function(n){return e.is(n,t)})},i=function(t){return e.getParents(t,null,e.getRoot())};return{selectorChangedWithUnbind:function(e,a){return n||(n={},r={},t.on("NodeChange",function(e){var t=e.element,a=i(t),s={};Cn.each(n,function(e,t){o(t,a).each(function(n){r[t]||(ge(e,function(e){e(!0,{node:n,selector:t,parents:a})}),r[t]=e),s[t]=e})}),Cn.each(r,function(e,n){s[n]||(delete r[n],Cn.each(e,function(e){e(!1,{node:t,selector:n,parents:a})}))})})),n[e]||(n[e]=[]),n[e].push(a),o(e,i(t.selection.getStart())).each(function(){r[e]=n[e]}),{unbind:function(){A_(n,e,a),A_(r,e,a)}}}}}function w(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var x=function(e){if(null===e)return"null";if(e===undefined)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},S=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},E=function(e,t){return Array.prototype.slice.call(e).sort(t)},k=function(e,t){return _(function(n,r){return e.eq(t(n),t(r))})},_=function(e){return{eq:e}},N=_(function(e,t){return e===t}),T=function(e){return _(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},A=function(e,t){return k(T(e),function(e){return E(e,t)})},D=function(e){return _(function(t,n){var r=Object.keys(t),o=Object.keys(n);if(!A(N).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var s=r[a];if(!e.eq(t[s],n[s]))return!1}return!0})},P=_(function(e,t){if(e===t)return!0;var n=x(e);return n===x(t)&&(S(n)?e===t:"array"===n?T(P).eq(e,t):"object"===n&&D(P).eq(e,t))}),R=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},O=function(e){return function(t){return R(t)===e}},L=function(e){return function(t){return typeof t===e}},I=function(e){return function(t){return e===t}},B=O("string"),M=O("object"),F=O("array"),H=I(null),q=L("boolean"),j=I(undefined),U=function(e){return null===e||e===undefined},z=function(e){return!U(e)},W=L("function"),V=L("number"),$=function(){},X=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},Y=function(e,t){return function(n){return e(t(n))}},K=function(e){return function(){return e}},G=function(e){return e},Q=function(e,t){return e===t},J=function(e){return function(t){return!e(t)}},Z=function(e){return function(){throw new Error(e)}},ee=function(e){return e()},te=function(e){e()},ne=K(!1),re=K(!0),oe=function(){return ie},ie=function(){var e=function(e){return e()},t=G;return{fold:function(e){return e()},isSome:ne,isNone:re,getOr:t,getOrThunk:e,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:K(null),getOrUndefined:K(undefined),or:t,orThunk:e,map:oe,each:$,bind:oe,exists:ne,forall:re,filter:function(){return oe()},toArray:function(){return[]},toString:K("none()")}}(),ae=function(e){var t=K(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},isSome:re,isNone:ne,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return ae(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:ie},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},se={some:ae,none:oe,from:function(e){return null===e||e===undefined?ie:ae(e)}},ue=Array.prototype.slice,ce=Array.prototype.indexOf,le=Array.prototype.push,fe=function(e,t){return ce.call(e,t)},de=function(e,t){var n=fe(e,t);return-1===n?se.none():se.some(n)},pe=function(e,t){return fe(e,t)>-1},he=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},me=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},ge=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},ve=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},ye=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},be=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Ce=function(e,t,n){return ve(e,function(e,r){n=t(n,e,r)}),n},we=function(e,t,n){return ge(e,function(e,r){n=t(n,e,r)}),n},xe=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return se.some(i);if(n(i,r))break}return se.none()},Se=function(e,t){return xe(e,t,ne)},Ee=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return se.some(n)}return se.none()},ke=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!F(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);le.apply(t,e[n])}return t},_e=function(e,t){return ke(me(e,t))},Ne=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},Te=function(e){var t=ue.call(e,0);return t.reverse(),t},Ae=function(e,t){return be(e,function(e){return!pe(t,e)})},De=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},Pe=function(e,t){var n=ue.call(e,0);return n.sort(t),n},Re=function(e,t){return t>=0&&t<e.length?se.some(e[t]):se.none()},Oe=function(e){return Re(e,0)},Le=function(e){return Re(e,e.length-1)},Ie=W(Array.from)?Array.from:function(e){return ue.call(e)},Be=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return se.none()},Me=Object.keys,Fe=Object.hasOwnProperty,He=function(e,t){for(var n=Me(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},qe=function(e,t){return je(e,function(e,n){return{k:n,v:t(e,n)}})},je=function(e,t){var n={};return He(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},Ue=function(e){return function(t,n){e[n]=t}},ze=function(e,t,n,r){var o={};return He(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},We=function(e,t){var n={},r={};return ze(e,t,Ue(n),Ue(r)),{t:n,f:r}},Ve=function(e,t){var n={};return ze(e,t,Ue(n),$),n},$e=function(e,t){var n=[];return He(e,function(e,r){n.push(t(e,r))}),n},Xe=function(e){return $e(e,G)},Ye=function(e,t){return Ke(e,t)?se.from(e[t]):se.none()},Ke=function(e,t){return Fe.call(e,t)},Ge=function(e,t){return Ke(e,t)&&e[t]!==undefined&&null!==e[t]},Qe=function(e,t,n){return void 0===n&&(n=P),D(n).eq(e,t)},Je=Array.isArray,Ze=function(e){if(Je(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},et=function(e,t,n){var r,o;if(!e)return!1;if(n=n||e,e.length!==undefined){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(Ke(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0},tt=function(e,t){var n=[];return et(e,function(r,o){n.push(t(r,o,e))}),n},nt=function(e,t){var n=[];return et(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},rt=function(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ot=function(e,t,n,r){for(var o=j(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o},it=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},at=function(e){return e[e.length-1]},st=function(){return(st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ut=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},ct=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),s=a||r("(pointer:coarse)"),u=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!u,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!u&&!l;return{isiPad:K(o),isiPhone:K(i),isTablet:K(u),isPhone:K(c),isTouch:K(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:K(l),isDesktop:K(f)}},lt=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}return undefined},ft=function(e,t){var n=lt(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return ht(r(1),r(2))},dt=function(e,t){var n=String(t).toLowerCase();return 0===e.length?pt():ft(e,n)},pt=function(){return ht(0,0)},ht=function(e,t){return{major:e,minor:t}},mt={nu:ht,detect:dt,unknown:pt},gt=function(e,t){return Be(t.brands,function(t){var n=t.brand.toLowerCase();return Se(e,function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(function(e){return{current:e.name,version:mt.nu(parseInt(t.version,10),0)}})})},vt=function(e,t){var n=String(t).toLowerCase();return Se(e,function(e){return e.search(n)})},yt=function(e,t){return vt(e,t).map(function(e){var n=mt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},bt=function(e,t){return vt(e,t).map(function(e){var n=mt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Ct=function(e,t){return e.substring(t)},wt=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},xt=function(e,t){return Et(e,t)?Ct(e,t.length):e},St=function(e,t){return-1!==e.indexOf(t)},Et=function(e,t){return wt(e,t,0)},kt=function(e){return function(t){return t.replace(e,"")}},_t=kt(/^\s+|\s+$/g),Nt=kt(/^\s+/g),Tt=kt(/\s+$/g),At=function(e){return e.length>0},Dt=function(e){return!At(e)},Pt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Rt=function(e){return function(t){return St(t,e)}},Ot=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return St(e,"edge/")&&St(e,"chrome")&&St(e,"safari")&&St(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Pt],search:function(e){return St(e,"chrome")&&!St(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return St(e,"msie")||St(e,"trident")}},{name:"Opera",versionRegexes:[Pt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Rt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Rt("firefox")},{name:"Safari",versionRegexes:[Pt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(St(e,"safari")||St(e,"mobile/"))&&St(e,"applewebkit")}}],Lt=[{name:"Windows",search:Rt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return St(e,"iphone")||St(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Rt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Rt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Rt("linux"),versionRegexes:[]},{name:"Solaris",search:Rt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Rt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Rt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],It={browsers:K(Ot),oses:K(Lt)},Bt="Edge",Mt="Chrome",Ft="IE",Ht="Opera",qt="Firefox",jt="Safari",Ut=function(){return zt({current:undefined,version:mt.unknown()})},zt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r(Bt),isChrome:r(Mt),isIE:r(Ft),isOpera:r(Ht),isFirefox:r(qt),isSafari:r(jt)}},Wt={unknown:Ut,nu:zt,edge:K(Bt),chrome:K(Mt),ie:K(Ft),opera:K(Ht),firefox:K(qt),safari:K(jt)},Vt="Windows",$t="iOS",Xt="Android",Yt="Linux",Kt="OSX",Gt="Solaris",Qt="FreeBSD",Jt="ChromeOS",Zt=function(){return en({current:undefined,version:mt.unknown()})},en=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Vt),isiOS:r($t),isAndroid:r(Xt),isOSX:r(Kt),isLinux:r(Yt),isSolaris:r(Gt),isFreeBSD:r(Qt),isChromeOS:r(Jt)}},tn={unknown:Zt,nu:en,windows:K(Vt),ios:K($t),android:K(Xt),linux:K(Yt),osx:K(Kt),solaris:K(Gt),freebsd:K(Qt),chromeos:K(Jt)},nn={detect:function(e,t,n){var r=It.browsers(),o=It.oses(),i=t.bind(function(e){return gt(r,e)}).orThunk(function(){return yt(r,e)}).fold(Wt.unknown,Wt.nu),a=bt(o,e).fold(tn.unknown,tn.nu);return{browser:i,os:a,deviceType:ct(a,i,e,n)}}},rn=function(e){return window.matchMedia(e).matches},on=ut(function(){return nn.detect(navigator.userAgent,se.from(navigator.userAgentData),rn)}),an=function(){return on()},sn=navigator.userAgent,un=an(),cn=un.browser,ln=un.os,fn=un.deviceType,dn=/WebKit/.test(sn)&&!cn.isEdge(),pn="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,hn=-1!==sn.indexOf("Windows Phone"),mn={opera:cn.isOpera(),webkit:dn,ie:!(!cn.isIE()&&!cn.isEdge())&&cn.version.major,gecko:cn.isFirefox(),mac:ln.isOSX()||ln.isiOS(),iOS:fn.isiPad()||fn.isiPhone(),android:ln.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:cn.isIE()?document.documentMode||7:10,fileApi:pn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!cn.isIE(),desktop:fn.isDesktop(),windowsPhone:hn,browser:{current:cn.current,version:cn.version,isChrome:cn.isChrome,isEdge:cn.isEdge,isFirefox:cn.isFirefox,isIE:cn.isIE,isOpera:cn.isOpera,isSafari:cn.isSafari},os:{current:ln.current,version:ln.version,isAndroid:ln.isAndroid,isChromeOS:ln.isChromeOS,isFreeBSD:ln.isFreeBSD,isiOS:ln.isiOS,isLinux:ln.isLinux,isOSX:ln.isOSX,isSolaris:ln.isSolaris,isWindows:ln.isWindows},deviceType:{isDesktop:fn.isDesktop,isiPad:fn.isiPad,isiPhone:fn.isiPhone,isPhone:fn.isPhone,isTablet:fn.isTablet,isTouch:fn.isTouch,isWebView:fn.isWebView}},gn=/^\s*|\s*$/g,vn=function(e){return null===e||e===undefined?"":(""+e).replace(gn,"")},yn=function(e,t){return t?!("array"!==t||!Je(e))||typeof e===t:e!==undefined},bn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),et(e,function(e,o){if(!1===t.call(r,e,o,n))return!1;bn(e,t,n,r)}))},Cn={trim:vn,isArray:Je,is:yn,toArray:Ze,makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:et,map:tt,grep:nt,inArray:rt,hasOwn:Ke,extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)if(Ke(o,i)){var a=o[i];a!==undefined&&(e[i]=a)}}return e},create:function(e,t,n){var r,o,i,a=this,s=0,u=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!c[u]){if("static"===e[2])return c[u]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[u]));t[u]||(t[u]=function(){},s=1),c[u]=t[u],a.extend(c[u].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=c[u],c[u]=s?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[u].prototype[u]=c[u],a.each(r,function(e,t){c[u].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?c[u].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==u&&(c[u].prototype[t]=e)})),a.each(t["static"],function(e,t){c[u][t]=e})}},walk:bn,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||yn(e,"array")?e:tt(e.split(t||","),vn)},_addCacheSuffix:function(e){var t=mn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},wn=function(e,t){var n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return En(n.childNodes[0])},xn=function(e,t){var n=(t||document).createElement(e);return En(n)},Sn=function(e,t){var n=(t||document).createTextNode(e);return En(n)},En=function(e){if(null===e||e===undefined)throw new Error("Node cannot be null or undefined");return{dom:e}},kn={fromHtml:wn,fromTag:xn,fromText:Sn,fromDom:En,fromPoint:function(e,t,n){return se.from(e.dom.elementFromPoint(t,n)).map(En)}},_n=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},Nn=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},Tn=function(e,t){return Nn(e,t,Node.DOCUMENT_POSITION_CONTAINED_BY)},An=8,Dn=9,Pn=11,Rn=1,On=3,Ln=function(e,t){var n=e.dom;if(n.nodeType!==Rn)return!1;var r=n;if(r.matches!==undefined)return r.matches(t);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},In=function(e){return e.nodeType!==Rn&&e.nodeType!==Dn&&e.nodeType!==Pn||0===e.childElementCount},Bn=function(e,t){var n=t===undefined?document:t.dom;return In(n)?[]:me(n.querySelectorAll(e),kn.fromDom)},Mn=function(e,t){var n=t===undefined?document:t.dom;return In(n)?se.none():se.from(n.querySelector(e)).map(kn.fromDom)},Fn=function(e,t){return e.dom===t.dom},Hn=function(e,t){var n=e.dom,r=t.dom;return n!==r&&n.contains(r)},qn=function(e,t){return Tn(e.dom,t.dom)},jn=function(e,t){return an().browser.isIE()?qn(e,t):Hn(e,t)};"undefined"!=typeof window?window:Function("return this;")();var Un=function(e){return e.dom.nodeName.toLowerCase()},zn=function(e){return e.dom.nodeType},Wn=function(e){return function(t){return zn(t)===e}},Vn=function(e){return zn(e)===An||"#comment"===Un(e)},$n=Wn(Rn),Xn=Wn(On),Yn=Wn(Dn),Kn=Wn(Pn),Gn=function(e){return function(t){return $n(t)&&Un(t)===e}},Qn=function(e){return kn.fromDom(e.dom.ownerDocument)},Jn=function(e){return Yn(e)?e:Qn(e)},Zn=function(e){return kn.fromDom(Jn(e).dom.documentElement)},er=function(e){return kn.fromDom(Jn(e).dom.defaultView)},tr=function(e){return se.from(e.dom.parentNode).map(kn.fromDom)},nr=function(e,t){for(var n=W(t)?t:ne,r=e.dom,o=[];null!==r.parentNode&&r.parentNode!==undefined;){var i=r.parentNode,a=kn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},rr=function(e){var t=function(t){return be(t,function(t){return!Fn(e,t)})};return tr(e).map(ur).map(t).getOr([])},or=function(e){return se.from(e.dom.previousSibling).map(kn.fromDom)},ir=function(e){return se.from(e.dom.nextSibling).map(kn.fromDom)},ar=function(e){return Te(_n(e,or))},sr=function(e){return _n(e,ir)},ur=function(e){return me(e.dom.childNodes,kn.fromDom)},cr=function(e,t){var n=e.dom.childNodes;return se.from(n[t]).map(kn.fromDom)},lr=function(e){return cr(e,0)},fr=function(e){return cr(e,e.dom.childNodes.length-1)},dr=function(e){return e.dom.childNodes.length},pr=function(e){var t=e.dom.head;if(null===t||t===undefined)throw new Error("Head is not available yet");return kn.fromDom(t)},hr=function(e){return Kn(e)&&z(e.dom.host)},mr=W(Element.prototype.attachShadow)&&W(Node.prototype.getRootNode),gr=K(mr),vr=mr?function(e){return kn.fromDom(e.dom.getRootNode())}:Jn,yr=function(e){return hr(e)?e:pr(Jn(e))},br=function(e){var t=vr(e);return hr(t)?se.some(t):se.none()},Cr=function(e){return kn.fromDom(e.dom.host)},wr=function(e){if(gr()&&z(e.target)){var t=kn.fromDom(e.target);if($n(t)&&xr(t)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return Oe(n)}}return se.from(e.target)},xr=function(e){return z(e.dom.shadowRoot)},Sr=function(e,t){tr(e).each(function(n){n.dom.insertBefore(t.dom,e.dom)})},Er=function(e,t){ir(e).fold(function(){tr(e).each(function(e){_r(e,t)})},function(e){Sr(e,t)})},kr=function(e,t){lr(e).fold(function(){_r(e,t)},function(n){e.dom.insertBefore(t.dom,n.dom)})},_r=function(e,t){e.dom.appendChild(t.dom)},Nr=function(e,t){Sr(e,t),_r(t,e)},Tr=function(e,t){ge(t,function(t){Sr(e,t)})},Ar=function(e,t){ge(t,function(t){_r(e,t)})},Dr=function(e){e.dom.textContent="",ge(ur(e),function(e){Pr(e)})},Pr=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Rr=function(e){var t=ur(e);t.length>0&&Tr(e,t),Pr(e)},Or=function(e){var t=Xn(e)?e.dom.parentNode:e.dom;if(t===undefined||null===t||null===t.ownerDocument)return!1;var n=t.ownerDocument;return br(kn.fromDom(t)).fold(function(){return n.body.contains(t)},Y(Or,Cr))},Lr=function(e,t){return{left:e,top:t,translate:function(n,r){return Lr(e+n,t+r)}}},Ir=Lr,Br=function(e){var t=e.getBoundingClientRect();return Ir(t.left,t.top)},Mr=function(e,t){return e!==undefined?e:t!==undefined?t:0},Fr=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Ir(n.offsetLeft,n.offsetTop);var i=Mr(null==r?void 0:r.pageYOffset,o.scrollTop),a=Mr(null==r?void 0:r.pageXOffset,o.scrollLeft),s=Mr(o.clientTop,n.clientTop),u=Mr(o.clientLeft,n.clientLeft);return Hr(e).translate(a-u,i-s)},Hr=function(e){var t=e.dom,n=t.ownerDocument.body;return n===t?Ir(n.offsetLeft,n.offsetTop):Or(e)?Br(t):Ir(0,0)},qr=function(e){var t=e!==undefined?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Ir(n,r)},jr=function(e,t,n){var r=(n!==undefined?n.dom:document).defaultView;r&&r.scrollTo(e,t)},Ur=function(e,t){an().browser.isSafari()&&W(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},zr=function(e){var t=e===undefined?window:e;return an().browser.isFirefox()?se.none():se.from(t.visualViewport)},Wr=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Vr=function(e){var t=e===undefined?window:e,n=t.document,r=qr(kn.fromDom(n));return zr(t).fold(function(){var e=t.document.documentElement,n=e.clientWidth,o=e.clientHeight;return Wr(r.left,r.top,n,o)},function(e){return Wr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)})},$r=function(e){return function(t){return!!t&&t.nodeType===e}},Xr=function(e){return!!e&&!Object.getPrototypeOf(e)},Yr=$r(1),Kr=function(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return pe(t,n)}return!1}},Gr=function(e,t){var n=t.toLowerCase().split(" ");return function(t){if(Yr(t))for(var r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},Qr=function(e){return function(t){return Yr(t)&&t.hasAttribute(e)}},Jr=function(e,t){return function(n){return Yr(n)&&n.getAttribute(e)===t}},Zr=function(e){return Yr(e)&&e.hasAttribute("data-mce-bogus")},eo=function(e){return Yr(e)&&"all"===e.getAttribute("data-mce-bogus")},to=function(e){return Yr(e)&&"TABLE"===e.tagName},no=function(e){return function(t){if(Yr(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},ro=Kr(["textarea","input"]),oo=$r(3),io=$r(8),ao=$r(9),so=$r(11),uo=Kr(["br"]),co=Kr(["img"]),lo=no("true"),fo=no("false"),po=Kr(["td","th"]),ho=Kr(["video","audio","object","embed"]),mo=function(e,t,n){return void 0===n&&(n=Q),e.exists(function(e){return n(e,t)})},go=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},vo=function(e,t,n){return e.isSome()&&t.isSome()?se.some(n(e.getOrDie(),t.getOrDie())):se.none()},yo=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?se.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):se.none()},bo=function(e,t){return e?se.some(t):se.none()},Co=function(e){return e.style!==undefined&&W(e.style.getPropertyValue)},wo=function(e,t,n){if(!(B(n)||q(n)||V(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},xo=function(e,t,n){wo(e.dom,t,n)},So=function(e,t){var n=e.dom;He(t,function(e,t){wo(n,t,e)})},Eo=function(e,t){var n=e.dom.getAttribute(t);return null===n?undefined:n},ko=function(e,t){return se.from(Eo(e,t))},_o=function(e,t){var n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},No=function(e,t){e.dom.removeAttribute(t)},To=function(e){return we(e.dom.attributes,function(e,t){return e[t.name]=t.value,e},{})},Ao=function(e,t,n){if(!B(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Co(e)&&e.style.setProperty(t,n)},Do=function(e,t){var n=e.dom;He(t,function(e,t){Ao(n,t,e)})},Po=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||Or(e)?r:Ro(n,t)},Ro=function(e,t){return Co(e)?e.style.getPropertyValue(t):""},Oo=function(e,t){var n=e.dom,r=Ro(n,t);return se.from(r).filter(function(e){return e.length>0})},Lo=function(e){var t={},n=e.dom;if(Co(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},Io=function(e){return e.dom.offsetWidth},Bo=an().browser,Mo=function(e){return Se(e,$n)},Fo=function(e){return Bo.isFirefox()&&"table"===Un(e)?Mo(ur(e)).filter(function(e){return"caption"===Un(e)}).bind(function(e){return Mo(sr(e)).map(function(t){var n=t.dom.offsetTop,r=e.dom.offsetTop,o=e.dom.offsetHeight;return n<=r?-o:0})}).getOr(0):0},Ho=function(e,t){return e.children&&pe(e.children,t)},qo=function(e,t,n){var r=0,o=0,i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Po(kn.fromDom(e),"position")){var a=t.getBoundingClientRect();return{x:r=a.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,y:o=a.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop}}for(var s=t;s&&s!==n&&s.nodeType&&!Ho(s,n);){var u=s;r+=u.offsetLeft||0,o+=u.offsetTop||0,s=u.offsetParent}for(s=t.parentNode;s&&s!==n&&s.nodeType&&!Ho(s,n);)r-=s.scrollLeft||0,o-=s.scrollTop||0,s=s.parentNode;o+=Fo(kn.fromDom(t))}return{x:r,y:o}},jo={},Uo={exports:jo};!function(e,t,n){!function(r,o){"object"==typeof t&&void 0!==n?n.exports=o():"function"==typeof e&&e.amd?e(o):(r="undefined"!=typeof globalThis?globalThis:r||self).EphoxContactWrapper=o()}(this,function(){var e,t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={exports:{}};e=n,function(t){function n(){}function r(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],l(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(o){return void s(t.promise,o)}a(t.promise,r)}else(1===e._state?a:s)(t.promise,e._value)})):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void l(r(n,t),e)}e._state=1,e._value=t,u(e)}catch(i){s(e,i)}}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(r){if(n)return;n=!0,s(t,r)}}var f=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var r=new this.constructor(n);return i(this,new c(e,t,r)),r},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(u){n(u)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){f(e,0)},o._unhandledRejectionFn=function(e){
"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},o._setImmediateFn=function(e){o._immediateFn=e},o._setUnhandledRejectionFn=function(e){o._unhandledRejectionFn=e},e.exports?e.exports=o:t.Promise||(t.Promise=o)}(t);var r=n.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||r}})}(undefined,jo,Uo);var zo=Uo.exports.boltExport,Wo=function(e){var t=se.none(),n=[],r=function(e){return Wo(function(t){o(function(n){t(e(n))})})},o=function(e){a()?u(e):n.push(e)},i=function(e){a()||(t=se.some(e),s(n),n=[])},a=function(){return t.isSome()},s=function(e){ge(e,u)},u=function(e){t.each(function(t){setTimeout(function(){e(t)},0)})};return e(i),{get:o,map:r,isReady:a}},Vo={nu:Wo,pure:function(e){return Wo(function(t){t(e)})}},$o=function(e){setTimeout(function(){throw e},0)},Xo=function(e){var t=function(t){e().then(t,$o)};return{map:function(t){return Xo(function(){return e().then(t)})},bind:function(t){return Xo(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return Xo(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return Vo.nu(t)},toCached:function(){var t=null;return Xo(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},Yo={nu:function(e){return Xo(function(){return new zo(e)})},pure:function(e){return Xo(function(){return zo.resolve(e)})}},Ko=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}};0===e.length?t([]):ge(e,function(e,t){e.get(o(t))})})},Go=function(e){return Ko(e,Yo.nu)},Qo=function(e){var t=function(){return Qo(e)},n=function(){return Qo(e)},r=function(t){return Qo(t(e))},o=function(){return Qo(e)},i=function(t){t(e)},a=function(t){return t(e)},s=function(t,n){return n(e)},u=function(t){return t(e)},c=function(t){return t(e)},l=function(){return se.some(e)};return{isValue:re,isError:ne,getOr:K(e),getOrThunk:K(e),getOrDie:K(e),or:t,orThunk:n,fold:s,map:r,mapError:o,each:i,bind:a,exists:u,forall:c,toOptional:l}},Jo=function(e){return{isValue:ne,isError:re,getOr:G,getOrThunk:function(e){return e()},getOrDie:function(){return Z(String(e))()},or:G,orThunk:function(e){return e()},fold:function(t){return t(e)},map:function(){return Jo(e)},mapError:function(t){return Jo(t(e))},each:$,bind:function(){return Jo(e)},exists:ne,forall:re,toOptional:se.none}},Zo={value:Qo,error:Jo,fromOption:function(e,t){return e.fold(function(){return Jo(t)},Qo)}},ei={generate:function(e){if(!F(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return ge(e,function(r,o){var i=Me(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],s=r[a];if(n[a]!==undefined)throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!F(s))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.length;if(i!==s.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+s.length+" ("+s+"), got "+i);return{fold:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,n)},match:function(e){var r=Me(e);if(t.length!==r.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+r.join(","));if(!Ne(t,function(e){return pe(r,e)}))throw new Error("Not all branches were specified when using match. Specified: "+r.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,n)},log:function(e){console.log(e,{constructors:t,constructor:a,params:n})}}}}),n}};ei.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var ti,ni,ri,oi,ii,ai,si,ui,ci,li,fi,di,pi,hi,mi,gi,vi,yi,bi,Ci=function(e){return e.fold(G,G)},wi=function(e,t,n){for(var r=e.dom,o=W(n)?n:ne;r.parentNode;){r=r.parentNode;var i=kn.fromDom(r);if(t(i))return se.some(i);if(o(i))break}return se.none()},xi=function(e,t,n){return r(function(e,t){return t(e)},wi,e,t,n)},Si=function(e,t){var n=e.dom;return n.parentNode?Ei(kn.fromDom(n.parentNode),function(n){return!Fn(e,n)&&t(n)}):se.none()},Ei=function(e,t){var n=function(e){return t(kn.fromDom(e))};return Se(e.dom.childNodes,n).map(kn.fromDom)},ki=function(e,t,n){return wi(e,function(e){return Ln(e,t)},n)},_i=function(e,t){return Mn(t,e)},Ni=function(e,t,n){return r(function(e,t){return Ln(e,t)},ki,e,t,n)},Ti=window.Promise?window.Promise:zo,Ai=function(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=function(e){window.setTimeout(e,0)},i=0;i<r.length&&!n;i++)n=window[r[i]+"RequestAnimationFrame"];n||(n=o),n(e,t)},Di=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Pi=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Ri=function(e,t){var n,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=Di(function(){e.apply(this,r)},t)};return r.stop=function(){clearTimeout(n)},r},Oi={requestAnimationFrame:function(e,t){ti?ti.then(e):ti=new Ti(function(e){t||(t=document.body),Ai(e,t)}).then(e)},setTimeout:Di,setInterval:Pi,setEditorTimeout:function(e,t,n){return Di(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=Pi(function(){e.removed?clearInterval(r):t()},n);return r},debounce:Ri,throttle:Ri,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},Li=function(e,t){void 0===t&&(t={});var n=0,r={},o=kn.fromDom(e),i=Jn(o),a=t.maxLoadTime||5e3,s=function(e){_r(yr(o),e)},u=function(e){var t=yr(o);_i(t,"#"+e).each(Pr)},c=function(e){return Ye(r,e).getOrThunk(function(){return{id:"mce-u"+n++,passed:[],failed:[],count:0}})},l=function(n,o,u){var l,f=Cn._addCacheSuffix(n),d=c(f);r[f]=d,d.count++;var p=function(e,t){for(var n=e.length;n--;)e[n]();d.status=t,d.passed=[],d.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},h=function(){return p(d.passed,2)},m=function(){return p(d.failed,3)},g=function(e,t){e()||(Date.now()-b<a?Oi.setTimeout(t):m())},v=function(){g(function(){for(var t=e.styleSheets,n=t.length;n--;){var r=t[n].ownerNode;if(r&&r.id===l.id)return h(),!0}return!1},v)};if(o&&d.passed.push(o),u&&d.failed.push(u),1!==d.status)if(2!==d.status)if(3!==d.status){d.status=1;var y=kn.fromTag("link",i.dom);So(y,{rel:"stylesheet",type:"text/css",id:d.id});var b=Date.now();t.contentCssCors&&xo(y,"crossOrigin","anonymous"),t.referrerPolicy&&xo(y,"referrerpolicy",t.referrerPolicy),(l=y.dom).onload=v,l.onerror=m,s(y),xo(y,"href",f)}else m();else h()},f=function(e){return Yo.nu(function(t){l(e,X(t,K(Zo.value(e))),X(t,K(Zo.error(e))))})},d=function(e){var t=Cn._addCacheSuffix(e);Ye(r,t).each(function(e){0===--e.count&&(delete r[t],u(e.id))})};return{load:l,loadAll:function(e,t,n){Go(me(e,f)).get(function(e){var r=ye(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(Ci)):t(r.pass.map(Ci))})},unload:d,unloadAll:function(e){ge(e,function(e){d(e)})},_setReferrerPolicy:function(e){t.referrerPolicy=e}}},Ii=function(){var e=new WeakMap;return{forElement:function(t,n){var r=vr(t).dom;return se.from(e.get(r)).getOrThunk(function(){var t=Li(r,n);return e.set(r,t),t})}}}(),Bi=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),Mi=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Fi=["td","th"],Hi=["thead","tbody","tfoot"],qi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ji=["li","dd","dt"],Ui=["ul","ol","dl"],zi=["pre","script","textarea","style"],Wi=function(e){var t;return function(n){return t=t||De(e,re),Ke(t,Un(n))}},Vi=Wi(["h1","h2","h3","h4","h5","h6"]),$i=Wi(Mi),Xi=function(e){return"table"===Un(e)},Yi=function(e){return $n(e)&&!$i(e)},Ki=function(e){return $n(e)&&"br"===Un(e)},Gi=Wi(qi),Qi=Wi(Ui),Ji=Wi(ji),Zi=Wi(Hi),ea=Wi(Fi),ta=Wi(zi),na=function(e,t,n){return ki(e,t,n).isSome()},ra="\ufeff",oa="\xa0",ia=ra,aa=function(e){return e===ra},sa=function(e){return e.replace(/\uFEFF/g,"")},ua=Yr,ca=oo,la=function(e){return ca(e)&&(e=e.parentNode),ua(e)&&e.hasAttribute("data-mce-caret")},fa=function(e){return ca(e)&&aa(e.data)},da=function(e){return la(e)||fa(e)},pa=function(e){return e.firstChild!==e.lastChild||!uo(e.firstChild)},ha=function(e,t){var n=e.ownerDocument.createTextNode(ia),r=e.parentNode;if(t){o=e.previousSibling;if(ca(o)){if(da(o))return o;if(Ca(o))return o.splitText(o.data.length-1)}r.insertBefore(n,e)}else{var o=e.nextSibling;if(ca(o)){if(da(o))return o;if(ba(o))return o.splitText(1),o}e.nextSibling?r.insertBefore(n,e.nextSibling):r.appendChild(n)}return n},ma=function(e){var t=e.container();return!!oo(t)&&(t.data.charAt(e.offset())===ia||e.isAtStart()&&fa(t.previousSibling))},ga=function(e){var t=e.container();return!!oo(t)&&(t.data.charAt(e.offset()-1)===ia||e.isAtEnd()&&fa(t.nextSibling))},va=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},ya=function(e,t,n){var r=t.ownerDocument.createElement(e);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(va());var o=t.parentNode;return n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r},ba=function(e){return ca(e)&&e.data[0]===ia},Ca=function(e){return ca(e)&&e.data[e.data.length-1]===ia},wa=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Zr(n)&&n.parentNode.removeChild(n)},xa=function(e){return e&&e.hasAttribute("data-mce-caret")?(wa(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Sa=function(e){return la(e.startContainer)},Ea=lo,ka=fo,_a=uo,Na=oo,Ta=Kr(["script","style","textarea"]),Aa=Kr(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Da=Kr(["table"]),Pa=da,Ra=function(e){return!Pa(e)&&(Na(e)?!Ta(e.parentNode):Aa(e)||_a(e)||Da(e)||La(e))},Oa=function(e){return Yr(e)&&"true"===e.getAttribute("unselectable")},La=function(e){return!1===Oa(e)&&ka(e)},Ia=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(La(e))return!1;if(Ea(e))return!0}return!0},Ba=function(e){return!!La(e)&&!0!==we(Ie(e.getElementsByTagName("*")),function(e,t){return e||Ea(t)},!1)},Ma=function(e){return Aa(e)||Ba(e)},Fa=function(e,t){return Ra(e)&&Ia(e,t)},Ha=/^[ \t\r\n]*$/,qa=function(e){return Ha.test(e)},ja=function(t,n){var r=kn.fromDom(n),o=kn.fromDom(t);return na(o,"pre,code",e(Fn,r))},Ua=function(e,t){return oo(e)&&qa(e.data)&&!1===ja(e,t)},za=function(e){return Yr(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},Wa=function(e,t){return Ra(e)&&!1===Ua(e,t)||za(e)||Va(e)},Va=Qr("data-mce-bookmark"),$a=Qr("data-mce-bogus"),Xa=Jr("data-mce-bogus","all"),Ya=function(e,t){var n=0;if(Wa(e,e))return!1;var r=e.firstChild;if(!r)return!0;var o=new Bi(r,e);do{if(t){if(Xa(r)){r=o.next(!0);continue}if($a(r)){r=o.next();continue}}if(uo(r))n++,r=o.next();else{if(Wa(r,e))return!1;r=o.next()}}while(r);return n<=1},Ka=function(e,t){return void 0===t&&(t=!0),Ya(e.dom,t)},Ga=function(e){return"span"===e.nodeName.toLowerCase()},Qa=function(e,t){return z(e)&&(Wa(e,t)||Yi(kn.fromDom(e)))},Ja=function(e,t){var n=new Bi(e,t).prev(!1),r=new Bi(e,t).next(!1),o=j(n)||Qa(n,t),i=j(r)||Qa(r,t);return o&&i},Za=function(e){return Ga(e)&&"bookmark"===e.getAttribute("data-mce-type")},es=function(e,t){return oo(e)&&e.data.length>0&&Ja(e,t)},ts=function(e){return!!Yr(e)&&e.childNodes.length>0},ns=function(e){return so(e)||ao(e)},rs=function(e,t,n){var r=n||t;if(Yr(t)&&Za(t))return t;for(var o=t.childNodes,i=o.length-1;i>=0;i--)rs(e,o[i],r);if(Yr(t)){var a=t.childNodes;1===a.length&&Za(a[0])&&t.parentNode.insertBefore(a[0],t)}return ns(t)||Wa(t,r)||ts(t)||es(t,r)||e.remove(t),t},os=Cn.makeMap,is=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,as=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ss=/[<>&\"\']/g,us=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,cs={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},ls={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},fs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ds=function(e){var t=kn.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},ps=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),ls[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}},hs=ps("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ms=function(e,t){return e.replace(t?is:as,function(e){return ls[e]||e})},gs=function(e,t){return e.replace(t?is:as,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":ls[e]||"&#"+e.charCodeAt(0)+";"})},vs=function(e,t,n){return n=n||hs,e.replace(t?is:as,function(e){return ls[e]||n[e]||e})},ys={encodeRaw:ms,encodeAllRaw:function(e){return(""+e).replace(ss,function(e){return ls[e]||e})},encodeNumeric:gs,encodeNamed:vs,getEncodeFunc:function(e,t){var n=ps(t)||hs,r=function(e,t){return e.replace(t?is:as,function(e){return ls[e]!==undefined?ls[e]:n[e]!==undefined?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return vs(e,t,n)},i=os(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:vs:i.numeric?gs:ms},decode:function(e){return e.replace(us,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):cs[t]||String.fromCharCode(t):fs[e]||hs[e]||ds(e)})}},bs={},Cs={},ws=Cn.makeMap,xs=Cn.each,Ss=Cn.extend,Es=Cn.explode,ks=Cn.inArray,_s=function(e,t){return(e=Cn.trim(e))?e.split(t||" "):[]},Ns=function(e){var t,n,r,o,i,a,s={},u=function(e,n,r){var o,i,a,u=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};n=n||"","string"==typeof(r=r||[])&&(r=_s(r));var c=_s(e);for(o=c.length;o--;)a={attributes:u(i=_s([t,n].join(" "))),attributesOrder:i,children:u(r,Cs)},s[c[o]]=a},c=function(e,t){var n,r,o,i,a=_s(e);n=a.length;for(var u=_s(t);n--;)for(r=s[a[n]],o=0,i=u.length;o<i;o++)r.attributes[u[o]]={},r.attributesOrder.push(u[o])};return bs[e]?bs[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),xs(_s(a),function(e){u(e,"",r)}),n=[n,i="center dir isindex noframes"].join(" "),o=[n,r].join(" "),xs(_s(i),function(e){u(e,"",o)})),o=o||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),u("address dt dd div caption","",o),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",o),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",o),u("dl","","dt dd"),u("a","href target rel media hreflang type",r),u("q","cite",r),u("ins del","cite datetime",o),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",o),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),u("param","name value"),u("map","name",[o,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",o),u("th","colspan rowspan headers scope abbr",o),u("form","accept-charset action autocomplete enctype method name novalidate target",o),u("fieldset","disabled form name",[o,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[o,"li"].join(" ")),u("noscript","",o),"html4"!==e&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",o),u("mark rt rp summary bdi","",r),u("canvas","width height",o),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside main header footer","",o),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[o,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",o),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[o,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),xs(_s("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,bs[e]=s,s)},Ts=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),xs(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?ws(e,/[, ]/):Es(e,/[, ]/)})),n},As=function(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=ws(o,/[, ]/,ws(o.toUpperCase(),/[, ]/)):(o=bs[t])||(o=ws(n," ",ws(n.toUpperCase()," ")),o=Ss(o,r),bs[t]=o),o},s=Ns((e=e||{}).schema);!1===e.verify_html&&(e.valid_elements="*[*]");var u=Ts(e.valid_styles),c=Ts(e.invalid_styles,"map"),l=Ts(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m="td th iframe video audio object script code",g=a("non_empty_elements",m+" pre",p),v=a("move_caret_before_on_enter_elements",m+" table",p),y=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",y),C=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");xs((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var n,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b,C,x=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,S=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(e){var k=_s(e,",");for(t["@"]&&(y=t["@"].attributes,b=t["@"].attributesOrder),n=0,o=k.length;n<o;n++)if(s=x.exec(k[n])){if(g=s[1],f=s[2],v=s[3],l=s[5],u={attributes:h={},attributesOrder:m=[]},"#"===g&&(u.paddEmpty=!0),"-"===g&&(u.removeEmpty=!0),"!"===s[4]&&(u.removeEmptyAttrs=!0),y&&(He(y,function(e,t){h[t]=e}),m.push.apply(m,b)),l)for(i=0,a=(l=_s(l,"|")).length;i<a;i++)if(s=S.exec(l[i])){if(c={},p=s[1],d=s[2].replace(/[\\:]:/g,":"),g=s[3],C=s[4],"!"===p&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(d),c.required=!0),"-"===p){delete h[d],m.splice(ks(m,d),1);continue}g&&("="===g&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:d,value:C}),c.defaultValue=C),":"===g&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:d,value:C}),c.forcedValue=C),"<"===g&&(c.validValues=ws(C,"?"))),E.test(d)?(u.attributePatterns=u.attributePatterns||[],c.pattern=w(d),u.attributePatterns.push(c)):(h[d]||m.push(d),h[d]=c)}y||"@"!==f||(y=h,b=m),v&&(u.outputName=f,t[v]=u),E.test(f)?(u.pattern=w(f),r.push(u)):t[f]=u}}},S=function(e){t={},r=[],x(e),xs(s,function(e,t){n[t]=e.children})},E=function(e){var r=/^(~)?(.+)$/;e&&(bs.text_block_elements=bs.block_elements=null,xs(_s(e,","),function(e){var i=r.exec(e),a="~"===i[1],s=a?"span":"div",u=i[2];if(n[u]=n[s],o[u]=s,a||(b[u.toUpperCase()]={},b[u]={}),!t[u]){var c=t[s];delete(c=Ss({},c)).removeEmptyAttrs,delete c.removeEmpty,t[u]=c}xs(n,function(e,t){e[s]&&(n[t]=e=Ss({},n[t]),e[u]=e[s])})}))},k=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;bs[e.schema]=null,t&&xs(_s(t,","),function(e){var t,o,i=r.exec(e);i&&(o=i[1],t=o?n[i[2]]:n[i[2]]={"#comment":{}},t=n[i[2]],xs(_s(i[3],"|"),function(e){"-"===o?delete t[e]:t[e]={}}))})},_=function(e){var n,o=t[e];if(o)return o;for(n=r.length;n--;)if((o=r[n]).pattern.test(e))return o};e.valid_elements?S(e.valid_elements):(xs(s,function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children}),"html5"!==e.schema&&xs(_s("strong/b em/i"),function(e){var n=_s(e,"/");t[n[1]].outputName=n[0]}),xs(_s("ol ul sub sup blockquote span font a table tbody strong em b i"),function(e){t[e]&&(t[e].removeEmpty=!0)}),xs(_s("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){t[e].paddEmpty=!0}),xs(_s("span"),function(e){t[e].removeEmptyAttrs=!0})),E(e.custom_elements),k(e.valid_children),x(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),xs({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){t[n]&&(t[n].parentsRequired=_s(e))}),e.invalid_elements&&xs(Es(e.invalid_elements),function(e){t[e]&&delete t[e]}),_("span")||x("span[!data-mce-type|*]");var N=K(u),T=K(c),A=K(l),D=K(h),P=K(b),R=K(y),O=K(C),L=K(p),I=K(d),B=K(g),M=K(v),F=K(f),H=K(i),q=function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},j=function(e,t){var n,r,o=_(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},U=K(o);return{children:n,elements:t,getValidStyles:N,getValidClasses:A,getBlockElements:P,getInvalidStyles:T,getShortEndedElements:L,getTextBlockElements:R,getTextInlineElements:O,getBoolAttrs:D,getElementRule:_,getSelfClosingElements:I,getNonEmptyElements:B,getMoveCaretBeforeOnEnterElements:M,getWhiteSpaceElements:F,getSpecialElements:H,isValidChild:q,isValid:j,getCustomElements:U,addValidElements:x,setValidElements:S,addCustomElements:E,addValidChildren:k}},Ds=function(e,t,n,r){var o=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Ps=function(e,t){var n,r,o,i=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,l={},f=ra;e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles());var d=("\\\" \\' \\; \\: ; : "+f).split(" ");for(n=0;n<d.length;n++)l[d[n]]=f+n,l[f+n]=d[n];return{toHex:function(e){return e.replace(a,Ds)},parse:function(t){var r,o,d,p,h={},m=e.url_converter,g=e.url_converter_scope||i,v=function(e,t,r){var o=h[e+"-top"+t];if(o){var i=h[e+"-right"+t];if(i){var a=h[e+"-bottom"+t];if(a){var s=h[e+"-left"+t];if(s){var u=[o,i,a,s];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&r||(h[e+t]=-1===n?u[0]:u.join(" "),delete h[e+"-top"+t],delete h[e+"-right"+t],delete h[e+"-bottom"+t],delete h[e+"-left"+t])}}}}},y=function(e){var t,n=h[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return h[e]=n[0],!0}},b=function(e,t,n,r){y(t)&&y(n)&&y(r)&&(h[e]=h[t]+" "+h[n]+" "+h[r],delete h[t],delete h[n],delete h[r])},C=function(e){return p=!0,l[e]},w=function(e,t){return p&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},S=function(e){return e.replace(/\\[0-9a-f]+/gi,x)},E=function(t,n,r,o,i,a){if(i=i||a)return"'"+(i=w(i)).replace(/\'/g,"\\'")+"'";if(n=w(n||r||o),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return m&&(n=m.call(g,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,C)});r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(c,"").toLowerCase(),d=r[2].replace(c,""),o&&d){if(o=S(o),d=S(d),-1!==o.indexOf(f)||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===o&&"700"===d?d="bold":"color"!==o&&"background-color"!==o||(d=d.toLowerCase()),d=(d=d.replace(a,Ds)).replace(s,E),h[o]=p?w(d,!0):d}v("border","",!0),v("border","-width"),v("border","-color"),v("border","-style"),v("padding",""),v("margin",""),b("border","border-width","border-style","border-color"),"medium none"===h.border&&delete h.border,"none"===h["border-image"]&&delete h["border-image"]}return h},serialize:function(e,t){var n="",i=function(t){var o,i=r[t];if(i)for(var a=0,s=i.length;a<s;a++)t=i[a],(o=e[t])&&(n+=(n.length>0?" ":"")+t+": "+o+";")},a=function(e,t){var n=o["*"]
;return(!n||!n[e])&&!((n=o[t])&&n[e])};return t&&r?(i("*"),i(t)):He(e,function(e,r){!e||o&&!a(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")}),n}}},Rs={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Os=function(e){return e instanceof Event||W(e.initEvent)},Ls=function(e){return e.isDefaultPrevented===re||e.isDefaultPrevented===ne},Is=function(e){return U(e.preventDefault)||Os(e)},Bs=function(e,t){var n=null!=t?t:{};for(var r in e)Ke(Rs,r)||(n[r]=e[r]);return z(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n},Ms=function(e,t,n,r){var o,i=Bs(t,r);return i.type=e,U(i.target)&&(i.target=null!==(o=i.srcElement)&&void 0!==o?o:n),Is(t)&&(i.preventDefault=function(){i.defaultPrevented=!0,i.isDefaultPrevented=re,W(t.preventDefault)?t.preventDefault():Os(t)&&(t.returnValue=!1)},i.stopPropagation=function(){i.cancelBubble=!0,i.isPropagationStopped=re,W(t.stopPropagation)?t.stopPropagation():Os(t)&&(t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=re,i.stopPropagation()},Ls(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?re:ne,i.isPropagationStopped=!0===i.cancelBubble?re:ne,i.isImmediatePropagationStopped=ne)),i},Fs="mce-data-",Hs=/^(?:mouse|contextmenu)|click/,qs=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},js=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Us=function(e){return z(e)&&Hs.test(e.type)},zs=function(e,t){var n=Ms(e.type,e,document,t);if(Us(e)&&j(e.pageX)&&!j(e.clientX)){var r=n.target.ownerDocument||document,o=r.documentElement,i=r.body,a=n;a.pageX=e.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),a.pageY=e.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)}return j(n.metaKey)&&(n.metaKey=!1),n},Ws=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)t(o);else{var i=function(){js(e,"DOMContentLoaded",i),js(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};(function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body})()?i():qs(e,"DOMContentLoaded",i),n.domLoaded||qs(e,"load",i)}},Vs=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Fs+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(e,t,n,r){var o,i,a,s,u,c,l,f=this,d=window,p=function(e){f.executeHandlers(zs(e||d.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?o=e[f.expando]:(o=f.count++,e[f.expando]=o,f.events[o]={}),r=r||e;var h=t.split(" ");for(a=h.length;a--;)c=p,u=l=!1,"DOMContentLoaded"===(s=h[a])&&(s="ready"),f.domLoaded&&"ready"===s&&"complete"===e.readyState?n.call(r,zs({type:s})):(f.hasMouseEnterLeave||(u=f.mouseEnterLeave[s])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=zs(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,o))}),f.hasFocusIn||"focusin"!==s&&"focusout"!==s||(l=!0,u="focusin"===s?"focus":"blur",c=function(e){(e=zs(e||d.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,o)}),(i=f.events[o][s])?"ready"===s&&f.domLoaded?n(zs({type:s})):i.push({func:n,scope:r}):(f.events[o][s]=i=[{func:n,scope:r}],i.fakeName=u,i.capture=l,i.nativeHandler=c,"ready"===s?Ws(e,c,f):qs(e,u||s,c,l)));return e=i=null,n}},e.prototype.unbind=function(e,t,n){var r,o,i,a,s;if(!e||3===e.nodeType||8===e.nodeType)return this;var u=e[this.expando];if(u){if(s=this.events[u],t){var c=t.split(" ");for(o=c.length;o--;)if(r=s[a=c[o]]){if(n)for(i=r.length;i--;)if(r[i].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;(r=r.slice(0,i).concat(r.slice(i+1))).nativeHandler=l,r.fakeName=f,r.capture=d,s[a]=r}n&&0!==r.length||(delete s[a],js(e,r.fakeName||a,r.nativeHandler,r.capture))}}else He(s,function(t,n){js(e,t.fakeName||n,t.nativeHandler,t.capture)}),s={};for(a in s)if(Ke(s,a))return this;delete this.events[u];try{delete e[this.expando]}catch(p){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=zs({type:t,target:e},n);do{(r=e[this.expando])&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),$s="sizzle"+-new Date,Xs=window.document,Ys=0,Ks=0,Gs=o(),Qs=o(),Js=o(),Zs=function(e,t){return e===t&&(fi=!0),0},eu=typeof undefined,tu=1<<31,nu={}.hasOwnProperty,ru=[],ou=ru.pop,iu=ru.push,au=ru.push,su=ru.slice,uu=ru.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},cu="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",lu="[\\x20\\t\\r\\n\\f]",fu="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",du="\\["+lu+"*("+fu+")(?:"+lu+"*([*^$|!~]?=)"+lu+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fu+"))|)"+lu+"*\\]",pu=":("+fu+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+du+")*)|.*)\\)|)",hu=new RegExp("^"+lu+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lu+"+$","g"),mu=new RegExp("^"+lu+"*,"+lu+"*"),gu=new RegExp("^"+lu+"*([>+~]|"+lu+")"+lu+"*"),vu=new RegExp("="+lu+"*([^\\]'\"]*?)"+lu+"*\\]","g"),yu=new RegExp(pu),bu=new RegExp("^"+fu+"$"),Cu={ID:new RegExp("^#("+fu+")"),CLASS:new RegExp("^\\.("+fu+")"),TAG:new RegExp("^("+fu+"|[*])"),ATTR:new RegExp("^"+du),PSEUDO:new RegExp("^"+pu),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lu+"*(even|odd|(([+-]|)(\\d*)n|)"+lu+"*(?:([+-]|)"+lu+"*(\\d+)|))"+lu+"*\\)|)","i"),bool:new RegExp("^(?:"+cu+")$","i"),needsContext:new RegExp("^"+lu+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lu+"*((?:-\\d)?\\d*)"+lu+"*\\)|)(?=[^-]|$)","i")},wu=/^(?:input|select|textarea|button)$/i,xu=/^h\d$/i,Su=/^[^{]+\{\s*\[native \w/,Eu=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ku=/[+~]/,_u=/'|\\/g,Nu=new RegExp("\\\\([\\da-f]{1,6}"+lu+"?|("+lu+")|.)","ig"),Tu=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{au.apply(ru=su.call(Xs.childNodes),Xs.childNodes),ru[Xs.childNodes.length].nodeType}catch(uq){au={apply:ru.length?function(e,t){iu.apply(e,su.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Au=function(e,t,n,r){var o,i,a,s,u,c,f,p,h,m;if((t?t.ownerDocument||t:Xs)!==pi&&di(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||pi).nodeType)&&9!==s)return[];if(mi&&!r){if(o=Eu.exec(e))if(a=o[1]){if(9===s){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&bi(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return au.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&ni.getElementsByClassName)return au.apply(n,t.getElementsByClassName(a)),n}if(ni.qsa&&(!gi||!gi.test(e))){if(p=f=$s,h=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=ai(e),(f=t.getAttribute("id"))?p=f.replace(_u,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+d(c[u]);h=ku.test(e)&&l(t.parentNode)||t,m=c.join(",")}if(m)try{return au.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{f||t.removeAttribute("id")}}}return ui(e.replace(hu,"$1"),t,n,r)};ni=Au.support={},ii=Au.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},di=Au.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var n,r=e?e.ownerDocument||e:Xs,o=r.defaultView;return r!==pi&&9===r.nodeType&&r.documentElement?(pi=r,hi=r.documentElement,mi=!ii(r),o&&o!==t(o)&&(o.addEventListener?o.addEventListener("unload",function(){di()},!1):o.attachEvent&&o.attachEvent("onunload",function(){di()})),ni.attributes=!0,ni.getElementsByTagName=!0,ni.getElementsByClassName=Su.test(r.getElementsByClassName),ni.getById=!0,ri.find.ID=function(e,t){if(typeof t.getElementById!==eu&&mi){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},ri.filter.ID=function(e){var t=e.replace(Nu,Tu);return function(e){return e.getAttribute("id")===t}},ri.find.TAG=ni.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==eu)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},ri.find.CLASS=ni.getElementsByClassName&&function(e,t){if(mi)return t.getElementsByClassName(e)},vi=[],gi=[],ni.disconnectedMatch=!0,gi=gi.length&&new RegExp(gi.join("|")),vi=vi.length&&new RegExp(vi.join("|")),n=Su.test(hi.compareDocumentPosition),bi=n||Su.test(hi.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Zs=n?function(e,t){if(e===t)return fi=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!ni.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===Xs&&bi(Xs,e)?-1:t===r||t.ownerDocument===Xs&&bi(Xs,t)?1:li?uu.call(li,e)-uu.call(li,t):0:4&n?-1:1)}:function(e,t){if(e===t)return fi=!0,0;var n,o=0,i=e.parentNode,s=t.parentNode,u=[e],c=[t];if(!i||!s)return e===r?-1:t===r?1:i?-1:s?1:li?uu.call(li,e)-uu.call(li,t):0;if(i===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;u[o]===c[o];)o++;return o?a(u[o],c[o]):u[o]===Xs?-1:c[o]===Xs?1:0},r):pi},Au.matches=function(e,t){return Au(e,null,null,t)},Au.matchesSelector=function(e,t){if((e.ownerDocument||e)!==pi&&di(e),t=t.replace(vu,"='$1']"),ni.matchesSelector&&mi&&(!vi||!vi.test(t))&&(!gi||!gi.test(t)))try{var n=yi.call(e,t);if(n||ni.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(uq){}return Au(t,pi,null,[e]).length>0},Au.contains=function(e,t){return(e.ownerDocument||e)!==pi&&di(e),bi(e,t)},Au.attr=function(e,t){(e.ownerDocument||e)!==pi&&di(e);var n=ri.attrHandle[t.toLowerCase()],r=n&&nu.call(ri.attrHandle,t.toLowerCase())?n(e,t,!mi):undefined;return r!==undefined?r:ni.attributes||!mi?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Au.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Au.uniqueSort=function(e){var t,n=[],r=0,o=0;if(fi=!ni.detectDuplicates,li=!ni.sortStable&&e.slice(0),e.sort(Zs),fi){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return li=null,e},oi=Au.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=oi(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=oi(t);return n},(ri=Au.selectors={cacheLength:50,createPseudo:i,match:Cu,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Nu,Tu),e[3]=(e[3]||e[4]||e[5]||"").replace(Nu,Tu),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Au.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Au.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Cu.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&yu.test(n)&&(t=ai(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Nu,Tu).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Gs[e+" "];return t||(t=new RegExp("(^|"+lu+")"+e+"("+lu+"|$)"))&&Gs(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==eu&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Au.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,d,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(p=(c=(l=g[$s]||(g[$s]={}))[e]||[])[0]===Ys&&c[1],d=c[0]===Ys&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[Ys,p,d];break}}else if(y&&(c=(t[$s]||(t[$s]={}))[e])&&c[0]===Ys)d=c[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[$s]||(f[$s]={}))[e]=[Ys,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=ri.pseudos[e]||ri.setFilters[e.toLowerCase()]||Au.error("unsupported pseudo: "+e);return r[$s]?r(t):r.length>1?(n=[e,e,"",t],ri.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)e[o=uu.call(e,i[a])]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:i(function(e){var t=[],n=[],r=si(e.replace(hu,"$1"));return r[$s]?i(function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(t){return Au(e,t).length>0}}),contains:i(function(e){return e=e.replace(Nu,Tu),function(t){return(t.textContent||t.innerText||oi(t)).indexOf(e)>-1}}),lang:i(function(e){return bu.test(e||"")||Au.error("unsupported lang: "+e),e=e.replace(Nu,Tu).toLowerCase(),function(t){var n;do{if(n=mi?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===hi},focus:function(e){return e===pi.activeElement&&(!pi.hasFocus||pi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!ri.pseudos.empty(e)},header:function(e){return xu.test(e.nodeName)},input:function(e){return wu.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=ri.pseudos.eq,ge(["radio","checkbox","file","password","image"],function(e){ri.pseudos[e]=s(e)}),ge(["submit","reset"],function(e){ri.pseudos[e]=u(e)}),f.prototype=ri.filters=ri.pseudos,ri.setFilters=new f,ai=Au.tokenize=function(e,t){var n,r,o,i,a,s,u,c=Qs[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],u=ri.preFilter;a;){for(i in n&&!(r=mu.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=gu.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(hu," ")}),a=a.slice(n.length)),ri.filter)ri.filter.hasOwnProperty(i)&&(!(r=Cu[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Au.error(e):Qs(e,s).slice(0)},si=Au.compile=function(e,t){var n,r=[],o=[],i=Js[e+" "];if(!i){for(t||(t=ai(e)),n=t.length;n--;)(i=y(t[n]))[$s]?r.push(i):o.push(i);(i=Js(e,b(o,r))).selector=e}return i},ui=Au.select=function(e,t,n,r){var o,i,a,s,u,c="function"==typeof e&&e,f=!r&&ai(e=c.selector||e);if(n=n||[],1===f.length){if((i=f[0]=f[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&ni.getById&&9===t.nodeType&&mi&&ri.relative[i[1].type]){if(!(t=(ri.find.ID(a.matches[0].replace(Nu,Tu),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Cu.needsContext.test(e)?0:i.length;o--&&(a=i[o],!ri.relative[s=a.type]);)if((u=ri.find[s])&&(r=u(a.matches[0].replace(Nu,Tu),ku.test(i[0].type)&&l(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&d(i)))return au.apply(n,r),n;break}}return(c||si(e,f))(r,t,!mi,n,ku.test(e)&&l(t.parentNode)||t),n},ni.sortStable=$s.split("").sort(Zs).join("")===$s,ni.detectDuplicates=!!fi,di(),ni.sortDetached=!0;var Du=document,Pu=Array.prototype.push,Ru=Array.prototype.slice,Ou=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Lu=Vs.Event,Iu=Cn.makeMap("children,contents,next,prev"),Bu=function(e){return void 0!==e},Mu=function(e){return"string"==typeof e},Fu=function(e){return e&&e===e.window},Hu=function(e,t){var n,r=(t=t||Du).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o},qu=function(e,t,n,r){var o;if(Mu(t))t=Hu(t,tc(e[0]));else if(t.length&&!t.nodeType){if(t=ic.makeArray(t),r)for(o=t.length-1;o>=0;o--)qu(e,t[o],n,r);else for(o=0;o<t.length;o++)qu(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},ju=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Uu=function(e,t,n){var r,o;return t=ic(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},zu=Cn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Wu=Cn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Vu={"for":"htmlFor","class":"className",readonly:"readOnly"},$u={float:"cssFloat"},Xu={},Yu={},Ku=function(e,t){return new ic.fn.init(e,t)},Gu=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},Qu=/^\s*|\s*$/g,Ju=function(e){return null===e||e===undefined?"":(""+e).replace(Qu,"")},Zu=function(e,t){var n,r,o,i;if(e)if((n=e.length)===undefined){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},ec=function(e,t){var n=[];return Zu(e,function(e,r){t(r,e)&&n.push(r)}),n},tc=function(e){return e?9===e.nodeType?e:e.ownerDocument:Du};Ku.fn=Ku.prototype={constructor:Ku,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return ic(e).attr(t);o.context=t=document}if(Mu(e)){if(o.selector=e,!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ou.exec(e)))return ic(t).find(e);if(n[1])for(r=Hu(e,tc(t)).firstChild;r;)Pu.call(o,r),r=r.nextSibling;else{if(!(r=tc(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return Cn.toArray(this)},add:function(e,t){var n,r,o=this;if(Mu(e))return o.add(ic(e));if(!1!==t)for(n=ic.unique(o.toArray().concat(ic.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Pu.apply(o,ic.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)Zu(e,function(e,t){r.attr(e,t)});else{if(!Bu(t)){if(r[0]&&1===r[0].nodeType){if((n=Xu[e])&&n.get)return n.get(r[0],e);if(Wu[e])return r.prop(e)?e:undefined;null===(t=r[0].getAttribute(e,2))&&(t=undefined)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=Xu[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Vu[e]||e))Zu(e,function(e,t){n.prop(e,t)});else{if(!Bu(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Zu(e,function(e,t){o.css(e,t)});else if(Bu(t))e=i(e),"number"!=typeof t||zu[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if((r=Yu[e])&&r.set)r.set(this,t);else{try{this.style[$u[e]||e]=t}catch(o){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}});else{if(n=o[0],(r=Yu[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(s){return undefined}}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Lu.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Bu(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){ic(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Bu(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return qu(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return qu(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?qu(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?qu(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return ic(e).append(this),this},prependTo:function(e){return ic(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Uu(this,e)},wrapAll:function(e){return Uu(this,e,!0)},wrapInner:function(e){return this.each(function(){ic(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ic(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ic(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?Zu(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o=ju(r,e);if(o!==t){var i=r.className;o?r.className=Ju((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e}}),n)},hasClass:function(e){return ju(this[0],e)},each:function(e){return Zu(this,e)},on:function(e,t){return this.each(function(){Lu.bind(this,e,t)})},off:function(e,t){return this.each(function(){Lu.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Lu.fire(this,e.type,e):Lu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ic(Ru.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)ic.find(e,this[t],r);return ic(r)},filter:function(e){return ic("function"==typeof e?ec(this.toArray(),function(t,n){return e(n,t)}):ic.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ic&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&ic(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),ic(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Pu,sort:Array.prototype.sort,splice:Array.prototype.splice},Cn.extend(Ku,{extend:Cn.extend,makeArray:function(e){return Fu(e)||e.nodeType?[e]:Cn.toArray(e)},inArray:Gu,isArray:Cn.isArray,each:Zu,trim:Ju,grep:ec,find:Au,expr:Au.selectors,unique:Au.uniqueSort,text:Au.getText,contains:Au.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?ic.find.matchesSelector(t[0],e)?[t[0]]:[]:ic.find.matches(e,t)}});var nc=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof ic&&(n=n[0]);o&&9!==o.nodeType;){if(n!==undefined){if(o===n)break;if("string"==typeof n&&ic(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},rc=function(e,t,n,r){var o=[];for(r instanceof ic&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(r!==undefined){if(e===r)break;if("string"==typeof r&&ic(e).is(r))break}o.push(e)}return o},oc=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Zu({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return nc(e,"parentNode")},next:function(e){return oc(e,"nextSibling",1)},prev:function(e){return oc(e,"previousSibling",1)},children:function(e){return rc(e.firstChild,"nextSibling",1)},contents:function(e){return Cn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Ku.fn[e]=function(n){var r=[];this.each(function(){var e=t.call(r,this,n,r);e&&(ic.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(Iu[e]||(r=ic.unique(r)),0===e.indexOf("parents")&&(r=r.reverse()));var o=ic(r);return n?o.filter(n):o}}),Zu({parentsUntil:function(e,t){return nc(e,"parentNode",t)},nextUntil:function(e,t){return rc(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return rc(e,"previousSibling",1,t).slice(1)}},function(e,t){Ku.fn[e]=function(n,r){var o=[];this.each(function(){var e=t.call(o,this,n,o);e&&(ic.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=ic.unique(o),0!==e.indexOf("parents")&&"prevUntil"!==e||(o=o.reverse()));var i=ic(o);return r?i.filter(r):i}}),Ku.fn.is=function(e){return!!e&&this.filter(e).length>0},Ku.fn.init.prototype=Ku.fn,Ku.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return ic.extend(n,this),n},Ku.attrHooks=Xu,Ku.cssHooks=Yu;var ic=Ku,ac=Cn.each,sc=Cn.grep,uc=mn.ie,cc=/^([a-z0-9],?)+$/i,lc=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&null!==r&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){null===n||"object"!=typeof n?(r&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i},fc=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},dc=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o},pc=function(e,t){void 0===t&&(t={});var n={},r=window,o={},i=0,a=!0,s=!0,u=Ii.forElement(kn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),c=[],l=t.schema?t.schema:As({}),f=Ps({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new Vs:Vs.Event,p=l.getBlockElements(),h=ic.overrideDefaults(function(){return{context:e,element:oe.getRoot()}}),m=function(e){if("string"==typeof e)return!!p[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!p[e.nodeName])}return!1},g=function(t){return t&&e&&B(t)?e.getElementById(t):t},v=function(e){return h("string"==typeof e?g(e):e)},y=function(e,t,n){var r,o,i=v(e);return i.length&&(o=(r=ie[t])&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o},b=function(e){var t=g(e);return t?t.attributes:[]},C=function(e,n,r){""===r&&(r=null);var o=v(e),i=o.attr(n);if(o.length){var a=ie[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},w=function(t,n){if(!uc||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return ac(b(t),function(e){C(r,e.nodeName,y(t,e.nodeName))}),r},x=function(){return t.root_element||e.body},S=function(e){var t=Vr(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},E=function(t,n){return qo(e.body,g(t),n)},k=function(e,n,r){var o=B(n)?v(e).css(n,r):v(e).css(n);t.update_styles&&fc(f,o)},_=function(e,n){var r=v(e).css(n);t.update_styles&&fc(f,r)},N=function(e,t,n){var r=v(e);return n?r.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=mn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:undefined)},T=function(e){var t,n;return e=g(e),t=N(e,"width"),n=N(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},A=function(e){e=g(e);var t=E(e),n=T(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},D=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(cc.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return Au(t,i[0].ownerDocument||i[0],null,i).length>0},P=function(e,t,n,r){var o,i=[],a=g(e);for(r=r===undefined,n=n||("BODY"!==x().nodeName?x().parentNode:null),Cn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return D(e,o)});a&&!(a===n||U(a.nodeType)||ao(a)||so(a));){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},R=function(e,t,n){var r=P(e,t,n,!1);return r&&r.length>0?r[0]:null},O=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return D(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},L=function(e,t){return O(e,t,"nextSibling")},I=function(e,t){return O(e,t,"previousSibling")},M=function(n,r){return Au(n,g(r)||t.root_element||e,[])},F=function(e,t,n){var r,o="string"==typeof e?g(e):e;if(!o)return!1;if(Cn.isArray(o)&&(o.length||0===o.length))return r=[],ac(o,function(e,o){e&&r.push(t.call(n,"string"==typeof e?g(e):e,o))}),r;var i=n||this;return t.call(i,o)},H=function(e,t){v(e).each(function(e,n){ac(t,function(e,t){C(n,t,e)})})},q=function(e,t){var n=v(e);uc?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){ic("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},j=function(t,n,r,o,i){return F(t,function(t){var a="string"==typeof n?e.createElement(n):n;return H(a,r),
o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&q(a,o)),i?a:t.appendChild(a)})},z=function(t,n,r){return j(e.createElement(t),t,n,r,!0)},W=ys.decode,V=ys.encodeAllRaw,X=function(e,t){var n=v(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Y=function(e){e||(e=""),ge(e.split(","),function(e){o[e]=!0,u.load(e,$)})},G=function(e,t,n){v(e).toggleClass(t,n).each(function(){""===this.className&&ic(this).attr("class",null)})},Q=function(e,t,n){return F(t,function(t){return Cn.is(t,"array")&&(e=e.cloneNode(!0)),n&&ac(sc(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},J=function(e){if(Yr(e)){var t="a"===e.nodeName.toLowerCase()&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t)return!0}return!1},Z=function(){return e.createRange()},ee=function(n,o,i,a){if(Cn.isArray(n)){for(var s=n.length,u=[];s--;)u[s]=ee(n[s],o,i,a);return u}return!t.collect||n!==e&&n!==r||c.push([n,o,i,a]),d.bind(n,o,i,a||oe)},te=function(t,n,o){if(Cn.isArray(t)){for(var i=t.length,a=[];i--;)a[i]=te(t[i],n,o);return a}if(c.length>0&&(t===e||t===r))for(i=c.length;i--;){var s=c[i];t!==s[0]||n&&n!==s[1]||o&&o!==s[2]||d.unbind(s[0],s[1],s[2])}return d.unbind(t,n,o)},ne=function(e){if(e&&Yr(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},re=function(){if(c.length>0)for(var e=c.length;e--;){var t=c[e];d.unbind(t[0],t[1],t[2])}He(o,function(e,t){u.unload(t),delete o[t]}),Au.setDocument&&Au.setDocument()},oe={doc:e,settings:t,win:r,files:o,stdMode:a,boxModel:s,styleSheetLoader:u,boundEvents:c,styles:f,schema:l,events:d,isBlock:m,$:h,$$:v,root:null,clone:w,getRoot:x,getViewPort:S,getRect:A,getSize:T,getParent:R,getParents:P,get:g,getNext:L,getPrev:I,select:M,is:D,add:j,create:z,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)Ge(t,r)&&(o+=" "+r+'="'+V(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:X,setStyle:k,getStyle:N,setStyles:_,removeAllAttribs:function(e){return F(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:C,setAttribs:H,getAttrib:y,getPos:E,parseStyle:function(e){return f.parse(e)},serializeStyle:function(e,t){return f.serialize(e,t)},addStyle:function(t){var r,o;if(oe!==pc.DOM&&e===document){if(n[t])return;n[t]=!0}(o=e.getElementById("mceDefaultStyles"))||((o=e.createElement("style")).id="mceDefaultStyles",o.type="text/css",(r=e.getElementsByTagName("head")[0]).firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:Y,addClass:function(e,t){v(e).addClass(t)},removeClass:function(e,t){G(e,t,!1)},hasClass:function(e,t){return v(e).hasClass(t)},toggleClass:G,show:function(e){v(e).show()},hide:function(e){v(e).hide()},isHidden:function(e){return"none"===v(e).css("display")},uniqueId:function(e){return(e||"mce_")+i++},setHTML:q,getOuterHTML:function(e){var t="string"==typeof e?g(e):e;return Yr(t)?t.outerHTML:ic("<div></div>").append(ic(t).clone()).html()},setOuterHTML:function(e,t){v(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}X(ic(this).html(t),!0)})},decode:W,encode:V,insertAfter:function(e,t){var n=g(t);return F(e,function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e})},replace:Q,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=z(t),ac(b(e),function(t){C(n,t.nodeName,y(e,t.nodeName))}),Q(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return f.toHex(Cn.trim(e))},run:F,getAttribs:b,isEmpty:function(e,t){var n,r,o=0;if(J(e))return!1;if(e=e.firstChild){var i=new Bi(e,e.parentNode),a=l?l.getWhiteSpaceElements():{};t=t||(l?l.getNonEmptyElements():null);do{if(n=e.nodeType,Yr(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=i.next("all"===s);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){o++,e=i.next();continue}return!1}if(J(e))return!1}if(8===n)return!1;if(3===n&&!qa(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&qa(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},createRng:Z,nodeIndex:dc,split:function(e,t,n){var r,o,i,a=Z();if(e&&t)return a.setStart(e.parentNode,dc(e)),a.setEnd(t.parentNode,dc(t)),r=a.extractContents(),(a=Z()).setStart(t.parentNode,dc(t)+1),a.setEnd(e.parentNode,dc(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(rs(oe,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(rs(oe,o),e),X(e),n||t},bind:ee,unbind:te,fire:function(e,t,n){return d.fire(e,t,n)},getContentEditable:ne,getContentEditableParent:function(e){for(var t=x(),n=null;e&&e!==t&&null===(n=ne(e));e=e.parentNode);return n},destroy:re,isChildOf:function(e,t){if(uc){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}return e===t||t.contains(e)},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},ie=lc(f,t,K(oe));return oe};pc.DOM=pc(document),pc.nodeIndex=dc;var hc=pc.DOM,mc=Cn.each,gc=Cn.grep,vc=0,yc=1,bc=2,Cc=3,wc=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,n){var r,o=hc,i=function(){o.remove(u),r&&(r.onerror=r.onload=r=null)},a=function(){i(),t()},s=function(){i(),W(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},u=o.uniqueId();(r=document.createElement("script")).id=u,r.type="text/javascript",r.src=Cn._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=a,r.onerror=s,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)},e.prototype.isDone=function(e){return this.states[e]===bc},e.prototype.markDone=function(e){this.states[e]=bc},e.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),o===undefined&&(this.states[e]=vc),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){mc(o.scriptLoadedCallbacks[t],function(t){W(t[e])&&t[e].call(t.scope)}),o.scriptLoadedCallbacks[t]=undefined};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var s=function(){var t=gc(e);if(e.length=0,mc(t,function(e){o.states[e]!==bc?o.states[e]!==Cc?o.states[e]!==yc&&(o.states[e]=yc,o.loading++,o.loadScript(e,function(){o.states[e]=bc,o.loading--,a("success",e),s()},function(){o.states[e]=Cc,o.loading--,i.push(e),a("failure",e),s()})):a("failure",e):a("success",e)}),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,mc(n,function(e){0===i.length?W(e.success)&&e.success.call(e.scope):W(e.failure)&&e.failure.call(e.scope,i)})}};s()},e.ScriptLoader=new e,e}(),xc=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Sc=function(e){return M(e)&&Ke(e,"raw")},Ec=function(e){return F(e)&&e.length>1},kc={},_c=xc("en"),Nc=function(){return Ye(kc,_c.get())},Tc={getData:function(){return qe(kc,function(e){return st({},e)})},setCode:function(e){e&&_c.set(e)},getCode:function(){return _c.get()},add:function(e,t){var n=kc[e];n||(kc[e]=n={}),He(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){var t=Nc().getOr({}),n=function(e){return W(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||e===undefined},o=function(e){var r=n(e);return Ye(t,r.toLowerCase()).map(n).getOr(r)},i=function(e){return e.replace(/{context:\w+}$/,"")};if(r(e))return"";if(Sc(e))return n(e.raw);if(Ec(e)){var a=e.slice(1);return i(o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Ke(a,t)?n(a[t]):e}))}return i(o(e))},isRtl:function(){return Nc().bind(function(e){return Ye(e,"_dir")}).exists(function(e){return"rtl"===e})},hasCode:function(e){return Ke(kc,e)}},Ac=function(){var e=[],t={},n={},r=[],o=function(e,t){var n=be(r,function(n){return n.name===e&&n.state===t});ge(n,function(e){return e.callback()})},i=function(e){var t;return n[e]&&(t=n[e].dependencies),t||[]},a=function(e,n){!1!==Ac.languageLoad&&d(e,function(){var r=Tc.getCode();!r||n&&-1===(","+(n||"")+",").indexOf(","+r+",")||wc.ScriptLoader.add(t[e]+"/langs/"+r+".js")},"loaded")},s=function(t,r,i){var a=r;return e.push(a),n[t]={instance:a,dependencies:i},o(t,"added"),a},u=function(e){delete t[e],delete n[e]},c=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},l=function(e,t,n,r){var o=i(e);ge(o,function(e){var n=c(t,e);f(n.resource,n,undefined,undefined)}),n&&(r?n.call(r):n.call(wc))},f=function(e,r,i,a,s){if(!t[e]){var u="string"==typeof r?r:r.prefix+r.resource+r.suffix;0!==u.indexOf("/")&&-1===u.indexOf("://")&&(u=Ac.baseURL+"/"+u),t[e]=u.substring(0,u.lastIndexOf("/"));var c=function(){o(e,"loaded"),l(e,r,i,a)};n[e]?c():wc.ScriptLoader.add(u,c,a,s)}},d=function(e,o,i){void 0===i&&(i="added"),Ke(n,e)&&"added"===i?o():Ke(t,e)&&"loaded"===i?o():r.push({name:e,state:i,callback:o})};return{items:e,urls:t,lookup:n,_listeners:r,get:function(e){return n[e]?n[e].instance:undefined},dependencies:i,requireLangPack:a,add:s,remove:u,createUrl:c,addComponents:function(e,n){var r=t[e];ge(n,function(e){wc.ScriptLoader.add(r+"/"+e)})},load:f,waitFor:d}};Ac.languageLoad=!0,Ac.baseURL="",Ac.PluginManager=Ac(),Ac.ThemeManager=Ac();var Dc=function(e){var t=xc(se.none()),n=function(){return t.get().each(e)};return{clear:function(){n(),t.set(se.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){n(),t.set(se.some(e))}}},Pc=function(){var e=Dc($),t=function(t){return e.get().each(t)};return st(st({},e),{on:t})},Rc=function(e,t){var n=null;return{cancel:function(){H(n)||(clearTimeout(n),n=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];H(n)&&(n=setTimeout(function(){n=null,e.apply(null,r)},t))}}},Oc=function(e,t){var n=null,r=function(){H(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r(),n=setTimeout(function(){n=null,e.apply(null,o)},t)}}},Lc=function(e,t){var n=Eo(e,t);return n===undefined||""===n?[]:n.split(" ")},Ic=function(e,t,n){var r=Lc(e,t).concat([n]);return xo(e,t,r.join(" ")),!0},Bc=function(e,t,n){var r=be(Lc(e,t),function(e){return e!==n});return r.length>0?xo(e,t,r.join(" ")):No(e,t),!1},Mc=function(e){return e.dom.classList!==undefined},Fc=function(e){return Lc(e,"class")},Hc=function(e,t){return Ic(e,"class",t)},qc=function(e,t){return Bc(e,"class",t)},jc=function(e,t){Mc(e)?e.dom.classList.add(t):Hc(e,t)},Uc=function(e){0===(Mc(e)?e.dom.classList:Fc(e)).length&&No(e,"class")},zc=function(e,t){Mc(e)?e.dom.classList.remove(t):qc(e,t);Uc(e)},Wc=function(e,t){return Mc(e)&&e.dom.classList.contains(t)},Vc=function(e,t){var n=[];return ge(ur(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Vc(e,t))}),n},$c=function(e,t){return Bn(t,e)},Xc=K("mce-annotation"),Yc=K("data-mce-annotation"),Kc=K("data-mce-annotation-uid"),Gc=function(e,t){var n=e.selection.getRng(),r=kn.fromDom(n.startContainer),o=kn.fromDom(e.getBody()),i=t.fold(function(){return"."+Xc()},function(e){return"["+Yc()+'="'+e+'"]'}),a=cr(r,n.startOffset).getOr(r),s=Ni(a,i,function(e){return Fn(e,o)}),u=function(e,t){return _o(e,t)?se.some(Eo(e,t)):se.none()};return s.bind(function(t){return u(t,""+Kc()).bind(function(n){return u(t,""+Yc()).map(function(t){var r=Jc(e,n);return{uid:n,name:t,elements:r}})})})},Qc=function(e){return $n(e)&&Wc(e,Xc())},Jc=function(e,t){var n=kn.fromDom(e.getBody());return $c(n,"["+Kc()+'="'+t+'"]')},Zc=function(e,t){var n=kn.fromDom(e.getBody()),r=$c(n,"["+Yc()+'="'+t+'"]'),o={};return ge(r,function(e){var t=Eo(e,Kc()),n=Ye(o,t).getOr([]);o[t]=n.concat([e])}),o},el=function(e){var t=xc({}),n=function(){return{listeners:[],previous:Pc()}},r=function(e,t){o(e,function(e){return t(e),e})},o=function(e,r){var o=t.get(),i=r(Ye(o,e).getOrThunk(n));o[e]=i,t.set(o)},i=function(e,t,n){r(e,function(r){ge(r.listeners,function(r){return r(!0,e,{uid:t,nodes:me(n,function(e){return e.dom})})})})},a=function(e){r(e,function(t){ge(t.listeners,function(t){return t(!1,e)})})},s=Oc(function(){var n=t.get(),r=Pe(Me(n));ge(r,function(t){o(t,function(n){var r=n.previous.get();return Gc(e,se.some(t)).fold(function(){r.isSome()&&(a(t),n.previous.clear())},function(e){var t=e.uid,o=e.name,a=e.elements;mo(r,t)||(i(o,t,a),n.previous.set(t))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){s.cancel()}),e.on("NodeChange",function(){s.throttle()}),{addListener:function(e,t){o(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},tl=function(e,t){var n=function(e){return se.from(e.attr(Yc())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){ge(e,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},nl=function(){var e={};return{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return Ye(e,t).map(function(e){return e.settings})}}},rl=0,ol=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++rl+String(t)},il=function(e,t){ge(t,function(t){jc(e,t)})},al=function(e,t){var n=(t||document).createElement("div");return n.innerHTML=e,ur(kn.fromDom(n))},sl=function(e){return me(e,kn.fromDom)},ul=function(e){return e.dom.innerHTML},cl=function(e,t){var n=Qn(e).dom,r=kn.fromDom(n.createDocumentFragment()),o=al(t,n);Ar(r,o),Dr(e),_r(e,r)},ll=function(e,t){return kn.fromDom(e.dom.cloneNode(t))},fl=function(e){return ll(e,!1)},dl=function(e){return ll(e,!0)},pl=function(e,t,n){void 0===n&&(n=ne);var r=new Bi(e,t),o=function(e){var t;do{t=r[e]()}while(t&&!oo(t)&&!n(t));return se.from(t).filter(oo)};return{current:function(){return se.from(r.current()).filter(oo)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},hl=function(e,t){var n=t||function(t){return e.isBlock(t)||uo(t)||fo(t)},r=function(e,t,n,o){if(oo(e)){var i=o(e,t,e.data);if(-1!==i)return se.some({container:e,offset:i})}return n().bind(function(e){return r(e.container,e.offset,n,o)})};return{backwards:function(e,t,o,i){var a=pl(e,i,n);return r(e,t,function(){return a.prev().map(function(e){return{container:e,offset:e.length}})},o).getOrNull()},forwards:function(e,t,o,i){var a=pl(e,i,n);return r(e,t,function(){return a.next().map(function(e){return{container:e,offset:0}})},o).getOrNull()}}},ml=Math.round,gl=function(e){return e?{left:ml(e.left),top:ml(e.top),bottom:ml(e.bottom),right:ml(e.right),width:ml(e.width),height:ml(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},vl=function(e,t){return e=gl(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},yl=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},bl=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Cl=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&bl(t.top-e.bottom,e,t)},wl=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&bl(t.bottom-e.top,e,t)},xl=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Sl=function(e,t,n){return Math.min(Math.max(e,t),n)},El=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},kl=function(e,t){if(Yr(e)&&e.hasChildNodes()){var n=e.childNodes;return n[Sl(t,0,n.length-1)]}return e},_l=function(e,t){return t<0&&Yr(e)&&e.hasChildNodes()?undefined:kl(e,t)},Nl=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Tl=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Nl.test(e)},Al=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},Dl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}},Pl=Yr,Rl=Ra,Ol=Gr("display","block table"),Ll=Gr("float","left right"),Il=Dl(Pl,Rl,J(Ll)),Bl=J(Gr("white-space","pre pre-line pre-wrap")),Ml=oo,Fl=uo,Hl=pc.nodeIndex,ql=_l,jl=function(e){return"createRange"in e?e.createRange():pc.DOM.createRng()},Ul=function(e){return e&&/[\r\n\t ]/.test(e)},zl=function(e){return!!e.setStart&&!!e.setEnd},Wl=function(e){var t=e.startContainer,n=e.startOffset;if(Ul(e.toString())&&Bl(t.parentNode)&&oo(t)){var r=t.data;if(Ul(r[n-1])||Ul(r[n+1]))return!0}return!1},Vl=function(e){var t=e.ownerDocument,n=jl(t),r=t.createTextNode(oa),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=gl(n.getBoundingClientRect());return o.removeChild(r),i},$l=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&oo(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Yl(i)}return null},Xl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Yl=function(e){var t,n=e.getClientRects();return t=n.length>0?gl(n[0]):gl(e.getBoundingClientRect()),!zl(e)&&Fl(e)&&Xl(t)?Vl(e):Xl(t)&&zl(e)?$l(e):t},Kl=function(e,t){var n=vl(e,t);return n.width=1,n.right=n.left+1,n},Gl=function(e){var t=[],n=function(e){0!==e.height&&(t.length>0&&yl(e,t[t.length-1])||t.push(e))},r=function(e,r){var o=jl(e.ownerDocument);if(r<e.data.length){if(Tl(e.data[r]))return t;if(Tl(e.data[r-1])&&(o.setStart(e,r),o.setEnd(e,r+1),!Wl(o)))return n(Kl(Yl(o),!1)),t}r>0&&(o.setStart(e,r-1),o.setEnd(e,r),Wl(o)||n(Kl(Yl(o),!1))),r<e.data.length&&(o.setStart(e,r),o.setEnd(e,r+1),Wl(o)||n(Kl(Yl(o),!0)))},o=e.container(),i=e.offset();if(Ml(o))return r(o,i),t;if(Pl(o))if(e.isAtEnd()){var a=ql(o,i);Ml(a)&&r(a,a.data.length),Il(a)&&!Fl(a)&&n(Kl(Yl(a),!1))}else{a=ql(o,i);if(Ml(a)&&r(a,0),Il(a)&&e.isAtEnd())return n(Kl(Yl(a),!1)),t;var s=ql(e.container(),e.offset()-1);Il(s)&&!Fl(s)&&(Ol(s)||Ol(a)||!Il(a))&&n(Kl(Yl(s),!1)),Il(a)&&n(Kl(Yl(a),!0))}return t},Ql=function(e,t,n){var r=function(){return Ml(e),0===t},o=function(){return Ml(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n=jl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=Gl(Ql(e,t))),n},s=function(){return a().length>0},u=function(n){return n&&e===n.container()&&t===n.offset()},c=function(n){return ql(e,n?t-1:t)};return{container:K(e),offset:K(t),toRange:i,getClientRects:a,isVisible:s,isAtStart:r,isAtEnd:o,isEqual:u,getNode:c}};Ql.fromRangeStart=function(e){return Ql(e.startContainer,e.startOffset)},Ql.fromRangeEnd=function(e){return Ql(e.endContainer,e.endOffset)},Ql.after=function(e){return Ql(e.parentNode,Hl(e)+1)},Ql.before=function(e){return Ql(e.parentNode,Hl(e))},Ql.isAbove=function(e,t){return vo(Oe(t.getClientRects()),Le(e.getClientRects()),Cl).getOr(!1)},Ql.isBelow=function(e,t){return vo(Le(t.getClientRects()),Oe(e.getClientRects()),wl).getOr(!1)},Ql.isAtStart=function(e){return!!e&&e.isAtStart()},Ql.isAtEnd=function(e){return!!e&&e.isAtEnd()},Ql.isTextPosition=function(e){return!!e&&oo(e.container())},Ql.isElementPosition=function(e){return!1===Ql.isTextPosition(e)};var Jl,Zl=function(e,t){oo(t)&&0===t.data.length&&e.remove(t)},ef=function(e,t,n){t.insertNode(n),Zl(e,n.previousSibling),Zl(e,n.nextSibling)},tf=function(e,t,n){var r=se.from(n.firstChild),o=se.from(n.lastChild);t.insertNode(n),r.each(function(t){return Zl(e,t.previousSibling)}),o.each(function(t){return Zl(e,t.nextSibling)})},nf=function(e,t,n){so(n)?tf(e,t,n):ef(e,t,n)},rf=oo,of=Zr,af=pc.nodeIndex,sf=function(e){var t=e.parentNode;return of(t)?sf(t):t},uf=function(e){return e?ot(e.childNodes,function(e,t){return of(t)&&"BR"!==t.nodeName?e=e.concat(uf(t)):e.push(t),e},[]):[]},cf=function(e,t){for(;(e=e.previousSibling)&&rf(e);)t+=e.data.length;return t},lf=function(e){return function(t){return e===t}},ff=function(e){var t,n;t=uf(sf(e)),n=it(t,lf(e),e),t=t.slice(0,n+1);var r=ot(t,function(e,n,r){return rf(n)&&rf(t[r-1])&&e++,e},0);return t=nt(t,Kr([e.nodeName])),(n=it(t,lf(e),e))-r},df=function(e){return(rf(e)?"text()":e.nodeName.toLowerCase())+"["+ff(e)+"]"},pf=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},hf=function(e,t){var n,r,o,i,a,s=[];return n=t.container(),r=t.offset(),rf(n)?o=cf(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(df(n)),a=pf(e,n),a=nt(a,J(Zr)),(s=s.concat(tt(a,function(e){return df(e)}))).reverse().join("/")+","+o},mf=function(e,t,n){var r=uf(e);return r=nt(r,function(e,t){return!rf(e)||!rf(r[t-1])}),(r=nt(r,Kr([t])))[n]},gf=function(e,t){for(var n,r=e,o=0;rf(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!rf(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return rf(e)&&t>e.data.length&&(t=e.data.length),Ql(e,t)},vf=function(e,t){var n;if(!t)return null;var r=t.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=ot(o,function(e,t){var n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),mf(e,n[1],parseInt(n[2],10))):null},e);return i?rf(i)?gf(i,parseInt(n,10)):(n="after"===n?af(i)+1:af(i),Ql(i.parentNode,n)):null},yf=fo,bf=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&oo(r);r=r.previousSibling)o+=e(r.data).length;return o},Cf=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],c=0,l=e.getRoot();for(oo(a)?u.push(n?bf(t,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(c=1,s=Math.max(0,i.length-1)),u.push(e.nodeIndex(i[s],n)+c));a&&a!==l;a=a.parentNode)u.push(e.nodeIndex(a,n));return u},wf=function(e,t,n,r){var o=t.dom,i={};return i.start=Cf(o,e,n,r,!0),t.isCollapsed()||(i.end=Cf(o,e,n,r,!1)),Sa(r)&&(i.isFakeCaret=!0),i},xf=function(e,t,n){var r=0;return Cn.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Sf=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],Yr(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r))},Ef=function(e){return Sf(e,!0),Sf(e,!1),e},kf=function(e,t){var n;if(Yr(e)&&(e=kl(e,t),yf(e)))return e;if(da(e)){if(oo(e)&&la(e)&&(e=e.parentNode),n=e.previousSibling,yf(n))return n;if(n=e.nextSibling,yf(n))return n}},_f=function(e){return kf(e.startContainer,e.startOffset)||kf(e.endContainer,e.endOffset)},Nf=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(yf(r)||"IMG"===o)return{name:o,index:xf(n.dom,o,r)};var a=_f(i);return a?{name:o=a.tagName,index:xf(n.dom,o,a)}:wf(e,n,t,i)},Tf=function(e){var t=e.getRng();return{start:hf(e.dom.getRoot(),Ql.fromRangeStart(t)),end:hf(e.dom.getRoot(),Ql.fromRangeEnd(t))}},Af=function(e){return{rng:e.getRng()}},Df=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Pf=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:xf(n,s,a)};var u=Ef(r.cloneRange());if(!i){u.collapse(!1);var c=Df(n,o+"_end",t);nf(n,u,c)}(r=Ef(r)).collapse(!0);var l=Df(n,o+"_start",t);return nf(n,r,l),e.moveToBookmark({id:o,keep:!0}),{id:o}},Rf=function(e,t,n){return 2===t?Nf(sa,n,e):3===t?Tf(e):t?Af(e):Pf(e,!1)},Of=e(Nf,G,!0),Lf=pc.DOM,If="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Bf=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return Ye(o,e.id).getOr(n)}return r},Mf=function(e){return e.getParam("iframe_attrs",{})},Ff=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Hf=function(e){return e.getParam("document_base_url","")},qf=function(e){return Bf(e,"body_id","tinymce")},jf=function(e){return Bf(e,"body_class","")},Uf=function(e){return e.getParam("content_security_policy","")},zf=function(e){return e.getParam("br_in_pre",!0)},Wf=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},Vf=function(e){return e.getParam("forced_root_block_attrs",{})},$f=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Xf=function(e){return e.getParam("no_newline_selector","")},Yf=function(e){return e.getParam("keep_styles",!0)},Kf=function(e){return e.getParam("end_container_on_empty_block",!1)},Gf=function(e){return Cn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Qf=function(e){return Cn.explode(e.getParam("font_size_classes",""))},Jf=function(e){return e.getParam("images_dataimg_filter",re,"function")},Zf=function(e){return e.getParam("automatic_uploads",!0,"boolean")},ed=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},td=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},nd=function(e){return e.getParam("icons","","string")},rd=function(e){return e.getParam("icons_url","","string")},od=function(e){return e.getParam("images_upload_url","","string")},id=function(e){return e.getParam("images_upload_base_path","","string")},ad=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},sd=function(e){return e.getParam("images_upload_handler",null,"function")},ud=function(e){return e.getParam("content_css_cors",!1,"boolean")},cd=function(e){return e.getParam("referrer_policy","","string")},ld=function(e){return e.getParam("language","en","string")},fd=function(e){return e.getParam("language_url","","string")},dd=function(e){return e.getParam("indent_use_margin",!1)},pd=function(e){return e.getParam("indentation","40px","string")},hd=function(e){var t=e.getParam("content_css");return B(t)?me(t.split(","),_t):F(t)?t:!1===t||e.inline?[]:["default"]},md=function(e){var t=e.getParam("font_css",[]);return F(t)?t:me(t.split(","),_t)},gd=function(e){return e.getParam("directionality",Tc.isRtl()?"rtl":undefined)},vd=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},yd=function(e){var t=e.getParam("object_resizing");return!1!==t&&!mn.iOS&&(B(t)?t:"table,img,figure.image,div,video,iframe")},bd=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},Cd=function(e){return e.getParam("placeholder",Lf.getAttrib(e.getElement(),"placeholder"),"string")},wd=function(e){return e.getParam("event_root")},xd=function(e){return e.getParam("service_message")},Sd=function(e){return e.getParam("theme")},Ed=function(e){return e.getParam("validate")},kd=function(e){return!1!==e.getParam("inline_boundaries")},_d=function(e){return e.getParam("formats")},Nd=function(e){var t=e.getParam("preview_styles",If);return B(t)?t:""},Td=function(e){return e.getParam("format_empty_lines",!1,"boolean")},Ad=function(e){return e.getParam("custom_ui_selector","","string")},Dd=function(e){return e.getParam("theme_url")},Pd=function(e){return e.getParam("inline")},Rd=function(e){return e.getParam("hidden_input")},Od=function(e){return e.getParam("submit_patch")},Ld=function(e){return"xml"===e.getParam("encoding")},Id=function(e){return e.getParam("add_form_submit_trigger")},Bd=function(e){return e.getParam("add_unload_trigger")},Md=function(e){return""!==Wf(e)},Fd=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},Hd=function(e){return e.getParam("disable_nodechange")},qd=function(e){return e.getParam("readonly")},jd=function(e){return e.getParam("content_css_cors")},Ud=function(e){return e.getParam("plugins","","string")},zd=function(e){return e.getParam("external_plugins")},Wd=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},Vd=function(e){return e.getParam("visual",!0,"boolean")},$d=function(e){return e.getParam("visual_table_class","mce-item-table","string")},Xd=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Yd=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Kd=Yr,Gd=oo,Qd=function(e){var t=e.parentNode;t&&t.removeChild(e)},Jd=function(e){var t=sa(e);return{count:e.length-t.length,text:t}},Zd=function(e){for(var t;-1!==(t=e.data.lastIndexOf(ia));)e.deleteData(t,1)},ep=function(e,t){return ap(e),t},tp=function(e,t){var n=Jd(e.data.substr(0,t.offset())),r=Jd(e.data.substr(t.offset()));return(n.text+r.text).length>0?(Zd(e),Ql(e,t.offset()-n.count)):t},np=function(e,t){var n=t.container(),r=de(Ie(n.childNodes),e).map(function(e){return e<t.offset()?Ql(n,t.offset()-1):t}).getOr(t);return ap(e),r},rp=function(e,t){return Gd(e)&&t.container()===e?tp(e,t):ep(e,t)},op=function(e,t){return t.container()===e.parentNode?np(e,t):ep(e,t)},ip=function(e,t){return Ql.isTextPosition(t)?rp(e,t):op(e,t)},ap=function(e){Kd(e)&&da(e)&&(pa(e)?e.removeAttribute("data-mce-caret"):Qd(e)),Gd(e)&&(Zd(e),0===e.data.length&&Qd(e))},sp=an().browser,up=fo,cp=ho,lp=po,fp="*[contentEditable=false],video,audio,embed,object",dp=function(e,t,n){var r,o,i=vl(t.getBoundingClientRect(),n);if("BODY"===e.tagName){var a=e.ownerDocument.documentElement;r=e.scrollLeft||a.scrollLeft,o=e.scrollTop||a.scrollTop}else{var s=e.getBoundingClientRect();r=e.scrollLeft-s.left,o=e.scrollTop-s.top}i.left+=r,i.right+=r,i.top+=o,i.bottom+=o,i.width=1;var u=t.offsetWidth-t.clientWidth;return u>0&&(n&&(u*=-1),i.left+=u,i.right+=u),i},pp=function(e){for(var t=$c(kn.fromDom(e),fp),n=0;n<t.length;n++){var r,o=t[n].dom,i=o.previousSibling
;if(Ca(i))1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1);if(i=o.nextSibling,ba(i))1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1)}},hp=function(e,t,n,r){var o,i,a=Pc(),s=Wf(e),u=s.length>0?s:"p",c=function(e,r){var o;if(l(),lp(r))return null;if(!n(r))return i=ha(r,e),o=r.ownerDocument.createRange(),gp(i.nextSibling)?(o.setStart(i,0),o.setEnd(i,0)):(o.setStart(i,1),o.setEnd(i,1)),o;i=ya(u,r,e);var s=dp(t,r,e);ic(i).css("top",s.top);var c=ic('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(st({},s)).appendTo(t)[0];return a.set({caret:c,element:r,before:e}),e&&ic(c).addClass("mce-visual-caret-before"),f(),(o=r.ownerDocument.createRange()).setStart(i,0),o.setEnd(i,0),o},l=function(){pp(t),i&&(ap(i),i=null),a.on(function(e){ic(e.caret).remove(),a.clear()}),o&&(Oi.clearInterval(o),o=undefined)},f=function(){o=Oi.setInterval(function(){r()?ic("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):ic("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)};return{show:c,hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.on(function(e){var n=dp(t,e.element,e.before);ic(e.caret).css(st({},n))})},destroy:function(){return Oi.clearInterval(o)}}},mp=function(){return sp.isIE()||sp.isEdge()||sp.isFirefox()},gp=function(e){return up(e)||cp(e)},vp=function(e){return gp(e)||to(e)&&mp()},yp=fo,bp=ho,Cp=Gr("display","block table table-cell table-caption list-item"),wp=da,xp=la,Sp=Yr,Ep=Ra,kp=function(e){return e>0},_p=function(e){return e<0},Np=function(e,t){for(var n;n=e(t);)if(!xp(n))return n;return null},Tp=function(e,t,n,r,o){var i=new Bi(e,r),a=yp(e)||xp(e);if(_p(t)){if(a&&n(e=Np(i.prev.bind(i),!0)))return e;for(;e=Np(i.prev.bind(i),o);)if(n(e))return e}if(kp(t)){if(a&&n(e=Np(i.next.bind(i),!0)))return e;for(;e=Np(i.next.bind(i),o);)if(n(e))return e}return null},Ap=function(e,t){for(;e&&e!==t;){if(Cp(e))return e;e=e.parentNode}return null},Dp=function(e,t,n){return Ap(e.container(),n)===Ap(t.container(),n)},Pp=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Sp(n)?n.childNodes[r+e]:null},Rp=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Op=function(e,t,n){return Ap(t,e)===Ap(n,e)},Lp=function(e,t,n){for(var r=e?"previousSibling":"nextSibling";n&&n!==t;){var o=n[r];if(wp(o)&&(o=o[r]),yp(o)||bp(o)){if(Op(t,o,n))return o;break}if(Ep(o))break;n=n.parentNode}return null},Ip=e(Rp,!0),Bp=e(Rp,!1),Mp=function(t,n,r){var o,i=e(Lp,!0,n),a=e(Lp,!1,n),s=r.startContainer,u=r.startOffset;if(la(s)){Sp(s)||(s=s.parentNode);var c=s.getAttribute("data-mce-caret");if("before"===c&&(o=s.nextSibling,vp(o)))return Ip(o);if("after"===c&&(o=s.previousSibling,vp(o)))return Bp(o)}if(!r.collapsed)return r;if(oo(s)){if(wp(s)){if(1===t){if(o=a(s))return Ip(o);if(o=i(s))return Bp(o)}if(-1===t){if(o=i(s))return Bp(o);if(o=a(s))return Ip(o)}return r}if(Ca(s)&&u>=s.data.length-1)return 1===t&&(o=a(s))?Ip(o):r;if(ba(s)&&u<=1)return-1===t&&(o=i(s))?Bp(o):r;if(u===s.data.length)return(o=a(s))?Ip(o):r;if(0===u)return(o=i(s))?Bp(o):r}return r},Fp=function(e,t){return se.from(Pp(e?0:-1,t)).filter(yp)},Hp=function(e,t,n){var r=Mp(e,t,n);return-1===e?Ql.fromRangeStart(r):Ql.fromRangeEnd(r)},qp=function(e){return se.from(e.getNode()).map(kn.fromDom)},jp=function(e){return se.from(e.getNode(!0)).map(kn.fromDom)},Up=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},zp=function(e,t){var n=Dp(e,t);return!(n||!uo(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Jl||(Jl={}));var Wp=fo,Vp=oo,$p=Yr,Xp=uo,Yp=Ra,Kp=Ma,Gp=Fa,Qp=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},Jp=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},Zp=function(e,t){if(kp(e)){if(Yp(t.previousSibling)&&!Vp(t.previousSibling))return Ql.before(t);if(Vp(t))return Ql(t,0)}if(_p(e)){if(Yp(t.nextSibling)&&!Vp(t.nextSibling))return Ql.after(t);if(Vp(t))return Ql(t,t.data.length)}return _p(e)?Xp(t)?Ql.before(t):Ql.after(t):Ql.before(t)},eh=function(e,t){var n=t.nextSibling;return n&&Yp(n)?Vp(n)?Ql(n,0):Ql.before(n):th(Jl.Forwards,Ql.after(t),e)},th=function(e,t,n){var r,o,i,a;if(!$p(n)||!t)return null;if(t.isEqual(Ql.after(n))&&n.lastChild){if(a=Ql.after(n.lastChild),_p(e)&&Yp(n.lastChild)&&$p(n.lastChild))return Xp(n.lastChild)?Ql.before(n.lastChild):a}else a=t;var s=a.container(),u=a.offset();if(Vp(s)){if(_p(e)&&u>0)return Ql(s,--u);if(kp(e)&&u<s.length)return Ql(s,++u);r=s}else{if(_p(e)&&u>0&&(o=Jp(s,u-1),Yp(o)))return!Kp(o)&&(i=Tp(o,e,Gp,o))?Vp(i)?Ql(i,i.data.length):Ql.after(i):Vp(o)?Ql(o,o.data.length):Ql.before(o);if(kp(e)&&u<s.childNodes.length&&(o=Jp(s,u),Yp(o)))return Xp(o)?eh(n,o):!Kp(o)&&(i=Tp(o,e,Gp,o))?Vp(i)?Ql(i,0):Ql.before(i):Vp(o)?Ql(o,0):Ql.after(o);r=o||a.getNode()}if((kp(e)&&a.isAtEnd()||_p(e)&&a.isAtStart())&&(r=Tp(r,e,re,n,!0),Gp(r,n)))return Zp(e,r);o=Tp(r,e,Gp,n);var c=at(be(Qp(s,n),Wp));return!c||o&&c.contains(o)?o?Zp(e,o):null:a=kp(e)?Ql.after(c):Ql.before(c)},nh=function(e){return{next:function(t){return th(Jl.Forwards,t,e)},prev:function(t){return th(Jl.Backwards,t,e)}}},rh=function(e,t,n){var r=e?Ql.before(n):Ql.after(n);return lh(e,t,r)},oh=function(e){return uo(e)?Ql.before(e):Ql.after(e)},ih=function(e){return Ql.isTextPosition(e)?0===e.offset():Ra(e.getNode())},ah=function(e){if(Ql.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Ra(e.getNode(!0))},sh=function(e,t){return!Ql.isTextPosition(e)&&!Ql.isTextPosition(t)&&e.getNode()===t.getNode(!0)},uh=function(e){return!Ql.isTextPosition(e)&&uo(e.getNode())},ch=function(e,t,n){return e?!sh(t,n)&&!uh(t)&&ah(t)&&ih(n):!sh(n,t)&&ih(t)&&ah(n)},lh=function(e,t,n){var r=nh(t);return se.from(e?r.next(n):r.prev(n))},fh=function(e,t,n){return lh(e,t,n).bind(function(r){return Dp(n,r,t)&&ch(e,n,r)?lh(e,t,r):se.some(r)})},dh=function(e,t,n,r){return fh(e,t,n).bind(function(n){return r(n)?dh(e,t,n,r):se.some(n)})},ph=function(e,t){var n=e?t.firstChild:t.lastChild;return oo(n)?se.some(Ql(n,e?0:n.data.length)):n?Ra(n)?se.some(e?Ql.before(n):oh(n)):rh(e,t,n):se.none()},hh=e(lh,!0),mh=e(lh,!1),gh=e(ph,!0),vh=e(ph,!1),yh="_mce_caret",bh=function(e){return Yr(e)&&e.id===yh},Ch=function(e,t){for(;t&&t!==e;){if(t.id===yh)return t;t=t.parentNode}return null},wh=function(e){return B(e.start)},xh=function(e){return Ke(e,"rng")},Sh=function(e){return Ke(e,"id")},Eh=function(e){return Ke(e,"name")},kh=function(e){return Cn.isArray(e.start)},_h=function(e,t){return Yr(t)&&e.isBlock(t)&&!t.innerHTML&&!mn.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Nh=function(e,t){var n,r=e.createRng();return n=vf(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=vf(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},Th=function(e,t){var n=e.ownerDocument.createTextNode(ia);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Ah=function(e){return!1===e.hasChildNodes()},Dh=function(e,t){return vh(e).fold(ne,function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Ph=function(e,t,n){return!(!Ah(t)||!Ch(e,t))&&(Th(t,n),!0)},Rh=function(e,t,n,r){var o,i,a,s,u=n[t?"start":"end"],c=e.getRoot();if(u){for(a=u[0],i=c,o=u.length-1;o>=1;o--){if(s=i.childNodes,Ph(c,i,r))return!0;if(u[o]>s.length-1)return!!Ph(c,i,r)||Dh(i,r);i=s[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Oh=function(e){return oo(e)&&e.data.length>0},Lh=function(e,t,n){var r,o,i,a,s,u,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,o=1):Oh(c.nextSibling)?(r=c.nextSibling,o=0):Oh(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c),s=r,u=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):Oh(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),s=r,u=o),!l){for(a=c.previousSibling,i=c.nextSibling,Cn.each(Cn.grep(c.childNodes),function(e){oo(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&oo(a)&&!mn.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),s=a,u=o)}return se.some(Ql(s,u))}return se.none()},Ih=function(e,t){var n=e.createRng();return Rh(e,!0,t,n)&&Rh(e,!1,t,n)?se.some(n):se.none()},Bh=function(e,t){var n=Lh(e,"start",t),r=Lh(e,"end",t);return vo(n,r.or(n),function(t,n){var r=e.createRng();return r.setStart(_h(e,t.container()),t.offset()),r.setEnd(_h(e,n.container()),n.offset()),r})},Mh=function(e,t){return se.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},Fh=function(e,t){var n=e.dom;if(t){if(kh(t))return Ih(n,t);if(wh(t))return se.some(Nh(n,t));if(Sh(t))return Bh(n,t);if(Eh(t))return Mh(n,t);if(xh(t))return se.some(t.rng)}return se.none()},Hh=function(e,t,n){return Rf(e,t,n)},qh=function(e,t){Fh(e,t).each(function(t){e.setRng(t)})},jh=function(e){return Yr(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Uh=function(e){return function(t){return e===t}}(oa),zh=function(e){return""!==e&&-1!==" \f\n\r\t\x0B".indexOf(e)},Wh=function(e){return!zh(e)&&!Uh(e)},Vh=function(e){return!!e.nodeType},$h=function(e){return e&&/^(IMG)$/.test(e.nodeName)},Xh=function(e,t,n){var r=n.startOffset,o=n.startContainer;if((o!==n.endContainer||!$h(o.childNodes[r]))&&Yr(o)){var i=o.childNodes,a=void 0;r<i.length?(o=i[r],a=new Bi(o,e.getParent(o,e.isBlock))):(o=i[i.length-1],(a=new Bi(o,e.getParent(o,e.isBlock))).next(!0));for(var s=a.current();s;s=a.next())if(oo(s)&&!Qh(s))return n.setStart(s,0),void t.setRng(n)}},Yh=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Yr(e)||!Qh(e))return e}},Kh=function(e,t){return Vh(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Gh=function(e,t,n){return e.schema.isValidChild(t,n)},Qh=function(e,t){if(void 0===t&&(t=!1),z(e)&&oo(e)){var n=t?e.data.replace(/ /g,"\xa0"):e.data;return qa(n)}return!1},Jh=function(e){return z(e)&&oo(e)&&0===e.length},Zh=function(e,t){return W(e)?e=e(t):z(t)&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},em=function(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},tm=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},nm=function(e,t,n){return tm(e,e.getStyle(t,n),n)},rm=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},om=function(e,t,n){return e.getParents(t,n,e.getRoot())},im=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return he(["styles","attributes"],function(n){return Ye(e,n).exists(function(e){var n=F(e)?e:Xe(e);return he(n,t)})})};return he(e.formatter.get(t),n)},am=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return Ve(e,function(e,t){return he(r,function(e){return e===t})})};return he(e.formatter.get(t),function(t){var r=o(t);return he(e.formatter.get(n),function(e){var t=o(e);return Qe(r,t)})})},sm=function(e){return Ge(e,"block")},um=function(e){return Ge(e,"selector")},cm=function(e){return Ge(e,"inline")},lm=function(e){return um(e)&&cm(e)&&mo(Ye(e,"mixed"),!0)},fm=function(e){return um(e)&&!1!==e.expand&&!cm(e)},dm=jh,pm=om,hm=Qh,mm=Kh,gm=function(e){return uo(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},vm=function(e,t){for(var n=t;n;){if(Yr(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},ym=function(e,t,n,r){for(var o=t.data,i=n;e?i>=0:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},bm=function(e,t,n){return ym(e,t,n,function(e){return Uh(e)||zh(e)})},Cm=function(e,t,n){return ym(e,t,n,Wh)},wm=function(e,t,n,r,o,i){var a,s=e.getParent(n,e.isBlock)||t,u=function(t,n,r){var i=hl(e),u=o?i.backwards:i.forwards;return se.from(u(t,n,function(e,t){return dm(e.parentNode)?-1:(a=e,r(o,e,t))},s))};return u(n,r,bm).bind(function(e){return i?u(e.container,e.offset+(o?-1:0),Cm):se.some(e)}).orThunk(function(){return a?se.some({container:a,offset:o?0:a.length}):se.none()})},xm=function(e,t,n,r,o){oo(r)&&Dt(r.data)&&r[o]&&(r=r[o]);for(var i=pm(e,r),a=0;a<i.length;a++)for(var s=0;s<t.length;s++){var u=t[s];if((!z(u.collapsed)||u.collapsed===n.collapsed)&&(um(u)&&e.is(i[a],u.selector)))return i[a]}return r},Sm=function(e,t,n,r){var o=n,i=e.dom,a=i.getRoot(),s=t[0];if(sm(s)&&(o=s.wrapper?null:i.getParent(n,s.block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(oo(n)?n.parentNode:n,function(t){return t!==a&&mm(e,t)},u)}if(o&&sm(s)&&s.wrapper&&(o=pm(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!em(o,"br")););return o||n},Em=function(e,t,n,r){var o=n.parentNode;return!z(n[r])&&(!(o!==t&&!U(o)&&!e.isBlock(o))||Em(e,t,o,r))},km=function(e,t,n,r,o){var i=n,a=o?"previousSibling":"nextSibling",s=e.getRoot();if(oo(n)&&!hm(n)&&(o?r>0:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(i))return i;for(var u=i[a];u;u=u[a]){var c=oo(u)&&!Em(e,s,u,a);if(!dm(u)&&!gm(u)&&!hm(u,c))return i}if(i===s||i.parentNode===s){n=i;break}i=i.parentNode}return n},_m=function(e){return dm(e.parentNode)||dm(e)},Nm=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,s=t.endOffset,u=e.dom,c=n[0];(Yr(o)&&o.hasChildNodes()&&(o=kl(o,i),oo(o)&&(i=0)),Yr(a)&&a.hasChildNodes()&&(a=kl(a,t.collapsed?s:s-1),oo(a)&&(s=a.nodeValue.length)),o=vm(u,o),a=vm(u,a),_m(o)&&(o=dm(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,oo(o)&&(i=t.collapsed?o.length:0)),_m(a)&&(a=dm(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,oo(a)&&(s=t.collapsed?0:a.length)),t.collapsed)&&(wm(u,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,n=e.offset;o=t,i=n}),wm(u,e.getBody(),a,s,!1,r).each(function(e){var t=e.container,n=e.offset;a=t,s=n}));return(cm(c)||c.block_expand)&&(cm(c)&&oo(o)&&0!==i||(o=km(u,n,o,i,!0)),cm(c)&&oo(a)&&s!==a.nodeValue.length||(a=km(u,n,a,s,!1))),fm(c)&&(o=xm(u,n,t,o,"previousSibling"),a=xm(u,n,t,a,"nextSibling")),(sm(c)||um(c))&&(o=Sm(e,n,o,"previousSibling"),a=Sm(e,n,a,"nextSibling"),sm(c)&&(u.isBlock(o)||(o=km(u,n,o,i,!0)),u.isBlock(a)||(a=km(u,n,a,s,!1)))),Yr(o)&&(i=u.nodeIndex(o),o=o.parentNode),Yr(a)&&(s=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:s}},Tm=function(e,t,n){var r=t.startOffset,o=kl(t.startContainer,r),i=t.endOffset,a=kl(t.endContainer,i-1),s=function(e){var t=e[0];oo(t)&&t===o&&r>=t.data.length&&e.splice(0,1);var n=e[e.length-1];return 0===i&&e.length>0&&n===a&&oo(n)&&e.splice(e.length-1,1),e},u=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},c=function(t,n){return e.getParent(t,function(e){return e.parentNode===n},n)},l=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var c=u(i===e?i:i[o],o);c.length&&(r||c.reverse(),n(s(c)))}};if(o===a)return n(s([o]));var f=e.findCommonAncestor(o,a);if(e.isChildOf(o,a))return l(o,f,!0);if(e.isChildOf(a,o))return l(a,f);var d=c(o,f)||o,p=c(a,f)||a;l(o,d,!0);var h=u(d===o?d:d.nextSibling,"nextSibling",p===a?p.nextSibling:p);h.length&&n(s(h)),l(a,p)},Am=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Dm=function(e){return _e(e,function(e){var t=El(e);return t?[kn.fromDom(t)]:[]})},Pm=function(e){return Am(e).length>1},Rm=function(e){return be(Dm(e),ea)},Om=function(e){return $c(e,"td[data-mce-selected],th[data-mce-selected]")},Lm=function(e,t){var n=Om(t);return n.length>0?n:Rm(e)},Im=function(e){return Lm(Am(e.selection.getSel()),kn.fromDom(e.getBody()))},Bm=function(e,t){return ki(e,"table",t)},Mm=function(e){var t=e.startContainer,n=e.startOffset;return oo(t)?0===n?se.some(kn.fromDom(t)):se.none():se.from(t.childNodes[n]).map(kn.fromDom)},Fm=function(e){var t=e.endContainer,n=e.endOffset;return oo(t)?n===t.data.length?se.some(kn.fromDom(t)):se.none():se.from(t.childNodes[n-1]).map(kn.fromDom)},Hm=function(e){return lr(e).fold(K([e]),function(t){return[e].concat(Hm(t))})},qm=function(e){return fr(e).fold(K([e]),function(t){return"br"===Un(t)?or(t).map(function(t){return[e].concat(qm(t))}).getOr([]):[e].concat(qm(t))})},jm=function(t,n){return vo(Mm(n),Fm(n),function(n,r){var o=Se(Hm(t),e(Fn,n)),i=Se(qm(t),e(Fn,r));return o.isSome()&&i.isSome()}).getOr(!1)},Um=function(e,t,n,r){var o=n,i=new Bi(n,o),a=Ve(e.schema.getMoveCaretBeforeOnEnterElements(),function(e,t){return!pe(["td","th","table"],t.toLowerCase())});do{if(oo(n)&&0!==Cn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},zm=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},Wm=function(e,t){var n=Im(e);n.length>0?ge(n,function(n){var r=n.dom,o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)}):t(e.selection.getRng(),!1)},Vm=function(e,t,n){var r=Pf(e,t);n(r),e.moveToBookmark(r)},$m=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?se.from(t.dom.nodeValue):se.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=r}}}(Xn,"text"),Xm=function(e){return $m.get(e)},Ym=function(e){return Xn(e)&&Xm(e)===ia},Km=function(e,t,n,r){return tr(t).fold(function(){return"skipping"},function(o){return"br"===r||Ym(t)?"valid":Qc(t)?"existing":bh(t.dom)?"caret":Gh(e,n,r)&&Gh(e,Un(o),n)?"valid":"invalid-child"})},Gm=function(e,t){var n=Nm(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Qm=function(e,n,r,o){var i=n.uid,a=void 0===i?ol("mce-annotation"):i,s=t(n,["uid"]),u=kn.fromTag("span",e);jc(u,Xc()),xo(u,""+Kc(),a),xo(u,""+Yc(),r);var c=o(a,s),l=c.attributes,f=void 0===l?{}:l,d=c.classes,p=void 0===d?[]:d;return So(u,f),il(u,p),u},Jm=function(e,t,n,r,o){var i=[],a=Qm(e.getDoc(),o,n,r),s=Pc(),u=function(){s.clear()},c=function(){return s.get().getOrThunk(function(){var e=fl(a);return i.push(e),s.set(e),e})},l=function(e){ge(e,f)},f=function(t){switch(Km(e,t,"span",Un(t))){case"invalid-child":u();var n=ur(t);l(n),u();break;case"valid":var r=c();Nr(t,r)}},d=function(e){var t=me(e,kn.fromDom);l(t)};return Tm(e.dom,t,function(e){u(),d(e)}),i},Zm=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection,i=o.getRng(),a=Im(e).length>0;if(i.collapsed&&!a&&Gm(e,i),o.getRng().collapsed&&!a){var s=Qm(e.getDoc(),r,t,n.decorate);cl(s,oa),o.getRng().insertNode(s.dom),o.select(s.dom)}else Vm(o,!1,function(){Wm(e,function(o){Jm(e,o,t,n.decorate,r)})})})},eg=function(e){var t=nl();tl(e,t);var n=el(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){Zm(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){Gc(e,se.some(t)).each(function(e){var t=e.elements;ge(t,Rr)})},getAll:function(t){var n=Zc(e,t);return qe(n,function(e){return me(e,function(e){return e.dom})})}}},tg=function(t){return{getBookmark:e(Hh,t),moveToBookmark:e(qh,t)}};tg.isBookmarkNode=jh;var ng=function(e,t){for(;t&&t!==e;){if(lo(t)||fo(t))return t;t=t.parentNode}return null},rg=function(e,t,n){if(n.collapsed)return!1;if(mn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Yr(r))return he(r.getClientRects(),function(n){return xl(n,e,t)})}return he(n.getClientRects(),function(n){return xl(n,e,t)})},og=function(e,t){return e.fire("PreProcess",t)},ig=function(e,t){return e.fire("PostProcess",t)},ag=function(e){return e.fire("remove")},sg=function(e){return e.fire("detach")},ug=function(e,t){return e.fire("SwitchMode",{mode:t})},cg=function(e,t,n,r,o){e.fire("ObjectResizeStart",{target:t,width:n,height:r,origin:o})},lg=function(e,t,n,r,o){e.fire("ObjectResized",{target:t,width:n,height:r,origin:o})},fg=function(e){return e.fire("PreInit")},dg=function(e){return e.fire("PostRender")},pg=function(e){return e.fire("Init")},hg=function(e,t){return e.fire("PlaceholderToggle",{state:t})},mg=function(e,t,n){return e.fire(t,n)},gg=function(e,t,n,r){return e.fire("FormatApply",{format:t,node:n,vars:r})},vg=function(e,t,n,r){return e.fire("FormatRemove",{format:t,node:n,vars:r})},yg={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||yg.metaKeyPressed(e)},metaKeyPressed:function(e){return mn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},bg=fo,Cg=function(e,t){var n,r,o,i,a,s,u,c,l,f,d,p,h,m,g,v,y,b="data-mce-selected",C=t.dom,w=Cn.each,x=t.getDoc(),S=document,E=Math.abs,k=Math.round,_=t.getBody(),N={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},T=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},A=function(e){return ho(e)||C.hasClass(e,"mce-preview-object")},D=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return T(e.target)&&!rg(n.clientX,n.clientY,t)}return T(e.target)&&!rg(e.clientX,e.clientY,t)},P=function(e){var n=e.target;D(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},R=function(e){return C.is(e,"figure.image")?[e.querySelector("img")]:C.hasClass(e,"mce-preview-object")&&z(e.firstElementChild)?[e,e.firstElementChild]:[e]},O=function(e){var n=yd(t);return!!n&&("false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&(C.hasClass(e,"mce-preview-object")?Ln(kn.fromDom(e.firstElementChild),n):Ln(kn.fromDom(e),n))))},L=function(e){return A(e)?C.create("img",{src:mn.transparentSrc}):e.cloneNode(!0)},I=function(e,n,r){if(z(r)){var o=R(e);ge(o,function(e){e.style[n]||!t.schema.isValid(e.nodeName.toLowerCase(),n)?C.setStyle(e,n,r):C.setAttrib(e,n,""+r)})}},B=function(e,t,n){I(e,"width",t),I(e,"height",n)},M=function(e){var a,b,w,x;a=e.screenX-s,b=e.screenY-u,m=a*i[2]+f,g=b*i[3]+d,m=m<5?5:m,g=g<5?5:g,((T(n)||A(n))&&!1!==bd(t)?!yg.modifierPressed(e):yg.modifierPressed(e))&&(E(a)>E(b)?(g=k(m*p),m=k(g/p)):(m=k(g/p),g=k(m*p))),B(r,m,g),w=(w=i.startPos.x+a)>0?w:0,x=(x=i.startPos.y+b)>0?x:0,C.setStyles(o,{left:w,top:x,display:"block"}),o.innerHTML=m+" &times; "+g,i[2]<0&&r.clientWidth<=m&&C.setStyle(r,"left",c+(f-m)),i[3]<0&&r.clientHeight<=g&&C.setStyle(r,"top",l+(d-g)),(a=_.scrollWidth-v)+(b=_.scrollHeight-y)!==0&&C.setStyles(o,{left:w-a,top:x-b}),h||(cg(t,n,f,d,"corner-"+i.name),h=!0)},F=function(){var e=h;h=!1,e&&(I(n,"width",m),I(n,"height",g)),C.unbind(x,"mousemove",M),C.unbind(x,"mouseup",F),S!==x&&(C.unbind(S,"mousemove",M),C.unbind(S,"mouseup",F)),C.remove(r),C.remove(o),C.remove(a),H(n),e&&(lg(t,n,m,g,"corner-"+i.name),C.setAttrib(n,"style",C.getAttrib(n,"style"))),t.nodeChanged()},H=function(e){W();var c=C.getPos(e,_),l=c.x,h=c.y,E=e.getBoundingClientRect(),k=E.width||E.right-E.left,T=E.height||E.bottom-E.top;n!==e&&(q(),n=e,m=g=0);var A=t.fire("ObjectSelected",{target:e}),D=C.getAttrib(n,b,"1");O(e)&&!A.isDefaultPrevented()?w(N,function(e,t){var c,m=function(c){var m=R(n)[0];s=c.screenX,u=c.screenY,f=m.clientWidth,d=m.clientHeight,p=d/f,(i=e).name=t,i.startPos={x:k*e[0]+l,y:T*e[1]+h},v=_.scrollWidth,y=_.scrollHeight,a=C.add(_,"div",{"class":"mce-resize-backdrop","data-mce-bogus":"all"}),C.setStyles(a,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),r=L(n),C.addClass(r,"mce-clonedresizable"),C.setAttrib(r,"data-mce-bogus","all"),r.contentEditable="false",C.setStyles(r,{left:l,top:h,margin:0}),B(r,k,T),r.removeAttribute(b),_.appendChild(r),C.bind(x,"mousemove",M),C.bind(x,"mouseup",F),S!==x&&(C.bind(S,"mousemove",M),C.bind(S,"mouseup",F)),o=C.add(_,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+d)};(c=C.get("mceResizeHandle"+t))&&C.remove(c),c=C.add(_,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===mn.ie&&(c.contentEditable=!1),C.bind(c,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),m(e)}),e.elm=c,C.setStyles(c,{left:k*e[0]+l-c.offsetWidth/2,top:T*e[1]+h-c.offsetHeight/2})}):q(),C.getAttrib(n,b)||n.setAttribute(b,D)},q=function(){W(),n&&n.removeAttribute(b),He(N,function(e,t){var n=C.get("mceResizeHandle"+t);n&&(C.unbind(n),C.remove(n))})},j=function(n){var r,o=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};h||t.removed||(w(C.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute(b)}),r="mousedown"===n.type?n.target:e.getNode(),o(r=C.$(r).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],_)&&(V(),o(e.getStart(!0),r)&&o(e.getEnd(!0),r))?H(r):q())},U=function(e){return bg(ng(t.getBody(),e))},W=function(){He(N,function(e){e.elm&&(C.unbind(e.elm),delete e.elm)})},V=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",function(){if(V(),mn.browser.isIE()||mn.browser.isEdge()){t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;h||!/^(TABLE|IMG|HR)$/.test(r)||U(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())});var e=function(e){var n=function(e){Oi.setEditorTimeout(t,function(){return t.selection.select(e)})};if(U(e.target)||ho(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};C.bind(_,"mscontrolselect",e),t.on("remove",function(){return C.unbind(_,"mscontrolselect",e)})}var r=Oi.throttle(function(e){t.composing||j(e)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",r),t.on("keyup compositionend",function(e){n&&"TABLE"===n.nodeName&&r(e)}),t.on("hide blur",q),t.on("contextmenu longpress",P,!0)}),t.on("remove",W),{isResizable:O,showResizeRect:H,hideResizeRect:q,updateResizeRect:j,destroy:function(){n=r=a=null}}},wg=function(e){return lo(e)||fo(e)},xg=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Sg=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),(r=(r=Cn.toArray(i.getClientRects())).sort(function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-(n=Math.abs(Math.max(n.top-t,n.bottom-t)))})).length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(a){}}return null},Eg=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return fo(xg(n,t,wg))?null:e},kg=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=Sg(e,t,n)}return Eg(r,n.body)}return r},_g=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},Ng=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Tg=function(e,t,n){return null!==Ng(e,t,n)},Ag=function(e,t,n){return Tg(e,t,function(e){return e.nodeName===n})},Dg=function(e){return e&&"TABLE"===e.nodeName},Pg=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Rg=function(e,t){return da(e)&&!1===Tg(e,t,bh)},Og=function(e,t,n){for(var r=new Bi(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(uo(t))return!0},Lg=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},Ig=function(e,t){for(;t&&t!==e;){if(fo(t))return!0;t=t.parentNode}return!1},Bg=function(e,t,n,r,o){var i,a,s=e.getRoot(),u=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||s;if(r&&uo(o)&&t&&e.isEmpty(c))return se.some(Ql(o.parentNode,e.nodeIndex(o)));for(var l=new Bi(o,c);a=l[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||Rg(a,s))return se.none();if(oo(a)&&a.nodeValue.length>0)return!1===Ag(a,s,"A")?se.some(Ql(a,r?a.nodeValue.length:0)):se.none();if(e.isBlock(a)||u[a.nodeName.toLowerCase()])return se.none();i=a}return n&&i?se.some(Ql(i,0)):se.none()},Mg=function(e,t,n,r){var o,i,a,s,u=e.getRoot(),c=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=Yr(o)&&i===o.childNodes.length,f=e.schema.getNonEmptyElements();if(s=n,da(o))return se.none();if(Yr(o)&&i>o.childNodes.length-1&&(s=!1),ao(o)&&(o=u,i=0),o===u){if(s&&(a=o.childNodes[i>0?i-1:0])){if(da(a))return se.none();if(f[a.nodeName]||Dg(a))return se.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=oo(o)&&l?o.data.length:0,!t&&o===u.lastChild&&Dg(o))return se.none();if(Ig(u,o)||da(o))return se.none();if(o.hasChildNodes()&&!1===Dg(o)){a=o;var d=new Bi(o,u);do{if(fo(a)||da(a)){c=!1;break}if(oo(a)&&a.nodeValue.length>0){i=s?0:a.nodeValue.length,o=a,c=!0;break}if(f[a.nodeName.toLowerCase()]&&!Pg(a)){i=e.nodeIndex(a),o=a.parentNode,s||i++,c=!0;break}}while(a=s?d.next():d.prev())}}}return t&&(oo(o)&&0===i&&Bg(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),c=!0}),Yr(o)&&((a=o.childNodes[i])||(a=o.childNodes[i-1]),!a||!uo(a)||Lg(a,"A")||Og(e,a,!1)||Og(e,a,!0)||Bg(e,l,t,!0,a).each(function(e){o=e.container(),i=e.offset(),c=!0}))),s&&!t&&oo(o)&&i===o.nodeValue.length&&Bg(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),c=!0}),c?se.some(Ql(o,i)):se.none()},Fg=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=Ql.fromRangeStart(t);return Mg(e,n,!0,r).each(function(e){n&&Ql.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||Mg(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),_g(t,r)?se.none():se.some(r)},Hg=function(e,t){return e.splitText(t)},qg=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&oo(t)?n>0&&n<t.nodeValue.length&&(t=(r=Hg(t,n)).previousSibling,o>n?(t=r=Hg(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(oo(t)&&n>0&&n<t.nodeValue.length&&(t=Hg(t,n),n=0),oo(r)&&o>0&&o<r.nodeValue.length&&(o=(r=Hg(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},jg=function(e){return{walk:function(t,n){return Tm(e,t,n)},split:qg,normalize:function(t){return Fg(e,t).fold(ne,function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}};jg.compareRanges=_g,jg.getCaretRangeFromPoint=kg,jg.getSelectedNode=El,jg.getNode=kl;var Ug,zg=function(e,t){var n=function(n){var r=t(n);if(r<=0||null===r){var o=Po(n,e);return parseFloat(o)||0}return r},r=function(e,t){return we(t,function(t,n){var r=Po(e,n),o=r===undefined?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:function(t,n){if(!V(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom;Co(r)&&(r.style[e]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(e,t,n){var o=r(e,n);return t>o?t-o:0}}}("height",function(e){var t=e.dom;return Or(e)?t.getBoundingClientRect().height:t.offsetHeight}),Wg=function(e){return zg.get(e)},Vg=function(e,t){return e.view(t).fold(K([]),function(t){var n=e.owner(t),r=Vg(e,n);return[t].concat(r)})},$g=function(e,t){var n=t.owner(e);return Vg(t,n)},Xg=function(e){var t;return(e.dom===document?se.none():se.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(kn.fromDom)},Yg=function(e){return Jn(e)},Kg=Object.freeze({__proto__:null,view:Xg,owner:Yg}),Gg=function(e){var t=kn.fromDom(document),n=qr(t),r=$g(e,Kg),o=Hr(e),i=Ce(r,function(e,t){var n=Hr(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return Ir(i.left+o.left+n.left,i.top+o.top+n.top)},Qg=function(e){return"textarea"===Un(e)},Jg=function(e,t){return e.fire("ScrollIntoView",t).isDefaultPrevented()
},Zg=function(e,t){e.fire("AfterScrollIntoView",t)},ev=function(e,t){var n=ur(e);if(0===n.length||Qg(e))return{element:e,offset:t};if(t<n.length&&!Qg(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return Qg(r)?{element:e,offset:t}:"img"===Un(r)?{element:r,offset:1}:Xn(r)?{element:r,offset:Xm(r).length}:{element:r,offset:ur(r).length}},tv=function(e,t){var n=Fr(e),r=Wg(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},nv=function(e,t){var n=ev(e,t),r=kn.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+ia+"</span>");return Sr(n.element,r),tv(r,function(){return Pr(r)})},rv=function(e){return tv(kn.fromDom(e),$)},ov=function(e,t,n,r){uv(e,function(){return av(e,t,n,r)},n)},iv=function(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};Jg(e,i)||(n(t,qr(t).top,r,o),Zg(e,i))},av=function(e,t,n,r){var o=kn.fromDom(e.getBody()),i=kn.fromDom(e.getDoc());Io(o);var a=nv(kn.fromDom(n.startContainer),n.startOffset);iv(e,i,t,a,r),a.cleanup()},sv=function(e,t,n,r){var o=kn.fromDom(e.getDoc());iv(e,o,n,rv(t),r)},uv=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(kn.fromDom(r),kn.fromDom(i));var s=e.dom.createRng();s.setStart(r,o),s.setEnd(i,a),e.selection.setRng(n)},cv=function(e,t,n,r){var o=e.pos;if(n)jr(o.left,o.top,r);else{var i=o.top-t+e.height;jr(o.left,i,r)}},lv=function(e,t,n,r,o){var i=n+t,a=r.pos.top,s=r.bottom,u=s-a>=n;if(a<t)cv(r,n,!1!==o,e);else if(a>i){cv(r,n,u?!1!==o:!0===o,e)}else s>i&&!u&&cv(r,n,!0===o,e)},fv=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;lv(e,t,o,n,r)},dv=function(e,t,n,r){var o=e.dom.defaultView.innerHeight;lv(e,t,o,n,r);var i=Gg(n.element),a=Vr(window);i.top<a.y?Ur(n.element,!1!==r):i.top>a.bottom&&Ur(n.element,!0===r)},pv=function(e,t,n){return ov(e,fv,t,n)},hv=function(e,t,n){return sv(e,t,fv,n)},mv=function(e,t,n){return ov(e,dv,t,n)},gv=function(e,t,n){return sv(e,t,dv,n)},vv=function(e,t,n){(e.inline?hv:gv)(e,t,n)},yv=function(e,t,n){(e.inline?pv:mv)(e,t,n)},bv=function(){return kn.fromDom(document)},Cv=function(e){return e.dom.focus()},wv=function(e){var t=vr(e).dom;return e.dom===t.activeElement},xv=function(e){return void 0===e&&(e=bv()),se.from(e.dom.activeElement).map(kn.fromDom)},Sv=function(e){return xv(vr(e)).filter(function(t){return e.dom.contains(t.dom)})},Ev={create:function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}},kv=ei.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_v=function(e,t,n,r){return e.fold(t,n,r)},Nv=function(e){return e.fold(G,G,G)},Tv={before:kv.before,on:kv.on,after:kv.after,cata:_v,getStart:Nv},Av=ei.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Dv=function(e){return Av.exact(e.start,e.soffset,e.finish,e.foffset)},Pv=function(e){return e.match({domRange:function(e){return kn.fromDom(e.startContainer)},relative:function(e){return Tv.getStart(e)},exact:function(e){return e}})},Rv={domRange:Av.domRange,relative:Av.relative,exact:Av.exact,exactFromRange:Dv,getWin:function(e){var t=Pv(e);return er(t)},range:Ev.create},Ov=an().browser,Lv=function(e,t){var n=Xn(t)?Xm(t).length:ur(t).length+1;return e>n?n:e<0?0:e},Iv=function(e){return Rv.range(e.start,Lv(e.soffset,e.start),e.finish,Lv(e.foffset,e.finish))},Bv=function(e,t){return!Xr(t.dom)&&(jn(e,t)||Fn(e,t))},Mv=function(e){return function(t){return Bv(e,t.start)&&Bv(e,t.finish)}},Fv=function(e){return!0===e.inline||Ov.isIE()},Hv=function(e){return Rv.range(kn.fromDom(e.startContainer),e.startOffset,kn.fromDom(e.endContainer),e.endOffset)},qv=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?se.from(t.getRangeAt(0)):se.none()).map(Hv)},jv=function(e){var t=er(e);return qv(t.dom).filter(Mv(e))},Uv=function(e,t){return se.from(t).filter(Mv(e)).map(Iv)},zv=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),se.some(t)}catch(n){return se.none()}},Wv=function(e){var t=Fv(e)?jv(kn.fromDom(e.getBody())):se.none();e.bookmark=t.isSome()?t:e.bookmark},Vv=function(e,t){var n=kn.fromDom(e.getBody()),r=(Fv(e)?se.from(t):se.none()).map(Hv).filter(Mv(n));e.bookmark=r.isSome()?r:e.bookmark},$v=function(e){return(e.bookmark?e.bookmark:se.none()).bind(function(t){return Uv(kn.fromDom(e.getBody()),t)}).bind(zv)},Xv=function(e){$v(e).each(function(t){return e.selection.setRng(t)})},Yv={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Kv=function(e){return"nodechange"===e.type&&e.selectionChange},Gv=function(e,t){var n=function(){t.throttle()};pc.DOM.bind(document,"mouseup",n),e.on("remove",function(){pc.DOM.unbind(document,"mouseup",n)})},Qv=function(e){e.on("focusout",function(){Wv(e)})},Jv=function(e,t){e.on("mouseup touchend",function(){t.throttle()})},Zv=function(e,t){an().browser.isIE()?Qv(e):Jv(e,t),e.on("keyup NodeChange",function(t){Kv(t)||Wv(e)})},ey=function(e){var t=Rc(function(){Wv(e)},0);e.on("init",function(){e.inline&&Gv(e,t),Zv(e,t)}),e.on("remove",function(){t.cancel()})},ty=pc.DOM,ny=function(e){return Yv.isEditorUIElement(e)},ry=function(e){var t=e.classList;return t!==undefined&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},oy=function(e,t){var n=Ad(e);return null!==ty.getParent(t,function(t){return ny(t)||!!n&&e.dom.is(t,n)})},iy=function(e){try{var t=vr(kn.fromDom(e.getElement()));return xv(t).fold(function(){return document.body},function(e){return e.dom})}catch(n){return document.body}},ay=function(e,t){var n=t.editor;ey(n),n.on("focusin",function(){var t=e.focusedEditor;t!==n&&(t&&t.fire("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.fire("focus",{blurredEditor:t}),n.focus(!0))}),n.on("focusout",function(){Oi.setEditorTimeout(n,function(){var t=e.focusedEditor;oy(n,iy(n))||t!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Ug||(Ug=function(t){var n=e.activeEditor;n&&wr(t).each(function(t){t.ownerDocument===document&&(t===document.body||oy(n,t)||e.focusedEditor!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))})},ty.bind(document,"focusin",Ug))},sy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(ty.unbind(document,"focusin",Ug),Ug=null)},uy=function(t){t.on("AddEditor",e(ay,t)),t.on("RemoveEditor",e(sy,t))},cy=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},ly=function(e){return e.collapsed?se.from(kl(e.startContainer,e.startOffset)).map(kn.fromDom):se.none()},fy=function(e,t){return ly(t).bind(function(t){return Zi(t)?se.some(t):!1===jn(e,t)?se.some(e):se.none()})},dy=function(e,t){fy(kn.fromDom(e.getBody()),t).bind(function(e){return gh(e.dom)}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},py=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},hy=function(e){return wv(e)||Sv(e).isSome()},my=function(e){return e.iframeElement&&wv(kn.fromDom(e.iframeElement))},gy=function(e){var t=e.getBody();return t&&hy(kn.fromDom(t))},vy=function(e){var t=vr(kn.fromDom(e.getElement()));return xv(t).filter(function(t){return!ry(t.dom)&&oy(e,t.dom)}).isSome()},yy=function(e){return e.inline?gy(e):my(e)},by=function(e){return yy(e)||vy(e)},Cy=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),e.bookmark!==undefined&&!1===yy(e)&&$v(e).each(function(t){e.selection.setRng(t),r=t});var o=cy(e,t.getNode());if(e.$.contains(n,o))return py(o),dy(e,r),void wy(e);e.inline||(mn.opera||py(n),e.getWin().focus()),(mn.gecko||e.inline)&&(py(n),dy(e,r)),wy(e)},wy=function(e){return e.editorManager.setActive(e)},xy=function(e,t){e.removed||(t?wy(e):Cy(e))},Sy=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return se.from(i).map(kn.fromDom).map(function(e){return r&&t.collapsed?e:cr(e,o(e,a)).getOr(e)}).bind(function(e){return $n(e)?se.some(e):tr(e).filter($n)}).map(function(e){return e.dom}).getOr(e)},Ey=function(e,t,n){return Sy(e,t,!0,n,function(e,t){return Math.min(dr(e),t)})},ky=function(e,t,n){return Sy(e,t,!1,n,function(e,t){return t>0?t-1:t})},_y=function(e,t){for(var n=e;e&&oo(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},Ny=function(e,t){var n,r,o;if(!t)return e;r=t.startContainer,o=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?_y(r.nextSibling,!0):r.parentNode,o=0===a?_y(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n},Ty=function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||Ey(a,t,t.collapsed),e.isBlock),r=e.getParent(r||ky(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;for(var s=new Bi(n,a);(o=s.next())&&o!==r;)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},Ay=function(e,t,n){return se.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(Um(e,o,t,!0),Um(e,o,t,!1)),o})},Dy=function(e,t){return me(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},Py={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ry=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},Oy=function(e){if(!qa(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},Ly=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Iy=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,Py[t]||1);return n&&He(n,function(e,t){r.attr(t,e)}),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return e!==undefined&&null!==e&&He(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(t!==undefined){if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var s=t[i];"id"!==s.name&&(o[o.length]={name:s.name,value:s.value},o.map[s.name]=s.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=Ry(r,t))r.name===e&&n.push(r);return n},e.prototype.children=function(){for(var e=[],t=this.firstChild;t;t=t.next)e.push(t);return e},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=Ry(n,e))t.push(n);for(var r=t.length;r--;){(n=t[r]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(Ly(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(Ly(o))return!1}if(8===o.type)return!1;if(3===o.type&&!Oy(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&qa(o.value))return!1;if(n&&n(o))return!1}while(o=Ry(o,r));return!0},e.prototype.walk=function(e){return Ry(this,null,e)},e}(),By=function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],o={},i=ol("img"),a=0,s=0;t=n.exec(e);){var u=t[0],c=i+"_"+s++;o[c]=u,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+u.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})},My=function(e,t){return e.replace(t.re,function(e){return Ye(t.uris,e).getOr(e)})},Fy=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return t?se.some({type:t[1],data:decodeURIComponent(t[2])}):se.none()},Hy=Cn.each,qy=Cn.trim,jy="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Uy={ftp:21,http:80,https:443,mailto:25},zy=["img","video"],Wy=function(e,t){return z(e)?!e:!z(t)||!pe(zy,t)},Vy=function(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?Wy(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},$y=function(){function e(t,n){t=qy(t),this.settings=n||{};var r=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))o.source=t;else{var i=0===t.indexOf("//");if(0!==t.indexOf("/")||i||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var a=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+o.toAbsPath(a,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(a,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);Hy(jy,function(e,t){var n=u[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n}),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),i&&(o.protocol="")}}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.isDomSafe=function(e,t,n){if(void 0===n&&(n={}),n.allow_script_urls)return!0;var r=ys.decode(e).replace(/[\s\u0000-\u001F]+/g,"");try{r=decodeURIComponent(r)}catch(o){r=unescape(r)}return!/((java|vb)script|mhtml):/i.test(r)&&!Vy(n,r,t)},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=Uy[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||a[n]!==s[n]){o=n+1;break}if(a.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||a[n]!==s[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=s.length;n<r;n++)i+=n!==o-1?"/"+s[n]:s[n];return i},e.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),u=t.split("/");for(Hy(s,function(e){e&&i.push(e)}),s=i,n=u.length-1,i=[];n>=0;n--)0!==u[n].length&&"."!==u[n]&&(".."!==u[n]?o>0?o--:i.push(u[n]):o++);return 0!==(r=(n=s.length-o)<=0?Te(i).join("/"):s.slice(0,n).join("/")+"/"+Te(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),Xy=Cn.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Yy=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Ky=function(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),a=1,s=n;0!==a;)for(r.lastIndex=s;;){var u=r.exec(t);if(null===u)return s;if("!"===u[1]){s=Et(u[2],"--")?Qy(t,!1,u.index+"!--".length):Qy(t,!0,u.index+1);break}o.lastIndex=r.lastIndex;var c=o.exec(t);if(!H(c)&&c.index===r.lastIndex){"/"===u[1]?a-=1:Ke(i,u[2])||(a+=1),s=r.lastIndex+c[0].length;break}}return s},Gy=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Qy=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&Gy(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var s=a.exec(e);return s?s.index+s[0].length:r.length},Jy=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null},Zy=function(e,t){var n;void 0===t&&(t=As());var r=null!==(n=(e=e||{}).document)&&void 0!==n?n:document,o=r.createElement("form");!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var i=e.comment?e.comment:$,a=e.cdata?e.cdata:$,s=e.text?e.text:$,u=e.start?e.start:$,c=e.end?e.end:$,l=e.pi?e.pi:$,f=e.doctype?e.doctype:$,d=function(n,d){void 0===d&&(d="html");for(var p,h,m,g,v,y,b,C,w,x,S,E,k,_,N,T,A,D,P,R=n.html,O=0,L=[],I=0,B=ys.decode,M=Cn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),F="html"===d?0:1,H=function(e){var t,n;for(t=L.length;t--&&L[t].name!==e;);if(t>=0){for(n=L.length-1;n>=t;n--)(e=L[n]).valid&&c(e.name);L.length=t}},q=function(e,t){return s(My(e,n),t)},j=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),i(My(t,n)))},U=function(e){return My(e,n)},z=function(e,t){var n=e||"",r=!Et(n,"--"),o=Qy(R,r,t);return e=R.substr(t,o-t),j(r?n+e:e),o+1},W=function(t,n,i,a,s){if(n=n.toLowerCase(),i=U(n in K?n:B(i||a||s||"")),G&&!C&&!1===Yy(n)){var u=_[n];if(!u&&N){for(var c=N.length;c--&&!(u=N[c]).pattern.test(n););-1===c&&(u=null)}if(!u)return;if(u.validValues&&!(i in u.validValues))return}("name"===n||"id"===n)&&t in Xy&&(i in r||i in o)||M[n]&&!$y.isDomSafe(i,t,e)||C&&(n in M||0===n.indexOf("on"))||(g.map[n]=i,g.push({name:n,value:i}))},V=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),$=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,X=t.getShortEndedElements(),Y=e.self_closing_elements||t.getSelfClosingElements(),K=t.getBoolAttrs(),G=e.validate,Q=e.remove_internals,J=e.fix_self_closing,Z=t.getSpecialElements(),ee=R+">";p=V.exec(ee);){var te=p[0];if(O<p.index&&q(B(R.substr(O,p.index-O))),h=p[7])":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),H(h);else if(h=p[8]){if(p.index+te.length>R.length){q(B(R.substr(p.index))),O=p.index+te.length;continue}":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),w=h in X,J&&Y[h]&&L.length>0&&L[L.length-1].name===h&&H(h);var ne=Jy($,p[9]);if(null!==ne){if("all"===ne){O=Ky(t,R,V.lastIndex),V.lastIndex=O;continue}S=!1}if(!G||(x=t.getElementRule(h))){if(S=!0,G&&(_=x.attributes,N=x.attributePatterns),(k=p[9])?((C=-1!==k.indexOf("data-mce-type"))&&Q&&(S=!1),(g=[]).map={},k.replace($,function(e,t,n,r,o){return W(h,t,n,r,o),""})):(g=[]).map={},G&&!C){if(T=x.attributesRequired,A=x.attributesDefault,D=x.attributesForced,x.removeEmptyAttrs&&!g.length&&(S=!1),D)for(v=D.length;v--;)b=(E=D[v]).name,"{$uid}"===(P=E.value)&&(P="mce_"+I++),g.map[b]=P,g.push({name:b,value:P});if(A)for(v=A.length;v--;)(b=(E=A[v]).name)in g.map||("{$uid}"===(P=E.value)&&(P="mce_"+I++),g.map[b]=P,g.push({name:b,value:P}));if(T){for(v=T.length;v--&&!(T[v]in g.map););-1===v&&(S=!1)}if(E=g.map["data-mce-bogus"]){if("all"===E){O=Ky(t,R,V.lastIndex),V.lastIndex=O;continue}S=!1}}S&&u(h,g,w)}else S=!1;if(m=Z[h]){m.lastIndex=O=p.index+te.length,(p=m.exec(R))?(S&&(y=R.substr(O,p.index-O)),O=p.index+p[0].length):(y=R.substr(O),O=R.length),S&&(y.length>0&&q(y,!0),c(h)),V.lastIndex=O;continue}w||(k&&k.indexOf("/")===k.length-1?S&&c(h):L.push({name:h,valid:S}))}else if(h=p[1])j(h);else if(h=p[2]){if(!(1===F||e.preserve_cdata||L.length>0&&t.isValidChild(L[L.length-1].name,"#cdata"))){O=z("",p.index+2),V.lastIndex=O;continue}a(h)}else if(h=p[3])f(h);else{if((h=p[4])||"<!"===te){O=z(h,p.index+te.length),V.lastIndex=O;continue}if(h=p[5]){if(1!==F){O=z("?",p.index+2),V.lastIndex=O;continue}l(h,p[6])}}O=p.index+te.length}for(O<R.length&&q(B(R.substr(O))),v=L.length-1;v>=0;v--)(h=L[v]).valid&&c(h.name)};return{parse:function(e,t){void 0===t&&(t="html"),d(By(e),t)}}};Zy.findEndTag=Ky;var eb=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},tb=function(e,t){for(var n,r=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema,i=eb(e.getTempAttrs(),t),a=o.getShortEndedElements();n=r.exec(i);){var s=r.lastIndex,u=n[0].length,c=void 0;c=a[n[1]]?s:Zy.findEndTag(o,i,s),i=i.substring(0,s-u)+i.substring(c),r.lastIndex=s-u}return sa(i)},nb=tb,rb=function(e,t){var n=Wf(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},ob=function(e,t){return st(st({},e),{format:t,get:!0,getInner:!0})},ib=function(e,t,n,r){var o,i=ob(t,n),a=t.no_events?i:e.fire("BeforeGetContent",i);return o="raw"===a.format?Cn.trim(nb(e.serializer,r.innerHTML)):"text"===a.format?e.dom.isEmpty(r)?"":sa(r.innerText||r.textContent):"tree"===a.format?e.serializer.serialize(r,a):rb(e,e.serializer.serialize(r,a)),pe(["text","tree"],a.format)||ta(kn.fromDom(r))?a.content=o:a.content=Cn.trim(o),a.no_events?a.content:e.fire("GetContent",a).content},ab=function(e,t,n){return se.from(e.getBody()).fold(K("tree"===t.format?new Iy("body",11):""),function(r){return ib(e,t,n,r)})},sb=Cn.each,ub=function(e){return{compare:function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return sb(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(Ke(e,r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(Ke(t,r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!jh(t)&&!jh(n)))}}},cb=Cn.makeMap,lb=function(e){var t=[],n=(e=e||{}).indent,r=cb(e.indent_before||""),o=cb(e.indent_after||""),i=ys.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,s,u){var c,l,f,d;if(n&&r[e]&&t.length>0&&(d=t[t.length-1]).length>0&&"\n"!==d&&t.push("\n"),t.push("<",e),s)for(c=0,l=s.length;c<l;c++)f=s[c],t.push(" ",f.name,'="',i(f.value,!0),'"');t[t.length]=!u||a?">":" />",u&&n&&o[e]&&t.length>0&&(d=t[t.length-1]).length>0&&"\n"!==d&&t.push("\n")},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1]).length>0&&"\n"!==r&&t.push("\n")},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("<!--",e,"-->")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},fb=function(e,t){void 0===t&&(t=As());var n=lb(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r=i[e.type];if(r)r(e);else{var s=e.name,u=e.shortEnded,c=e.attributes;if(o&&c&&c.length>1){var l=[];l.map={};var f=t.getElementRule(e.name);if(f){for(var d=0,p=f.attributesOrder.length;d<p;d++){if((m=f.attributesOrder[d])in c.map){var h=c.map[m];l.map[m]=h,l.push({name:m,value:h})}}for(d=0,p=c.length;d<p;d++){var m;if(!((m=c[d].name)in l.map)){h=c.map[m];l.map[m]=h,l.push({name:m,value:h})}}c=l}}if(n.start(e.name,c,u),!u){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(s)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}},db=new Set;ge(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(e){db.add(e)});var pb=["font","text-decoration","text-emphasis"],hb=function(e,t){return Me(e.parseStyle(e.getAttrib(t,"style")))},mb=function(e){return db.has(e)},gb=function(e,t){return Ne(hb(e,t),function(e){return!mb(e)})},vb=function(e){return be(e,function(e){return he(pb,function(t){return Et(e,t)})})},yb=function(e,t,n){var r=hb(e,t),o=hb(e,n),i=function(r){var o=e.getStyle(t,r),i=e.getStyle(n,r);return At(o)&&At(i)&&o!==i};return he(r,function(e){var t=function(t){return he(t,function(t){return t===e})};if(!t(o)&&t(pb)){var n=vb(o);return he(n,i)}return i(e)})},bb=function(e,t,n){return se.from(n.container()).filter(oo).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},Cb=e(bb,!0,zh),wb=e(bb,!1,zh),xb=function(e){var t=e.container();return oo(t)&&(0===t.data.length||aa(t.data)&&tg.isBookmarkNode(t.parentNode))},Sb=function(e,t){return function(n){return se.from(Pp(e?0:-1,n)).filter(t).isSome()}},Eb=function(e){return co(e)&&"block"===Po(kn.fromDom(e),"display")},kb=function(e){return fo(e)&&!eo(e)},_b=Sb(!0,Eb),Nb=Sb(!1,Eb),Tb=Sb(!0,ho),Ab=Sb(!1,ho),Db=Sb(!0,to),Pb=Sb(!1,to),Rb=Sb(!0,kb),Ob=Sb(!1,kb),Lb=function(e){for(var t=[],n=e.dom;n;)t.push(kn.fromDom(n)),n=n.lastChild;return t},Ib=function(e){var t=$c(e,"br"),n=be(Lb(e).slice(-1),Ki);t.length===n.length&&ge(n,Pr)},Bb=function(e){Dr(e),_r(e,kn.fromHtml('<br data-mce-bogus="1">'))},Mb=function(e){fr(e).each(function(t){or(t).each(function(n){$i(e)&&Ki(t)&&$i(n)&&Pr(t)})})},Fb=function(e){return e.slice(0,-1)},Hb=function(e,t,n){return jn(t,e)?Fb(nr(e,function(e){return n(e)||Fn(e,t)})):[]},qb=function(e,t){return Hb(e,t,ne)},jb=function(e,t){return[e].concat(qb(e,t))},Ub=function(e,t,n){return dh(e,t,n,xb)},zb=function(e,t){return Se(jb(kn.fromDom(t.container()),e),$i)},Wb=function(e,t,n){return Ub(e,t.dom,n).forall(function(e){return zb(t,n).fold(function(){return!1===Dp(e,n,t.dom)},function(r){return!1===Dp(e,n,t.dom)&&jn(r,kn.fromDom(e.container()))})})},Vb=function(e,t,n){return zb(t,n).fold(function(){return Ub(e,t.dom,n).forall(function(e){return!1===Dp(e,n,t.dom)})},function(t){return Ub(e,t.dom,n).isNone()})},$b=e(Vb,!1),Xb=e(Vb,!0),Yb=e(Wb,!1),Kb=e(Wb,!0),Gb=function(e){return qp(e).exists(Ki)},Qb=function(e,t,n){var r=be(jb(kn.fromDom(n.container()),t),$i),o=Oe(r).getOr(t);return lh(e,o.dom,n).filter(Gb)},Jb=function(e,t){return qp(t).exists(Ki)||Qb(!0,e,t).isSome()},Zb=function(e,t){return jp(t).exists(Ki)||Qb(!1,e,t).isSome()},eC=e(Qb,!1),tC=e(Qb,!0),nC=function(e){return Ql.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},rC=function(e,t){var n=be(jb(kn.fromDom(t.container()),e),$i);return Oe(n).getOr(e)},oC=function(e,t){return nC(t)?wb(t):wb(t)||mh(rC(e,t).dom,t).exists(wb)},iC=function(e,t){return nC(t)?Cb(t):Cb(t)||hh(rC(e,t).dom,t).exists(Cb)},aC=function(e){return pe(["pre","pre-wrap"],e)},sC=function(e){return qp(e).bind(function(e){return xi(e,$n)}).exists(function(e){return aC(Po(e,"white-space"))})},uC=function(e,t){return mh(e.dom,t).isNone()},cC=function(e,t){return hh(e.dom,t).isNone()},lC=function(e,t){return uC(e,t)||cC(e,t)||$b(e,t)||Xb(e,t)||Zb(e,t)||Jb(e,t)},fC=function(e,t){return!sC(t)&&(lC(e,t)||oC(e,t)||iC(e,t))},dC=function(e,t){return!sC(t)&&($b(e,t)||Yb(e,t)||Zb(e,t)||oC(e,t))},pC=function(e){var t=e.container(),n=e.offset();return oo(t)&&n<t.data.length?Ql(t,n+1):e},hC=function(e,t){return!sC(t)&&(Xb(e,t)||Kb(e,t)||Jb(e,t)||iC(e,t))},mC=function(e,t){return dC(e,t)||hC(e,pC(t))},gC=function(e,t){return Uh(e.charAt(t))},vC=function(e){var t=e.container();return oo(t)&&St(t.data,oa)},yC=function(e){var t=e.split("");return me(t,function(e,n){return Uh(e)&&n>0&&n<t.length-1&&Wh(t[n-1])&&Wh(t[n+1])?" ":e}).join("")},bC=function(e,t){var n=t.data,r=Ql(t,0);return!(!gC(n,0)||mC(e,r))&&(t.data=" "+n.slice(1),!0)},CC=function(e){var t=e.data,n=yC(t);return n!==t&&(e.data=n,!0)},wC=function(e,t){var n=t.data,r=Ql(t,n.length-1);return!(!gC(n,n.length-1)||mC(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},xC=function(e,t){return se.some(t).filter(vC).bind(function(t){var n=t.container();return bC(e,n)||CC(n)||wC(e,n)?se.some(t):se.none()})},SC=function(e){var t=kn.fromDom(e.getBody());e.selection.isCollapsed()&&xC(t,Ql.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},EC=function(e,t,n){return we(e,function(r,o){return zh(o)||Uh(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+oa}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""}).str},kC=function(e,t,n){if(0!==n){var r=kn.fromDom(e),o=wi(r,$i).getOr(r),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&hC(o,Ql(e,e.data.length)),s=0===t&&dC(o,Ql(e,0));e.replaceData(t,n,EC(i,s,a))}},_C=function(e,t){var n=e.data.slice(t),r=n.length-Nt(n).length;kC(e,t,r)},NC=function(e,t){var n=e.data.slice(0,t),r=n.length-Tt(n).length;kC(e,t-r,r)},TC=function(e,t,n,r){void 0===r&&(r=!0);var o=Tt(e.data).length,i=r?e:t,a=r?t:e;return r?i.appendData(a.data):i.insertData(0,a.data),Pr(kn.fromDom(a)),n&&_C(i,o),i},AC=function(e,t){var n=e.container(),r=e.offset();return!1===Ql.isTextPosition(e)&&n===t.parentNode&&r>Ql.before(t).offset()},DC=function(e,t){return AC(t,e)?Ql(t.container(),t.offset()-1):t},PC=function(e){return oo(e)?Ql(e,0):Ql.before(e)},RC=function(e){return oo(e)?Ql(e,e.data.length):Ql.after(e)},OC=function(e){return Ra(e.previousSibling)?se.some(RC(e.previousSibling)):e.previousSibling?vh(e.previousSibling):se.none()},LC=function(e){return Ra(e.nextSibling)?se.some(PC(e.nextSibling)):e.nextSibling?gh(e.nextSibling):se.none()},IC=function(e,t){var n=Ql.before(t.previousSibling?t.previousSibling:t.parentNode);return mh(e,n).fold(function(){return hh(e,Ql.after(t))},se.some)},BC=function(e,t){return hh(e,Ql.after(t)).fold(function(){
return mh(e,Ql.before(t))},se.some)},MC=function(e,t){return OC(t).orThunk(function(){return LC(t)}).orThunk(function(){return IC(e,t)})},FC=function(e,t){return LC(t).orThunk(function(){return OC(t)}).orThunk(function(){return BC(e,t)})},HC=function(e,t,n){return e?FC(t,n):MC(t,n)},qC=function(t,n,r){return HC(t,n,r).map(e(DC,r))},jC=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},UC=function(e){return function(t){return t.dom===e}},zC=function(e,t){return t&&Ke(e.schema.getBlockElements(),Un(t))},WC=function(e){if(Ka(e)){var t=kn.fromHtml('<br data-mce-bogus="1">');return Dr(e),_r(e,t),se.some(Ql.before(t.dom))}return se.none()},VC=function(e,t,n){var r=or(e).filter(Xn),o=ir(e).filter(Xn);return Pr(e),yo(r,o,t,function(e,t,r){var o=e.dom,i=t.dom,a=o.data.length;return TC(o,i,n),r.container()===i?Ql(o,a):r}).orThunk(function(){return n&&(r.each(function(e){return NC(e.dom,e.dom.length)}),o.each(function(e){return _C(e.dom,0)})),t})},$C=function(e,t){return Ke(e.schema.getTextInlineElements(),Un(t))},XC=function(t,n,r,o){void 0===o&&(o=!0);var i=qC(n,t.getBody(),r.dom),a=wi(r,e(zC,t),UC(t.getBody())),s=VC(r,i,$C(t,r));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(WC).fold(function(){o&&jC(t,n,s)},function(e){o&&jC(t,n,se.some(e))})},YC=function(e){return function(t){return Fn(e,t)}},KC=function(e){return $c(e,"td,th")},GC=function(e,t){var n=function(e){return Bm(kn.fromDom(e),t)},r=n(e.startContainer),o=n(e.endContainer),i=r.isSome(),a=o.isSome(),s=vo(r,o,Fn).getOr(!1);return{startTable:r,endTable:o,isStartInTable:i,isEndInTable:a,isSameTable:s,isMultiTable:!s&&i&&a}},QC=function(e,t){return{start:e,end:t}},JC=function(e,t,n){return{rng:e,table:t,cells:n}},ZC=ei.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ew=function(e,t){return Ni(kn.fromDom(e),"td,th",t)},tw=function(e){return!Fn(e.start,e.end)},nw=function(e,t){return Bm(e.start,t).bind(function(n){return Bm(e.end,t).bind(function(e){return bo(Fn(n,e),n)})})},rw=function(e,t){return!tw(e)&&nw(e,t).exists(function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})},ow=function(e,t){var n=ew(e.startContainer,t),r=ew(e.endContainer,t);return vo(n,r,QC)},iw=function(e){return function(t){return Bm(t,e).bind(function(e){return Le(KC(e)).map(function(e){return QC(t,e)})})}},aw=function(e){return function(t){return Bm(t,e).bind(function(e){return Oe(KC(e)).map(function(e){return QC(e,t)})})}},sw=function(e){return function(t){return nw(t,e).map(function(e){return JC(t,e,KC(e))})}},uw=function(e,t,n,r){if(n.collapsed||!e.forall(tw))return se.none();if(t.isSameTable){var o=e.bind(sw(r));return se.some({start:o,end:o})}var i=ew(n.startContainer,r),a=ew(n.endContainer,r),s=i.bind(iw(r)).bind(sw(r)),u=a.bind(aw(r)).bind(sw(r));return se.some({start:s,end:u})},cw=function(e,t){return Ee(e,function(e){return Fn(e,t)})},lw=function(e){return vo(cw(e.cells,e.rng.start),cw(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},fw=function(e,t,n){return e.exists(function(e){return rw(e,n)&&jm(e.start,t)})},dw=function(e,t){var n=t.startTable,r=t.endTable,o=e.cloneRange();return n.each(function(e){return o.setStartAfter(e.dom)}),r.each(function(e){return o.setEndBefore(e.dom)}),o},pw=function(e,t,n,r){return uw(e,t,n,r).bind(function(e){var t=e.start,n=e.end;return t.or(n)}).bind(function(e){var r=t.isSameTable,o=lw(e).getOr([]);if(r&&e.cells.length===o.length)return se.some(ZC.fullTable(e.table));if(o.length>0){if(r)return se.some(ZC.partialTable(o,se.none()));var i=dw(n,t);return se.some(ZC.partialTable(o,se.some(st(st({},t),{rng:i}))))}return se.none()})},hw=function(e,t,n,r){return uw(e,t,n,r).bind(function(e){var r=e.start,o=e.end,i=r.bind(lw).getOr([]),a=o.bind(lw).getOr([]);if(i.length>0&&a.length>0){var s=dw(n,t);return se.some(ZC.multiTable(i,a,s))}return se.none()})},mw=function(e,t){var n=YC(e),r=ow(t,n),o=GC(t,n);return fw(r,t,n)?r.map(function(e){return ZC.singleCellTable(t,e.start)}):o.isMultiTable?hw(r,o,t,n):pw(r,o,t,n)},gw=function(e){return(Vn(e)?or(e):fr(e)).bind(gw).orThunk(function(){return se.some(e)})},vw=function(e){return ge(e,function(e){No(e,"contenteditable"),Bb(e)})},yw=function(e,t){return se.from(e.dom.getParent(t,e.dom.isBlock)).map(kn.fromDom)},bw=function(e,t,n){n.each(function(n){t?Pr(n):(Bb(n),e.selection.setCursorLocation(n.dom,0))})},Cw=function(e,t,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Ew(e,o,t,!1)},ww=function(e){var t=Im(e),n=kn.fromDom(e.selection.getNode());po(n.dom)&&Ka(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&he(t,function(e){return Fn(e,n)})&&xo(n,"data-mce-selected","1")},xw=function(e,t,n){var r=e.selection.getRng(),o=n.bind(function(n){var o=n.rng,i=n.isStartInTable,a=yw(e,i?o.endContainer:o.startContainer);o.deleteContents(),bw(e,i,a.filter(Ka));var s=i?t[0]:t[t.length-1];return Cw(e,s,r,i),Ka(s)?se.none():se.some(i?t.slice(1):t.slice(0,-1))}).getOr(t);return vw(o),ww(e),!0},Sw=function(e,t,n,r){var o=e.selection.getRng(),i=t[0],a=n[n.length-1];Cw(e,i,o,!0),Cw(e,a,o,!1);var s=Ka(i)?t:t.slice(1),u=Ka(a)?n:n.slice(0,-1);return vw(s.concat(u)),r.deleteContents(),ww(e),!0},Ew=function(e,t,n,r){void 0===r&&(r=!0),t.deleteContents();var o=gw(n).getOr(n),i=kn.fromDom(e.dom.getParent(o.dom,e.dom.isBlock));if(Ka(i)&&(Bb(i),r&&e.selection.setCursorLocation(i.dom,0)),!Fn(n,i)){var a=mo(tr(i),n)?[]:rr(i);ge(a.concat(ur(n)),function(e){Fn(e,i)||jn(e,i)||!Ka(e)||Pr(e)})}return!0},kw=function(e,t){return XC(e,!1,t),!0},_w=function(t,n,r){return mw(n,r).map(function(n){return n.fold(e(Ew,t),e(kw,t),e(xw,t),e(Sw,t))})},Nw=function(e,t){return Ow(e,t)},Tw=function(e,t,n,r){return Pw(t,r).fold(function(){return _w(e,t,n)},function(t){return Nw(e,t)}).getOr(!1)},Aw=function(e,t,n){var r=kn.fromDom(e.getBody()),o=e.selection.getRng();return 0!==n.length?xw(e,n,se.none()):Tw(e,r,o,t)},Dw=function(e,t){return Se(jb(t,e),ea)},Pw=function(e,t){return Se(jb(t,e),Gn("caption"))},Rw=function(e,t,n,r,o){return fh(n,e.getBody(),o).bind(function(e){return Dw(t,kn.fromDom(e.getNode())).map(function(e){return!1===Fn(e,r)})})},Ow=function(e,t){return Bb(t),e.selection.setCursorLocation(t.dom,0),se.some(!0)},Lw=function(e,t,n,r){return gh(e.dom).bind(function(o){return vh(e.dom).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},Iw=function(e,t){return Ow(e,t)},Bw=function(e,t,n){return Pw(e,kn.fromDom(n.getNode())).map(function(e){return!1===Fn(e,t)})},Mw=function(e,t,n,r,o){return fh(n,e.getBody(),o).bind(function(i){return Lw(r,n,o,i)?Iw(e,r):Bw(t,r,i)}).or(se.some(!0))},Fw=function(e,t,n,r){var o=Ql.fromRangeStart(e.selection.getRng());return Dw(n,r).bind(function(r){return Ka(r)?Ow(e,r):Rw(e,n,t,r,o)}).getOr(!1)},Hw=function(e,t,n,r){var o=Ql.fromRangeStart(e.selection.getRng());return Ka(r)?Ow(e,r):Mw(e,n,t,r,o)},qw=function(e,t){return e?Db(t):Pb(t)},jw=function(e,t){var n=Ql.fromRangeStart(e.selection.getRng());return qw(t,n)||lh(t,e.getBody(),n).exists(function(e){return qw(t,e)})},Uw=function(e,t,n){var r=kn.fromDom(e.getBody());return Pw(r,n).fold(function(){return Fw(e,t,r,n)||jw(e,t)},function(n){return Hw(e,t,r,n).getOr(!1)})},zw=function(e,t){var n=kn.fromDom(e.selection.getStart(!0)),r=Im(e);return e.selection.isCollapsed()&&0===r.length?Uw(e,t,n):Aw(e,n,r)},Ww=function(e,t,n,r){var o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o},Vw=function(e){var t=Ql.fromRangeStart(e),n=Ql.fromRangeEnd(e),r=e.commonAncestorContainer;return lh(!1,r,n).map(function(o){return!Dp(t,n,r)&&Dp(t,o,r)?Ww(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},$w=function(e){return e.collapsed?e:Vw(e)},Xw=function(e){return e.firstChild&&e.firstChild===e.lastChild},Yw=function(e){return"br"===e.name||e.value===oa},Kw=function(e,t){return e.getBlockElements()[t.name]&&Xw(t)&&Yw(t.firstChild)},Gw=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Kw(e,t))},Qw=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Gw(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Jw=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Zw=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return Jw(o)},ex=function(e){return be(e.childNodes,function(e){return"LI"===e.nodeName})},tx=function(e){return e.data===oa||uo(e)},nx=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&tx(e.firstChild)},rx=function(e){return!e.firstChild||nx(e)},ox=function(e){return e.length>0&&rx(e[e.length-1])?e.slice(0,-1):e},ix=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},ax=function(e,t){return!!ix(e,t)},sx=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},ux=function(e,t){var n=Ql.before(e),r=nh(t).next(n);return r?r.toRange():null},cx=function(e,t){var n=Ql.after(e),r=nh(t).prev(n);return r?r.toRange():null},lx=function(e,t,n,r){var o=sx(e,r),i=e.parentNode;return i.insertBefore(o[0],e),Cn.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),cx(t[t.length-1],n)},fx=function(e,t,n){var r=e.parentNode;return Cn.each(t,function(t){r.insertBefore(t,e)}),ux(e,n)},dx=function(e,t,n,r){return r.insertAfter(t.reverse(),e),cx(t[0],n)},px=function(e,t,n,r){var o=Zw(t,e,r),i=ix(t,n.startContainer),a=ox(ex(o.firstChild)),s=1,u=2,c=t.getRoot(),l=function(e){var r=Ql.fromRangeStart(n),o=nh(t.getRoot()),a=e===s?o.prev(r):o.next(r);return!a||ix(t,a.getNode())!==i};return l(s)?fx(i,a,c):l(u)?dx(i,a,c,t):lx(i,a,c,n)},hx=function(e,t,n){var r=kn.fromDom(e.getRoot());return n=dC(r,Ql.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=hC(r,Ql.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")},mx=po,gx=function(e,t,n){return null!==n&&(n===e.getParent(t.endContainer,mx)&&jm(kn.fromDom(n),t))},vx=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},yx=function(e,t){se.from(e.getParent(t,"td,th")).map(kn.fromDom).each(Mb)},bx=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=ub(r);Cn.each(r.select("*[data-mce-fragment]"),function(e){if(z(n[e.nodeName.toLowerCase()])&&gb(r,e))for(var t=e.parentNode;z(t)&&t!==o;t=t.parentNode){if(yb(r,e,t))break;if(i.compare(t,e)){r.remove(e,!0);break}}})}},Cx=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},wx=function(e){Cn.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},xx=function(e){return!!e.getAttribute("data-mce-fragment")},Sx=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},Ex=function(e,t){var n,r=e.dom,o=e.selection;if(t){o.scrollIntoView(t);var i=ng(e.getBody(),t);if("false"===r.getContentEditable(i))return r.remove(t),void o.select(i);var a=r.createRng(),s=t.previousSibling;if(oo(s)){if(a.setStart(s,s.nodeValue.length),!mn.ie){var u=t.nextSibling;oo(u)&&(s.appendData(u.data),u.parentNode.removeChild(u))}}else a.setStartBefore(t),a.setEndBefore(t);var c=function(t){var n=Ql.fromRangeStart(t);if(n=nh(e.getBody()).next(n))return n.toRange()},l=r.getParent(t,r.isBlock);r.remove(t),l&&r.isEmpty(l)&&(e.$(l).empty(),a.setStart(l,0),a.setEnd(l,0),mx(l)||xx(l)||!(n=c(a))?r.add(l,r.create("br",{"data-mce-bogus":"1"})):(a=n,r.remove(l))),o.setRng(a)}},kx=function(e){var t=e.dom,n=$w(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,mx);gx(t,n,r)?Ew(e,n,kn.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},_x=function(e,t,n){var r,o,i,a=e.selection,s=e.dom;/^ | $/.test(t)&&(t=hx(s,a.getRng(),t));var u=e.parser,c=n.merge,l=fb({validate:Ed(e)},e.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',d=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(d.isDefaultPrevented())e.fire("SetContent",{content:d.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=d.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,f);var p=(o=a.getRng()).startContainer||(o.parentElement?o.parentElement():null),h=e.getBody();p===h&&a.isCollapsed()&&s.isBlock(h.firstChild)&&Sx(e,h.firstChild)&&s.isEmpty(h.firstChild)&&((o=s.createRng()).setStart(h.firstChild,0),o.setEnd(h.firstChild,0),a.setRng(o)),a.isCollapsed()||kx(e);var m={context:(r=a.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},g=u.parse(t,m);if(!0===n.paste&&Qw(e.schema,g)&&ax(s,r))return o=px(l,s,a.getRng(),g),a.setRng(o),void e.fire("SetContent",d);if(Cx(g),"mce_marker"===(i=g.lastChild).attr("id")){var v=i;for(i=i.prev;i;i=i.walk(!0))if(3===i.type||!s.isBlock(i.name)){e.schema.isValidChild(i.parent.name,"span")&&i.parent.insert(v,i,"br"===i.name);break}}if(e._selectionOverrides.showBlockCaretContainer(r),m.invalid){e.selection.setContent(f),r=a.getNode();var y=e.getBody();for(9===r.nodeType?r=i=y:i=r;i!==y;)r=i,i=i.parentNode;t=r===y?y.innerHTML:s.getOuterHTML(r),t=l.serialize(u.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return l.serialize(g)}))),r===y?s.setHTML(y,t):s.setOuterHTML(r,t)}else t=l.serialize(g),vx(e,t,r);bx(e,c),Ex(e,s.get("mce_marker")),wx(e.getBody()),yx(s,a.getStart()),e.fire("SetContent",d),e.addVisual()}},Nx=function(e,t){t(e),e.firstChild&&Nx(e.firstChild,t),e.next&&Nx(e.next,t)},Tx=function(e,t,n){var r={},o={},i=[];for(var a in n.firstChild&&Nx(n.firstChild,function(n){ge(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),ge(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})}),r)Ke(r,a)&&i.push(r[a]);for(var s in o)Ke(o,s)&&i.push(o[s]);return i},Ax=function(e,t,n){var r=Tx(e,t,n);ge(r,function(e){ge(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},Dx="html",Px=function(e){return e instanceof Iy},Rx=function(e){yy(e)&&gh(e.getBody()).each(function(t){var n=t.getNode(),r=to(n)?gh(n).getOr(t):t;e.selection.setRng(r.toRange())})},Ox=function(e,t,n){e.dom.setHTML(e.getBody(),t),!0!==n&&Rx(e)},Lx=function(e,t,n,r){if(0===n.length||/^\s+$/.test(n)){var o='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");var i=Wf(e);i&&e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=o,n=e.dom.createHTML(i,Vf(e),n)):n||(n='<br data-mce-bogus="1">'),Ox(e,n,r.no_selection),e.fire("SetContent",r)}else"raw"!==r.format&&(n=fb({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=ta(kn.fromDom(t))?n:Cn.trim(n),Ox(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r);return r.content},Ix=function(e,t,n,r){Ax(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=fb({validate:e.validate},e.schema).serialize(n);return r.content=ta(kn.fromDom(t))?o:Cn.trim(o),Ox(e,r.content,r.no_selection),r.no_events||e.fire("SetContent",r),n},Bx=function(e,t){return st(st({format:Dx},e),{set:!0,content:Px(t)?"":t})},Mx=function(e,t,n){var r=Bx(n,t),o=n.no_events?r:e.fire("BeforeSetContent",r);return Px(t)||(t=o.content),se.from(e.getBody()).fold(K(t),function(n){return Px(t)?Ix(e,n,t,o):Lx(e,n,t,o)})},Fx=function(e,t){return Si(e,t).isSome()},Hx=function(e){return W(e)?e:ne},qx=function(e,t,n){for(var r=e.dom,o=Hx(n);r.parentNode;){r=r.parentNode;var i=kn.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return se.none()},jx=function(e,t,n){var r=t(e),o=Hx(n);return r.orThunk(function(){return o(e)?se.none():qx(e,t,o)})},Ux=em,zx=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(um(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return!0}return!1},Wx=function(e,t,n,r,o){var i=e.dom.getRoot();return t!==i&&(t=e.dom.getParent(t,function(t){return!!zx(e,t,n)||(t.parentNode===i||!!Xx(e,t,n,r,!0))}),!!Xx(e,t,n,r,o))},Vx=function(e,t,n){return!!Ux(t,n.inline)||(!!Ux(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},$x=function(e,t,n,r,o,i){var a=n[r];if(W(n.onmatch))return n.onmatch(t,n,r);if(a)if(j(a.length)){for(var s in a)if(Ke(a,s)){var u="attributes"===r?e.getAttrib(t,s):nm(e,t,s),c=Zh(a[s],i),l=U(u)||Dt(u);if(l&&U(c))continue;if(o&&l&&!n.exact)return!1;if((!o||n.exact)&&!Ux(u,tm(e,c,s)))return!1}}else for(var f=0;f<a.length;f++)if("attributes"===r?e.getAttrib(t,a[f]):nm(e,t,a[f]))return!0;return!0},Xx=function(e,t,n,r,o){var i=e.formatter.get(n),a=e.dom;if(i&&t)for(var s=0;s<i.length;s++){var u=i[s];if(Vx(e.dom,t,u)&&$x(a,t,u,"attributes",o,r)&&$x(a,t,u,"styles",o,r)){var c=u.classes;if(c)for(var l=0;l<c.length;l++)if(!e.dom.hasClass(t,Zh(c[l],r)))return;return u}}},Yx=function(e,t,n,r,o){if(r)return Wx(e,r,t,n,o);if(r=e.selection.getNode(),Wx(e,r,t,n,o))return!0;var i=e.selection.getStart();return!(i===r||!Wx(e,i,t,n,o))},Kx=function(e,t,n){var r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,function(i){for(var a=0;a<t.length;a++){var s=t[a];!o[s]&&Xx(e,i,s,n)&&(o[s]=!0,r.push(s))}},e.dom.getRoot()),r},Gx=function(e,t){var n=function(t){return Fn(t,kn.fromDom(e.getBody()))},r=function(t,n){return Xx(e,t.dom,n)?se.some(n):se.none()};return se.from(e.selection.getStart(!0)).bind(function(e){return jx(kn.fromDom(e),function(e){return Be(t,function(t){return r(e,t)})},n)}).getOrNull()},Qx=function(e,t){var n=e.formatter.get(t),r=e.dom;if(n)for(var o=e.selection.getStart(),i=om(r,o),a=n.length-1;a>=0;a--){var s=n[a];if(!um(s)||z(s.defaultBlock))return!0;for(var u=i.length-1;u>=0;u--)if(r.is(i[u],s.selector))return!0}return!1},Jx=function(e,t,n){return we(n,function(n,r){var o=im(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n},[])},Zx=ia,eS="_mce_caret",tS=function(e,t){return e.importNode(t,!0)},nS=function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Zx||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},rS=function(e){return nS(e).length>0},oS=function(e){if(e){var t=new Bi(e,e);for(e=t.current();e;e=t.next())if(oo(e))return e}return null},iS=function(e){var t=kn.fromTag("span");return So(t,{id:eS,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&_r(t,kn.fromText(Zx)),t},aS=function(e){var t=oS(e);return t&&t.nodeValue.charAt(0)===Zx&&t.deleteData(0,1),t},sS=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(rS(t))XC(e,!1,kn.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),s=i.startContainer,u=i.startOffset,c=i.endContainer,l=i.endOffset,f=aS(t);r.remove(t,!0),s===f&&u>0&&i.setStart(f,u-1),c===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&Bb(kn.fromDom(a)),o.setRng(i)}},uS=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)sS(e,t,n);else if(!(t=Ch(e.getBody(),o.getStart())))for(;t=r.get(eS);)sS(e,t,!1)},cS=function(t,n,r){var o=t.dom,i=o.getParent(r,e(Kh,t));i&&o.isEmpty(i)?r.parentNode.replaceChild(n,r):(Ib(kn.fromDom(r)),o.isEmpty(r)?r.parentNode.replaceChild(n,r):o.insertAfter(n,r))},lS=function(e,t){return e.appendChild(t),t},fS=function(e,t){var n=Ce(e,function(e,t){return lS(e,t.cloneNode(!1))},t);return lS(n,n.ownerDocument.createTextNode(Zx))},dS=function(e,t,n,r,o,i){var a=e.formatter,s=e.dom,u=be(Me(a.get()),function(e){return e!==r&&!St(e,"removeformat")}),c=Jx(e,n,u);if(be(c,function(t){return!am(e,t,r)}).length>0){var l=n.cloneNode(!1);return s.add(t,l),a.remove(r,o,l,i),s.remove(l),se.some(l)}return se.none()},pS=function(e,t,n){var r,o,i=e.selection,a=i.getRng(),s=a.startOffset,u=a.startContainer.nodeValue;(r=Ch(e.getBody(),i.getStart()))&&(o=oS(r));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&s>0&&s<u.length&&c.test(u.charAt(s))&&c.test(u.charAt(s-1))){var l=i.getBookmark();a.collapse(!0);var f=Nm(e,a,e.formatter.get(t));f=qg(f),e.formatter.apply(t,n,f),i.moveToBookmark(l)}else r&&o.nodeValue===Zx?e.formatter.apply(t,n,r):(o=(r=tS(e.getDoc(),iS(!0).dom)).firstChild,a.insertNode(r),s=1,e.formatter.apply(t,n,r)),i.setCursorLocation(o,s)},hS=function(e,t,n,r){var o,i,a,s=e.dom,u=e.selection,c=[],l=u.getRng(),f=l.startContainer,d=l.startOffset;for(i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(Xx(e,i,t,n,r)){a=i;break}i.nextSibling&&(o=!0),c.push(i),i=i.parentNode}if(a)if(o){var p=u.getBookmark();l.collapse(!0);var h=Nm(e,l,e.formatter.get(t),!0);h=qg(h),e.formatter.remove(t,n,h,r),u.moveToBookmark(p)}else{var m=Ch(e.getBody(),a),g=iS(!1).dom;cS(e,g,null!==m?m:a);var v=dS(e,g,a,t,n,r),y=fS(c.concat(v.toArray()),g);sS(e,m,!1),u.setCursorLocation(y,1),s.isEmpty(a)&&s.remove(a)}},mS=function(e,t){var n=e.selection,r=e.getBody();uS(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Zx||uS(e,Ch(r,n.getStart())),37!==t&&39!==t||uS(e,Ch(r,n.getStart()))},gS=function(e){e.on("mouseup keydown",function(t){mS(e,t.keyCode)})},vS=function(e,t){var n=iS(!1),r=fS(t,n.dom);return Sr(kn.fromDom(e),n),Pr(kn.fromDom(e)),Ql(r,0)},yS=function(e,t){var n=e.schema.getTextInlineElements();return Ke(n,Un(t))&&!bh(t.dom)&&!Zr(t.dom)},bS=function(e){return bh(e.dom)&&rS(e.dom)},CS={},wS=nt,xS=et,SS=function(e,t){xS(CS[e],function(e){e(t)})};(function(e,t){CS[e]||(CS[e]=[]),CS[e].push(t)})("pre",function(e){var t,n=e.selection.getRng(),r=function(e){return i(e.previousSibling)&&-1!==rt(t,e.previousSibling)},o=function(e,t){ic(t).remove(),ic(e).append("<br><br>").append(t.childNodes)},i=Kr(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),xS(wS(wS(t,i),r),function(e){o(e.previousSibling,e)}))});var ES=Cn.each,kS=function(e){return Yr(e)&&!jh(e)&&!bh(e)&&!Zr(e)},_S=function(e,t){for(var n=e;n;n=n[t]){if(oo(n)&&At(n.data))return e;if(Yr(n)&&!jh(n))return n}return e},NS=function(e,t,n){var r=ub(e);if(t&&n&&(t=_S(t,"previousSibling"),n=_S(n,"nextSibling"),r.compare(t,n))){for(var o=t.nextSibling;o&&o!==n;){var i=o;o=o.nextSibling,t.appendChild(i)}return e.remove(n),Cn.each(Cn.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},TS=function(e,t,n,r){if(r&&!1!==t.merge_siblings){var o=NS(e,Yh(r),r);NS(e,o,Yh(o,!0))}},AS=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";ES(e.select(r,n),function(n){kS(n)&&ES(t.styles,function(t,r){e.setStyle(n,r,"")})})}},DS=function(e,t,n){ES(e.childNodes,function(e){kS(e)&&(t(e)&&n(e),e.hasChildNodes()&&DS(e,t,n))})},PS=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},RS=function(e,t){return function(n){return!(!n||!nm(e,n,t))}},OS=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),PS(e,r)}},LS=ei.generate([{keep:[]},{rename:["name"]},{removed:[]}]),IS=/^(src|href|style)$/,BS=Cn.each,MS=em,FS=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},HS=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},qS=function(e,t,n){var r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(Yr(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return oo(r)&&n&&o>=r.nodeValue.length&&(r=new Bi(r,e.getBody()).next()||r),oo(r)&&!n&&0===o&&(r=new Bi(r,e.getBody()).prev()||r),r},jS=function(e,t){var n=t?"firstChild":"lastChild";if(FS(e)&&e[n]){var r=e[n];return"TR"===e.nodeName&&r[n]||r}return e},US=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},zS=function(e,t,n,r,o){var i=kn.fromDom(t),a=kn.fromDom(e.create(r,o)),s=n?sr(i):ar(i);return Ar(a,s),n?(Sr(i,a),kr(a,i)):(Er(i,a),_r(a,i)),a.dom},WS=function(e,t,n){return!(!cm(n)||!MS(t,n.inline))||(!(!sm(n)||!MS(t,n.block))||(um(n)?Yr(t)&&e.is(t,n.selector):void 0))},VS=function(e,t){return t.links&&"A"===e.nodeName},$S=function(e,t,n,r){var o=Yh(t,n,r);return U(o)||"BR"===o.nodeName||e.isBlock(o)},XS=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=Wf(e);sm(n)&&(a?o===i.getRoot()&&(n.list_block&&MS(t,n.list_block)||ge(Ie(t.childNodes),function(t){Gh(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=US(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=null})):i.isBlock(t)&&!i.isBlock(o)&&($S(i,t,!1)||$S(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),$S(i,t,!0)||$S(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),lm(n)&&!MS(n.inline,t)||i.remove(t,!0)},YS=function(e,t,n,r,o){var i,a=e.dom;if(!WS(a,r,t)&&!VS(r,t))return LS.keep();var s=r;if(cm(t)&&"all"===t.remove&&F(t.preserve_attributes)){var u=be(a.getAttribs(s),function(e){return pe(t.preserve_attributes,e.name.toLowerCase())});if(a.removeAllAttribs(s),ge(u,function(e){return a.setAttrib(s,e.name,e.value)}),u.length>0)return LS.rename("span")}if("all"!==t.remove){BS(t.styles,function(e,r){e=tm(a,Zh(e,n),r+""),V(r)&&(r=e,o=null),(t.remove_similar||!o||MS(nm(a,o,r),e))&&a.setStyle(s,r,""),i=!0}),i&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),BS(t.attributes,function(e,r){var i;if(e=Zh(e,n),V(r)&&(r=e,o=null),t.remove_similar||!o||MS(a.getAttrib(o,r),e)){if("class"===r&&(e=a.getAttrib(s,r))&&(i="",ge(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i))return void a.setAttrib(s,r,i);if(IS.test(r)&&s.removeAttribute("data-mce-"+r),"style"===r&&Kr(["li"])(s)&&"none"===a.getStyle(s,"list-style-type"))return s.removeAttribute(r),void a.setStyle(s,"list-style-type","none");"class"===r&&s.removeAttribute("className"),s.removeAttribute(r)}}),BS(t.classes,function(e){e=Zh(e,n),o&&!a.hasClass(o,e)||a.removeClass(s,e)});for(var c=a.getAttribs(s),l=0;l<c.length;l++){var f=c[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return LS.keep()}}return"none"!==t.remove?(XS(e,s,t),LS.removed()):LS.keep()},KS=function(e,t,n,r,o){return YS(e,t,n,r,o).fold(ne,function(t){return e.dom.rename(r,t),!0},re)},GS=function(e,t,n,r,o){var i;return ge(om(e.dom,t.parentNode).reverse(),function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=Xx(e,t,n,r,o);a&&!1!==a.split&&(i=t)}}),i},QS=function(e,t,n,r){return YS(e,t,n,r,r).fold(K(r),function(t){return e.dom.createFragment().appendChild(r),e.dom.rename(r,t)},K(null))},JS=function(e,t,n,r,o,i,a,s){var u,c,l,f=e.dom;if(n){for(var d=n.parentNode,p=r.parentNode;p&&p!==d;p=p.parentNode){u=f.clone(p,!1);for(var h=0;h<t.length&&null!==(u=QS(e,t[h],s,u));h++);u&&(c&&u.appendChild(c),l||(l=u),c=u)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),l.appendChild(o),cm(a)&&TS(f,a,s,c))}return r},ZS=function(e,t,n,r,o){var i=e.formatter.get(t),a=i[0],s=!0,u=e.dom,c=e.selection,l=function(r){var s=GS(e,r,t,n,o);return JS(e,i,s,r,r,!0,a,n)},f=function(e){return jh(e)&&Yr(e)&&("_start"===e.id||"_end"===e.id)},d=function(t){return he(i,function(r){return KS(e,r,n,t,t)})},p=function(t){var n=!0,r=!1;Yr(t)&&u.getContentEditable(t)&&(n=s,s="true"===u.getContentEditable(t),r=!0);var o=Ie(t.childNodes);if(s&&!r){var c=d(t)||he(i,function(e){return Vx(u,t,e)}),l=t.parentNode;!c&&z(l)&&fm(a)&&d(l)}if(a.deep&&o.length){for(var f=0;f<o.length;f++)p(o[f]);r&&(s=n)}ge(["underline","line-through","overline"],function(n){Yr(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&rm(u,t.parentNode)===n&&KS(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)})},h=function(e){var t=u.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return f(n)&&(n=n[e?"firstChild":"lastChild"]),oo(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),u.remove(t,!0),n},m=function(t){var n,r,o=Nm(e,t,i,t.collapsed);if(a.split){if(o=qg(o),(n=qS(e,o,!0))!==(r=qS(e,o))){if(n=jS(n,!0),r=jS(r,!1),HS(u,n,r)){var s=se.from(n.firstChild).getOr(n);return l(zS(u,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void h(!0)}if(HS(u,r,n)){s=se.from(r.lastChild).getOr(r);return l(zS(u,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void h(!1)}n=US(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=US(u,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=u.createRng();c.setStartAfter(n),c.setEndBefore(r),Tm(u,c,function(e){ge(e,function(e){jh(e)||jh(e.parentNode)||l(e)})}),l(n),l(r),n=h(!0),r=h()}else n=r=l(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=u.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=u.nodeIndex(r)+1}Tm(u,o,function(e){ge(e,p)})};if(r){if(Vh(r)){var g=u.createRng();g.setStartBefore(r),g.setEndAfter(r),m(g)}else m(r);vg(e,t,r,n)}else if("false"!==u.getContentEditable(c.getNode()))c.isCollapsed()&&cm(a)&&!Im(e).length?hS(e,t,n,o):(Vm(c,!0,function(){Wm(e,m)}),cm(a)&&Yx(e,t,n,c.getStart())&&Xh(u,c,c.getRng()),e.nodeChanged()),vg(e,t,r,n);else{r=c.getNode();for(var v=0;v<i.length&&(!i[v].ceFalseOverride||!KS(e,i[v],n,r,r));v++);vg(e,t,r,n)}},eE=Cn.each,tE=function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=rm(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Cn.walk(r,o,"childNodes"),o(r))},nE=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&DS(r,RS(e,"fontSize"),OS(e,"backgroundColor",Zh(t.styles.backgroundColor,n)))},rE=function(e,t,n,r){!cm(t)||"sub"!==t.inline&&"sup"!==t.inline||(DS(r,RS(e,"fontSize"),OS(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},oE=function(e,t,n,r){eE(t,function(t){cm(t)&&eE(e.dom.select(t.inline,r),function(r){kS(r)&&KS(e,t,n,r,t.exact?r:null)}),AS(e.dom,t,r)})},iE=function(e,t,n,r,o){Xx(e,o.parentNode,n,r)&&KS(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(Xx(e,i,n,r))return KS(e,t,r,o),!0})},aE=Cn.each,sE=function(e){return Yr(e)&&!jh(e)&&!bh(e)&&!Zr(e)},uE=function(e,t,n,r){if(Td(e)&&cm(t)){var o=st(st({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=Fx(kn.fromDom(n),function(e){return bh(e.dom)});return Ge(o,r)&&Ka(kn.fromDom(n.parentNode),!1)&&!i}return!1},cE=function(e,t,n,r){var o=e.formatter.get(t),i=o[0],a=!r&&e.selection.isCollapsed(),s=e.dom,u=e.selection,c=function(e,t){if(void 0===t&&(t=i),W(t.onformat)&&t.onformat(e,t,n,r),aE(t.styles,function(t,r){s.setStyle(e,r,Zh(t,n))}),t.styles){var o=s.getAttrib(e,"style");o&&s.setAttrib(e,"data-mce-style",o)}aE(t.attributes,function(t,r){s.setAttrib(e,r,Zh(t,n))}),aE(t.classes,function(t){t=Zh(t,n),s.hasClass(e,t)||s.addClass(e,t)})},l=function(e,t){var n=!1;return aE(e,function(e){return!!um(e)&&(z(e.collapsed)&&e.collapsed!==a?void 0:s.is(t,e.selector)&&!bh(t)?(c(t,e),n=!0,!1):void 0)}),n},f=function(e){if(B(e)){var t=s.create(e);return c(t),t}return null},d=function(r,a,s){var u=[],d=!0,p=i.inline||i.block,h=f(p);Tm(r,a,function(a){var f,m=function(a){var g=!1,v=d,y=a.nodeName.toLowerCase(),b=a.parentNode,C=b.nodeName.toLowerCase();if(Yr(a)&&r.getContentEditable(a)&&(v=d,d="true"===r.getContentEditable(a),g=!0),uo(a)&&!uE(e,i,a,C))return f=null,void(sm(i)&&r.remove(a));if(sm(i)&&i.wrapper&&Xx(e,a,t,n))f=null;else{if(d&&!g&&sm(i)&&!i.wrapper&&Kh(e,y)&&Gh(e,C,p)){var w=r.rename(a,p);return c(w),u.push(w),void(f=null)}if(um(i)){var x=l(o,a);if(!x&&z(b)&&fm(i)&&(x=l(o,b)),!cm(i)||x)return void(f=null)}!d||g||!Gh(e,p,y)||!Gh(e,C,p)||!s&&oo(a)&&aa(a.data)||bh(a)||cm(i)&&r.isBlock(a)?(f=null,ge(Ie(a.childNodes),m),g&&(d=v),f=null):(f||(f=r.clone(h,!1),a.parentNode.insertBefore(f,a),u.push(f)),f.appendChild(a))}};ge(a,m)}),!0===i.links&&ge(u,function(e){var t=function(e){"A"===e.nodeName&&c(e,i),ge(Ie(e.childNodes),t)};t(e)}),ge(u,function(a){var s=function(e){return Se(e.childNodes,sE).filter(function(e){return Vx(r,e,i)}).map(function(t){var n=r.clone(t,!1);return c(n),r.replace(n,e,!0),r.remove(t,!0),n}).getOr(e)},l=function(e){var t=0;return ge(e.childNodes,function(e){Jh(e)||jh(e)||t++}),t}(a);!(u.length>1)&&r.isBlock(a)||0!==l?(cm(i)||sm(i)&&i.wrapper)&&(i.exact||1!==l||(a=s(a)),oE(e,o,n,a),iE(e,i,t,n,a),nE(r,i,n,a),tE(r,i,n,a),rE(r,i,n,a),TS(r,i,n,a)):r.remove(a,!0)})};if("false"!==s.getContentEditable(u.getNode())){if(i){if(r)if(Vh(r)){if(!l(o,r)){var p=s.createRng();p.setStartBefore(r),p.setEndAfter(r),d(s,Nm(e,p,o),!0)}}else d(s,r,!0);else if(a&&cm(i)&&!Im(e).length)pS(e,t,n);else{var h=u.getNode(),m=o[0]
;e.settings.forced_root_block||!m.defaultBlock||s.getParent(h,s.isBlock)||cE(e,m.defaultBlock),u.setRng($w(u.getRng())),Vm(u,!0,function(){Wm(e,function(t,n){var r=n?t:Nm(e,t,o);d(s,r,!1)})}),Xh(s,u,u.getRng()),e.nodeChanged()}SS(t,e)}gg(e,t,r,n)}else{r=u.getNode();for(var g=0,v=o.length;g<v;g++){var y=o[g];if(y.ceFalseOverride&&um(y)&&s.is(r,y.selector)){c(r,y);break}}gg(e,t,r,n)}},lE=function(e){return Ke(e,"vars")},fE=function(e,t){e.set({}),t.on("NodeChange",function(n){mE(t,n.element,e.get())}),t.on("FormatApply FormatRemove",function(n){var r=se.from(n.node).map(function(e){return Vh(e)?e:e.startContainer}).bind(function(e){return Yr(e)?se.some(e):se.from(e.parentElement)}).getOrThunk(function(){return dE(t)});mE(t,r,e.get())})},dE=function(e){return e.selection.getStart()},pE=function(e,t,n,r,o){return xe(t,function(t){var i=e.formatter.matchNode(t,n,null!=o?o:{},r);return!j(i)},function(t){return!!zx(e,t,n)||!r&&z(e.formatter.matchNode(t,n,o,!0))})},hE=function(e,t){var n=null!=t?t:dE(e);return be(om(e.dom,n),function(e){return Yr(e)&&!Zr(e)})},mE=function(e,t,n){var r=hE(e,t);He(n,function(n,o){var i=function(n){var i=pE(e,r,o,n.similar,lE(n)?n.vars:undefined),a=i.isSome();if(n.state.get()!==a){n.state.set(a);var s=i.getOr(t);lE(n)?n.callback(a,{node:s,format:o,parents:r}):ge(n.callbacks,function(e){return e(a,{node:s,format:o,parents:r})})}};ge([n.withSimilar,n.withoutSimilar],i),ge(n.withVars,i)})},gE=function(e,t,n,r,o,i){var a=t.get();ge(n.split(","),function(t){var n=Ye(a,t).getOrThunk(function(){var e={withSimilar:{state:xc(!1),similar:!0,callbacks:[]},withoutSimilar:{state:xc(!1),similar:!1,callbacks:[]},withVars:[]};return a[t]=e,e}),s=function(){var n=hE(e);return pE(e,n,t,o,i).isSome()};if(j(i)){var u=o?n.withSimilar:n.withoutSimilar;u.callbacks.push(r),1===u.callbacks.length&&u.state.set(s())}else n.withVars.push({state:xc(s()),similar:o,vars:i,callback:r})}),t.set(a)},vE=function(e,t,n){var r=e.get();ge(t.split(","),function(e){return Ye(r,e).each(function(t){r[e]={withSimilar:st(st({},t.withSimilar),{callbacks:be(t.withSimilar.callbacks,function(e){return e!==n})}),withoutSimilar:st(st({},t.withoutSimilar),{callbacks:be(t.withoutSimilar.callbacks,function(e){return e!==n})}),withVars:be(t.withVars,function(e){return e.callback!==n})}})}),e.set(r)},yE=function(e,t,n,r,o,i){return null===t.get()&&fE(t,e),gE(e,t,n,r,o,i),{unbind:function(){return vE(t,n,r)}}},bE=function(e,t,n,r){var o=e.formatter.get(t);!Yx(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?cE(e,t,n,r):ZS(e,t,n,r)},CE=function(e,t){var n=(t||document).createDocumentFragment();return ge(e,function(e){n.appendChild(e.dom)}),kn.fromDom(n)},wE=function(e,t,n){return{element:e,width:t,rows:n}},xE=function(e,t){return{element:e,cells:t}},SE=function(e,t){return{x:e,y:t}},EE=function(e,t){var n=parseInt(Eo(e,t),10);return isNaN(n)?1:n},kE=function(e,t,n,r,o){for(var i=EE(o,"rowspan"),a=EE(o,"colspan"),s=e.rows,u=n;u<n+i;u++){s[u]||(s[u]=xE(dl(r),[]));for(var c=t;c<t+a;c++){s[u].cells[c]=u===n&&c===t?o:fl(o)}}},_E=function(e,t,n){var r=e.rows;return!!(r[n]?r[n].cells:[])[t]},NE=function(e,t,n){for(;_E(e,t,n);)t++;return t},TE=function(e){return we(e,function(e,t){return t.cells.length>e?t.cells.length:e},0)},AE=function(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(Fn(o[i],t))return se.some(SE(i,r));return se.none()},DE=function(e,t,n,r,o){for(var i=[],a=e.rows,s=n;s<=o;s++){var u=a[s].cells,c=t<r?u.slice(t,r+1):u.slice(r,t+1);i.push(xE(a[s].element,c))}return i},PE=function(e,t,n){var r=t.x,o=t.y,i=n.x,a=n.y,s=o<a?DE(e,r,o,i,a):DE(e,r,a,i,o);return wE(e.element,TE(s),s)},RE=function(e,t){var n=fl(e.element),r=kn.fromTag("tbody");return Ar(r,t),_r(n,r),n},OE=function(e){return me(e.rows,function(e){var t=me(e.cells,function(e){var t=dl(e);return No(t,"colspan"),No(t,"rowspan"),t}),n=fl(e.element);return Ar(n,t),n})},LE=function(e){var t=wE(fl(e),0,[]);return ge($c(e,"tr"),function(e,n){ge($c(e,"td,th"),function(r,o){kE(t,NE(t,o,n),n,e,r)})}),wE(t.element,TE(t.rows),t.rows)},IE=function(e){return RE(e,OE(e))},BE=function(e,t,n){return AE(e,t).bind(function(t){return AE(e,n).map(function(n){return PE(e,t,n)})})},ME=function(e){return Se(e,function(e){return"ul"===Un(e)||"ol"===Un(e)})},FE=function(e,t){return Se(e,function(e){return"li"===Un(e)&&jm(e,t)}).fold(K([]),function(){return ME(e).map(function(e){var t=kn.fromTag(Un(e)),n=Ve(Lo(e),function(e,t){return Et(t,"list-style")});return Do(t,n),[kn.fromTag("li"),t]}).getOr([])})},HE=function(e,t){var n=we(t,function(e,t){return _r(t,e),t},e);return t.length>0?CE([n]):n},qE=function(e){return Ji(e)?tr(e).filter(Qi).fold(K([]),function(t){return[e,t]}):Qi(e)?[e]:[]},jE=function(e,t){var n=kn.fromDom(t.commonAncestorContainer),r=jb(n,e),o=be(r,function(e){return Yi(e)||Vi(e)}),i=FE(r,t),a=o.concat(i.length?i:qE(n));return me(a,fl)},UE=function(){return CE([])},zE=function(e,t){return HE(kn.fromDom(t.cloneContents()),jE(e,t))},WE=function(t,n){return ki(n,"table",e(Fn,t))},VE=function(e,t){return WE(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=LE(e);return BE(o,n,r).map(function(e){return CE([IE(e)])})}).getOrThunk(UE)},$E=function(e,t){return t.length>0&&t[0].collapsed?UE():zE(e,t[0])},XE=function(e,t){var n=Lm(t,e);return n.length>0?VE(e,n):$E(e,t)},YE=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},KE=function(e,t){return t>=0&&t<e.length&&zh(e.charAt(t))},GE=function(e,t){var n=sa(e.innerText);return t?YE(n):n},QE=function(e){return e.map(function(e){return e.nodeName}).getOr("div").toLowerCase()},JE=function(e){return se.from(e.selection.getRng()).map(function(t){var n=se.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),o=QE(n),i=mn.browser.isIE()&&"pre"!==o,a=e.dom.add(r,o,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),s=GE(a,i),u=sa(a.textContent);if(e.dom.remove(a),KE(u,0)||KE(u,u.length-1)){var c=n.getOr(r),l=GE(c,i),f=l.indexOf(s);return-1===f?s:(KE(l,f-1)?" ":"")+s+(KE(l,f+s.length)?" ":"")}return s}).getOr("")},ZE=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=Dy(e,Am(o)),a=t.contextual?XE(kn.fromDom(e.getBody()),i).dom:n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},ek=function(e,t){return st(st({},e),{format:t,get:!0,selection:!0})},tk=function(e,t,n){void 0===n&&(n={});var r=ek(n,t),o=e.fire("BeforeGetContent",r);if(o.isDefaultPrevented())return e.fire("GetContent",o),o.content;if("text"===o.format)return JE(e);o.getInner=!0;var i=ZE(e,o);return"tree"===o.format?i:(o.content=e.selection.isCollapsed()?"":i,e.fire("GetContent",o),o.content)},nk=0,rk=1,ok=2,ik=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,s){var c=u(n,r,o,i);if(null===c||c.start===r&&c.diag===r-i||c.end===n&&c.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(s.push([nk,e[l]]),++l,++f):r-n>i-o?(s.push([ok,e[l]]),++l):(s.push([rk,t[f]]),++f);else{a(n,c.start,o,c.start-c.diag,s);for(var d=c.start;d<c.end;++d)s.push([nk,e[d]]);a(c.end,r,c.end-c.diag,i,s)}},s=function(n,r,o,a){for(var s=n;s-r<a&&s<o&&e[s]===t[s-r];)++s;return i(n,s,r)},u=function(n,i,a,u){var c=i-n,l=u-a;if(0===c||0===l)return null;var f,d,p,h,m,g=c-l,v=l+c,y=(v%2==0?v:v+1)/2;for(r[1+y]=n,o[1+y]=i+1,f=0;f<=y;++f){for(d=-f;d<=f;d+=2){for(p=d+y,d===-f||d!==f&&r[p-1]<r[p+1]?r[p]=r[p+1]:r[p]=r[p-1]+1,m=(h=r[p])-n+a-d;h<i&&m<u&&e[h]===t[m];)r[p]=++h,++m;if(g%2!=0&&g-f<=d&&d<=g+f&&o[p-g]<=r[p])return s(o[p-g],d+n-a,i,u)}for(d=g-f;d<=g+f;d+=2){for(p=d+y-g,d===g-f||d!==g+f&&o[p+1]<=o[p-1]?o[p]=o[p+1]-1:o[p]=o[p-1],m=(h=o[p]-1)-n+a-d;h>=n&&m>=a&&e[h]===t[m];)o[p]=h--,m--;if(g%2==0&&-f<=d&&d<=f&&o[p]<=r[p+g])return s(o[p],d+n-a,i,u)}}},c=[];return a(0,e.length,0,t.length,c),c},ak=function(e){return Yr(e)?e.outerHTML:oo(e)?ys.encodeRaw(e.data,!1):io(e)?"<!--"+e.data+"-->":""},sk=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r},uk=function(e,t,n){var r=sk(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},ck=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},lk=function(e,t){var n=0;ge(e,function(e){e[0]===nk?n++:e[0]===rk?(uk(t,e[1],n),n++):e[0]===ok&&ck(t,n)})},fk=function(e){return be(me(Ie(e.childNodes),ak),function(e){return e.length>0})},dk=function(e,t){var n=me(Ie(t.childNodes),ak);return lk(ik(n,e),t),t},pk=ut(function(){return document.implementation.createHTMLDocument("undo")}),hk=function(e){return-1!==e.indexOf("</iframe>")},mk=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},gk=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},vk=function(e){var t=fk(e.getBody()),n=_e(t,function(t){var n=tb(e.serializer,t);return n.length>0?[n]:[]}),r=n.join("");return hk(r)?mk(n):gk(r)},yk=function(e,t,n){var r=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?dk(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!z(r)||!kh(r)||!r.isFakeCaret}),e.selection.moveToBookmark(r)},bk=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Ck=function(e){var t=kn.fromTag("body",pk());return cl(t,bk(e)),ge($c(t,"*[data-mce-bogus]"),Rr),ul(t)},wk=function(e,t){return bk(e)===bk(t)},xk=function(e,t){return Ck(e)===Ck(t)},Sk=function(e,t){return!(!e||!t)&&(!!wk(e,t)||xk(e,t))},Ek=function(e){return 0===e.get()},kk=function(e,t,n){Ek(n)&&(e.typing=t)},_k=function(e,t){e.typing&&(kk(e,!1,t),e.add())},Nk=function(e){e.typing&&(e.typing=!1,e.add())},Tk=function(e,t,n){Ek(t)&&n.set(Of(e.selection))},Ak=function(e,t,n,r,o,i,a){var s=vk(e);if(i=i||{},i=Cn.extend(i,s),!1===Ek(r)||e.removed)return null;var u=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:u,originalEvent:a}).isDefaultPrevented())return null;if(u&&Sk(u,i))return null;t.data[n.get()]&&o.get().each(function(e){t.data[n.get()].beforeBookmark=e});var c=Fd(e);if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=Of(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:u,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.fire("AddUndo",f),e.fire("change",f)):e.fire("AddUndo",f),i},Dk=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},Pk=function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];yk(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}},Rk=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],yk(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},Ok=function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,kk(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],yk(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o},Lk=function(e){e.clear(),e.add()},Ik=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!Sk(vk(e),t.data[0])},Bk=function(e,t){return t.get()<e.data.length-1&&!e.typing},Mk=function(e,t,n){return _k(e,t),e.beforeChange(),e.ignore(n),e.add()},Fk=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},Hk=function(e,t){var n=e.dom,r=z(t)?t:e.getBody();j(e.hasVisual)&&(e.hasVisual=Vd(e)),ge(n.select("table,a",r),function(t){switch(t.nodeName){case"TABLE":var r=$d(e),o=n.getAttrib(t,"border");o&&"0"!==o||!e.hasVisual?n.removeClass(t,r):n.addClass(t,r);break;case"A":if(!n.getAttrib(t,"href")){var i=n.getAttrib(t,"name")||t.id,a=Xd(e);i&&e.hasVisual?n.addClass(t,a):n.removeClass(t,a)}}}),e.fire("VisualAid",{element:t,hasVisual:e.hasVisual})},qk=function(e){return{undoManager:{beforeChange:function(t,n){return Tk(e,t,n)},add:function(t,n,r,o,i,a){return Ak(e,t,n,r,o,i,a)},undo:function(t,n,r){return Ok(e,t,n,r)},redo:function(t,n){return Rk(e,t,n)},clear:function(t,n){return Dk(e,t,n)},reset:function(e){return Lk(e)},hasUndo:function(t,n){return Ik(e,t,n)},hasRedo:function(e,t){return Bk(e,t)},transact:function(e,t,n){return Mk(e,t,n)},ignore:function(e,t){return Fk(e,t)},extra:function(t,n,r,o){return Pk(e,t,n,r,o)}},formatter:{match:function(t,n,r,o){return Yx(e,t,n,r,o)},matchAll:function(t,n){return Kx(e,t,n)},matchNode:function(t,n,r,o){return Xx(e,t,n,r,o)},canApply:function(t){return Qx(e,t)},closest:function(t){return Gx(e,t)},apply:function(t,n,r){return cE(e,t,n,r)},remove:function(t,n,r,o){return ZS(e,t,n,r,o)},toggle:function(t,n,r){return bE(e,t,n,r)},formatChanged:function(t,n,r,o,i){return yE(e,t,n,r,o,i)}},editor:{getContent:function(t,n){return ab(e,t,n)},setContent:function(t,n){return Mx(e,t,n)},insertContent:function(t,n){return _x(e,t,n)},addVisual:function(t){return Hk(e,t)}},selection:{getContent:function(t,n){return tk(e,t,n)}},raw:{getModel:function(){return se.none()}}}},jk=function(e){var t=function(e){return M(e)?e:{}},n=e.undoManager,r=e.formatter,o=e.editor,i=e.selection,a=e.raw;return{undoManager:{beforeChange:n.beforeChange,add:n.add,undo:n.undo,redo:n.redo,clear:n.clear,reset:n.reset,hasUndo:n.hasUndo,hasRedo:n.hasRedo,transact:function(e,t,r){return n.transact(r)},ignore:function(e,t){return n.ignore(t)},extra:function(e,t,r,o){return n.extra(r,o)}},formatter:{match:function(e,n,o,i){return r.match(e,t(n),i)},matchAll:r.matchAll,matchNode:r.matchNode,canApply:function(e){return r.canApply(e)},closest:function(e){return r.closest(e)},apply:function(e,n){return r.apply(e,t(n))},remove:function(e,n){return r.remove(e,t(n))},toggle:function(e,n){return r.toggle(e,t(n))},formatChanged:function(e,t,n,o,i){return r.formatChanged(t,n,o,i)}},editor:{getContent:function(e){return o.getContent(e)},setContent:function(e,t){return o.setContent(e,t)},insertContent:function(e){return o.insertContent(e)},addVisual:o.addVisual},selection:{getContent:function(e,t){return i.getContent(t)}},raw:{getModel:function(){return se.some(a.getRawModel())}}}},Uk=function(){var e=K(null),t=K("");return{undoManager:{beforeChange:$,add:e,undo:e,redo:e,clear:$,reset:$,hasUndo:ne,hasRedo:ne,transact:e,ignore:$,extra:$},formatter:{match:ne,matchAll:K([]),matchNode:K(undefined),canApply:ne,closest:t,apply:$,remove:$,toggle:$,formatChanged:K({unbind:$})},editor:{getContent:t,setContent:t,insertContent:$,addVisual:$},selection:{getContent:t},raw:{getModel:K(se.none())}}},zk=function(e){return Ke(e.plugins,"rtc")},Wk=function(e){return Ye(e.plugins,"rtc").bind(function(e){return se.from(e.setup)})},Vk=function(e){var t=e;return Wk(e).fold(function(){return t.rtcInstance=qk(e),se.none()},function(e){return t.rtcInstance=Uk(),se.some(function(){return e().then(function(e){return t.rtcInstance=jk(e),e.rtc.isRemote})})})},$k=function(e){return e.rtcInstance?e.rtcInstance:qk(e)},Xk=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Yk=function(e,t,n){Xk(e).undoManager.beforeChange(t,n)},Kk=function(e,t,n,r,o,i,a){return Xk(e).undoManager.add(t,n,r,o,i,a)},Gk=function(e,t,n,r){return Xk(e).undoManager.undo(t,n,r)},Qk=function(e,t,n){return Xk(e).undoManager.redo(t,n)},Jk=function(e,t,n){Xk(e).undoManager.clear(t,n)},Zk=function(e,t){Xk(e).undoManager.reset(t)},e_=function(e,t,n){return Xk(e).undoManager.hasUndo(t,n)},t_=function(e,t,n){return Xk(e).undoManager.hasRedo(t,n)},n_=function(e,t,n,r){return Xk(e).undoManager.transact(t,n,r)},r_=function(e,t,n){Xk(e).undoManager.ignore(t,n)},o_=function(e,t,n,r,o){Xk(e).undoManager.extra(t,n,r,o)},i_=function(e,t,n,r,o){return Xk(e).formatter.match(t,n,r,o)},a_=function(e,t,n){return Xk(e).formatter.matchAll(t,n)},s_=function(e,t,n,r,o){return Xk(e).formatter.matchNode(t,n,r,o)},u_=function(e,t){return Xk(e).formatter.canApply(t)},c_=function(e,t){return Xk(e).formatter.closest(t)},l_=function(e,t,n,r){Xk(e).formatter.apply(t,n,r)},f_=function(e,t,n,r,o){Xk(e).formatter.remove(t,n,r,o)},d_=function(e,t,n,r){Xk(e).formatter.toggle(t,n,r)},p_=function(e,t,n,r,o,i){return Xk(e).formatter.formatChanged(t,n,r,o,i)},h_=function(e,t,n){return $k(e).editor.getContent(t,n)},m_=function(e,t,n){return $k(e).editor.setContent(t,n)},g_=function(e,t,n){return $k(e).editor.insertContent(t,n)},v_=function(e,t,n){return Xk(e).selection.getContent(t,n)},y_=function(e,t){return Xk(e).editor.addVisual(t)},b_=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return v_(e,n,t)},C_=function(e){return 0===e.dom.length?(Pr(e),se.none()):se.some(e)},w_=function(e,t){return e.filter(function(e){return tg.isBookmarkNode(e.dom)}).bind(t?ir:or)},x_=function(e,t,n,r){var o=e.dom,i=t.dom,a=r?o.length:i.length;r?(TC(o,i,!1,!r),n.setStart(i,a)):(TC(i,o,!1,!r),n.setEnd(i,a))},S_=function(e,t){tr(e).each(function(n){var r=e.dom;t&&dC(n,Ql(r,0))?_C(r,0):!t&&hC(n,Ql(r,r.length))&&NC(r,r.length)})},E_=function(e,t,n,r){e.bind(function(e){return(r?NC:_C)(e.dom,r?e.dom.length:0),t.filter(Xn).map(function(t){return x_(e,t,n,r)})}).orThunk(function(){return w_(t,r).or(t).filter(Xn).map(function(e){return S_(e,r)})})},k_=function(e,t){var n=se.from(t.firstChild).map(kn.fromDom),r=se.from(t.lastChild).map(kn.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(or).filter(Xn).bind(C_),i=r.bind(ir).filter(Xn).bind(C_);E_(o,n,e,!0),E_(i,r,e,!1),e.collapse(!1)},__=function(e,t){return st(st({format:"html"},e),{set:!0,selection:!0,content:t})},N_=function(e,t){if("raw"!==t.format){var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,st(st({isRootContent:!0,forced_root_block:!1},o),t));return fb({validate:e.validate},e.schema).serialize(i)}return t.content},T_=function(e,t,n){void 0===n&&(n={});var r=__(n,t),o=r;if(!r.no_events){var i=e.fire("BeforeSetContent",r);if(i.isDefaultPrevented())return void e.fire("SetContent",i);o=i}o.content=N_(e,o);var a=e.selection.getRng();k_(a,a.createContextualFragment(o.content)),e.selection.setRng(a),yv(e,a),o.no_events||e.fire("SetContent",o)},A_=function(e,t,n){if(e&&Ke(e,t)){var r=be(e[t],function(e){return e!==n});0===r.length?delete e[t]:e[t]=r}},D_=function(e){return!!e.select},P_=function(e){return!(!e||!e.ownerDocument)&&jn(kn.fromDom(e.ownerDocument),kn.fromDom(e))},R_=function(e){return!!e&&(!!D_(e)||P_(e.startContainer)&&P_(e.endContainer))},O_=function(e,t,n,r){var o,i,a=C(e,r).selectorChangedWithUnbind,s=function(t,n){var o=e.createRng();z(t)&&z(n)?(o.setStart(t,n),o.setEnd(t,n),g(o),p(!1)):(Um(e,o,r.getBody(),!0),g(o))},u=function(e,t){return T_(r,e,t)},c=function(e){return Ey(r.getBody(),m(),e)},l=function(e){return ky(r.getBody(),m(),e)},f=function(t,n){return Ay(e,t,n).each(g),t},d=function(){var e=m(),t=h();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},p=function(e){var t=m();t.collapse(!!e),g(t)},h=function(){return t.getSelection?t.getSelection():t.document.selection},m=function(){var n,a,s,u=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}},c=t.document;if(r.bookmark!==undefined&&!1===yy(r)){var l=$v(r);if(l.isSome())return l.map(function(e){return Dy(r,[e])[0]}).getOr(c.createRange())}try{(n=h())&&!Xr(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange(),a=Dy(r,[a])[0])}catch(f){}return a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),o&&i&&(0===u(a.START_TO_START,a,o)&&0===u(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},g=function(e,t){var n;if(R_(e)){var a=D_(e)?e:null;if(a){i=null;try{a.select()}catch(u){}}else{var s=h();if(e=r.fire("SetSelectionRange",{range:e,forward:t}).range,s){i=e;try{s.removeAllRanges(),s.addRange(e)}catch(u){}!1===t&&s.extend&&(s.collapse(e.endContainer,e.endOffset),s.extend(e.startContainer,e.startOffset)),o=s.rangeCount>0?s.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!s.setBaseAndExtent||mn.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(s.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),s.anchorNode===e.startContainer&&s.focusNode===e.endContainer||s.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},v=function(){var t=h(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;if(!t||!n||!r||Xr(n)||Xr(r))return!0;var o=e.createRng();o.setStart(n,t.anchorOffset),o.collapse(!0);var i=e.createRng();return i.setStart(r,t.focusOffset),i.collapse(!0),o.compareBoundaryPoints(o.START_TO_START,i)<=0},y=function(){t=o=i=null,x.destroy()},b={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:p,setCursorLocation:s,getContent:function(e){return b_(r,e)},setContent:u,getBookmark:function(e,t){return w.getBookmark(e,t)},moveToBookmark:function(e){return w.moveToBookmark(e)},select:f,isCollapsed:d,isForward:v,setNode:function(t){return u(e.getOuterHTML(t)),t},getNode:function(){return Ny(r.getBody(),m())},getSel:h,setRng:g,getRng:m,getStart:c,getEnd:l,getSelectedBlocks:function(t,n){return Ty(e,m(),t,n)},normalize:function(){var t=m(),n=h();if(!Pm(n)&&zm(r)){var o=Fg(e,t);return o.each(function(e){g(e,v())}),o.getOr(t)}return t},selectorChanged:function(e,t){return a(e,t),b},selectorChangedWithUnbind:a,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){z(e)?vv(r,e,t):yv(r,m(),t)},placeCaretAt:function(e,t){return g(kg(e,t,r.getDoc()))},getBoundingClientRect:function(){var e=m();return e.collapsed?Ql.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:y},w=tg(b),x=Cg(b,r);return b.bookmarkManager=w,b.controlSelection=x,b},L_=function(e,t){ge(t,function(t){e.attr(t,null)})},I_=function(e,t,n){e.addNodeFilter("font",function(e){ge(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),L_(e,["color","face","size"])})})},B_=function(e,t){e.addNodeFilter("strike",function(e){ge(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},M_=function(e,t){var n=Ps();t.convert_fonts_to_spans&&I_(e,n,Cn.explode(t.font_size_legacy_values)),B_(e,n)},F_=function(e,t){t.inline_styles&&M_(e,t)},H_=function(e){return new Ti(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===o.status?t(o.response):r()},o.onerror=r,o.send()}catch(i){r()}})},q_=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},j_=function(e,t){var n;try{n=atob(t)}catch(uq){return se.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return se.some(new Blob([r],{type:e}))},U_=function(e){return new Ti(function(t){var n=q_(e),r=n.type,o=n.data;j_(r,o).fold(function(){return t(new Blob([]))},t)})},z_=function(e){return 0===e.indexOf("blob:")?H_(e):0===e.indexOf("data:")?U_(e):null},W_=function(e){return new Ti(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},V_=0,$_=function(e){return(e||"blobid")+V_++},X_=function(e,t,n,r){var o,i;if(0!==t.src.indexOf("blob:")){var a=q_(t.src),s=a.data,u=a.type;o=s,(i=e.getByData(o,u))?n({image:t,blobInfo:i}):z_(t.src).then(function(r){i=e.create($_(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})}else(i=e.getByUri(t.src))?n({image:t,blobInfo:i}):z_(t.src).then(function(r){W_(r).then(function(a){o=q_(a).data,i=e.create($_(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)})},Y_=function(e){return e?Ie(e.getElementsByTagName("img")):[]},K_=function(e,t){var n={};return{findAll:function(r,o){o||(o=re);var i=be(Y_(r),function(t){var n=t.src;return!!mn.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===mn.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))}),a=me(i,function(e){if(n[e.src]!==undefined)return new Ti(function(t){n[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var r=new Ti(function(n,r){X_(t,e,n,r)}).then(function(e){return delete n[e.image.src],e})["catch"](function(t){return delete n[e.src],t});return n[e.src]=r,r});return Ti.all(a)}}},G_=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Iy("br",1)).shortEnded=!0:r.empty().append(new Iy("#text",3)).value=oa},Q_=function(e){return J_(e,"#text")&&e.firstChild.value===oa},J_=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Z_=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},eN=function(e,t,n,r){return r.isEmpty(t,n,function(t){return Z_(e,t)})},tN=function(e,t){return e&&(Ke(t,e.name)||"br"===e.name)},nN=function(e){return z(e.attr("data-mce-bogus"))},rN=function(e){return e.attr("src")===mn.transparentSrc||z(e.attr("data-mce-placeholder"))},oN=function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr("src"),He(e.attributes.map,function(e,t){n.setAttribute(t,e)}),t.images_dataimg_filter(n)}return!0},iN=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");rN(e)||nN(e)||Fy(r).filter(function(){return oN(e,t)}).bind(function(e){var t=e.type,r=e.data;return se.from(n.getByData(r,t)).orThunk(function(){return j_(t,r).map(function(e){var t=n.create($_(),e,r);return n.add(t),t})})}).each(function(t){e.attr("src",t.blobUri())})};n&&e.addAttributeFilter("src",function(e){return ge(e,r)})},aN=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,s,u,c,l,f,d,p=e.length,h=Cn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(h.body=1,i=0;i<p;i++)if(s=(a=e[i]).parent,h[a.parent.name]&&a===s.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){"br"===l&&(a=null);break}c=c.prev}a&&(a.remove(),eN(n,m,g,s)&&(f=n.getElementRule(s.name))&&(f.removeEmpty?s.remove():f.paddEmpty&&G_(t,o,h,s)))}else{for(u=a;s&&s.firstChild===u&&s.lastChild===u&&(u=s,!h[s.name]);)s=s.parent;u===s&&!0!==t.padd_empty_with_br&&((d=new Iy("#text",3)).value=oa,a.replace(d))}}),e.addAttributeFilter("href",function(e){var n=e.length,r=function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")},o=function(e){var t=e?Cn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)};if(!t.allow_unsafe_link_target)for(;n--;){var i=e[n];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",o(i.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new Iy("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t=n.getValidClasses(),r=e.length;r--;){for(var o=e[r],i=o.attr("class").split(" "),a="",s=0;s<i.length;s++){var u=i[s],c=!1,l=t["*"];l&&l[u]&&(c=!0),l=t[o.name],!c&&l&&l[u]&&(c=!0),c&&(a&&(a+=" "),a+=u)}a.length||(a=null),o.attr("class",a)}}),iN(e,t)},sN=Cn.makeMap,uN=Cn.each,cN=Cn.explode,lN=Cn.extend,fN=function(e,t){void 0===t&&(t=As());var n={},r=[],o={},i={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){for(var n=sN("tr,td,th,tbody,thead,tfoot,table"),r=t.getNonEmptyElements(),o=t.getWhiteSpaceElements(),i=t.getTextBlockElements(),a=t.getSpecialElements(),u=function(e,n){if(void 0===n&&(n=e.parent),a[e.name])e.empty().remove();else{for(var r=0,o=e.children();r<o.length;r++){var i=o[r];t.isValidChild(n.name,i.name)||u(i,n)}e.unwrap()}},c=0;c<e.length;c++){var l=e[c],f=void 0,d=void 0,p=void 0;if(l.parent&&!l.fixed)if(i[l.name]&&"li"===l.parent.name){for(var h=l.next;h&&i[h.name];)h.name="li",h.fixed=!0,l.parent.insert(h,l.parent),h=h.next;l.unwrap()}else{var m=[l];for(f=l.parent;f&&!t.isValidChild(f.name,l.name)&&!n[f.name];f=f.parent)m.push(f);if(f&&m.length>1)if(t.isValidChild(f.name,l.name)){m.reverse();for(var g=d=s(m[0].clone()),v=0;v<m.length-1;v++){t.isValidChild(g.name,m[v].name)?(p=s(m[v].clone()),g.append(p)):p=g;for(var y=m[v].firstChild;y&&y!==m[v+1];){var b=y.next;p.append(y),y=b}g=p}eN(t,r,o,d)?f.insert(l,m[0],!0):(f.insert(d,m[0],!0),f.insert(l,d)),f=m[0],(eN(t,r,o,f)||J_(f,"br"))&&f.empty().remove()}else u(l);else if(l.parent){if("li"===l.name){if((h=l.prev)&&("ul"===h.name||"ol"===h.name)){h.append(l);continue}if((h=l.next)&&("ul"===h.name||"ol"===h.name)){h.insert(l,h.firstChild,!0);continue}l.wrap(s(new Iy("ul",1)));continue}t.isValidChild(l.parent.name,"div")&&t.isValidChild("div",l.name)?l.wrap(s(new Iy("div",1))):u(l)}}}},s=function(e){var t=e.name;t in n&&((s=o[t])?s.push(e):o[t]=[e]);for(var a=r.length;a--;){var s,u=r[a].name;if(u in e.attributes.map)(s=i[u])?s.push(e):i[u]=[e]}return e},u={schema:t,addAttributeFilter:function(e,t){uN(cN(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){uN(cN(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},getNodeFilters:function(){var e=[];for(var t in n)Ke(n,t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:s,parse:function(s,u){var c,l,f,d,p,h,m,g,v=[],y=function(e){return!1===e?"":!0===e?"p":e};u=u||{},o={},i={};var b=lN(sN("script,style,head,html,body,title,meta,param"),t.getBlockElements()),C=t.getNonEmptyElements(),w=t.children,x=e.validate,S=y("forced_root_block"in u?u.forced_root_block:e.forced_root_block),E=t.getWhiteSpaceElements(),k=/^[ \t\r\n]+/,_=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,T=/^[ \t\r\n]+$/,A=Ke(E,u.context)||Ke(E,e.root_name),D=function(){var n=I.firstChild,r=null,o=function(e){e&&((n=e.firstChild)&&3===n.type&&(n.value=n.value.replace(k,"")),(n=e.lastChild)&&3===n.type&&(n.value=n.value.replace(_,"")))};if(t.isValidChild(I.name,S.toLowerCase())){for(;n;){var i=n.next;3===n.type||1===n.type&&"p"!==n.name&&!b[n.name]&&!n.attr("data-mce-type")?r?r.append(n):((r=P(S,1)).attr(e.forced_root_block_attrs),I.insert(r,n),r.append(n)):(o(r),r=null),n=i}o(r)}},P=function(e,t){var r,i=new Iy(e,t);return e in n&&((r=o[e])?r.push(i):o[e]=[i]),i},R=function(e){for(var n=t.getBlockElements(),r=e.prev;r&&3===r.type;){var o=r.value.replace(_,"");if(o.length>0)return void(r.value=o);var i=r.next;if(i){if(3===i.type&&i.value.length){r=r.prev;continue}if(!n[i.name]&&"script"!==i.name&&"style"!==i.name){r=r.prev;continue}}var a=r.prev;r.remove(),r=a}},O=function(e){var t={};for(var n in e)"li"!==n&&"p"!==n&&(t[n]=e[n]);return t},L=Zy({validate:x,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:O(t.getSelfClosingElements()),cdata:function(e){g.append(P("#cdata",4)).value=e},text:function(e,t){var n;A||(e=e.replace(N," "),tN(g.lastChild,b)&&(e=e.replace(k,""))),0!==e.length&&((n=P("#text",3)).raw=!!t,g.append(n).value=e)},comment:function(e){g.append(P("#comment",8)).value=e},pi:function(e,t){g.append(P(e,7)).value=t,R(g)},doctype:function(e){g.append(P("#doctype",10)).value=e,R(g)},start:function(e,n,o){var a=x?t.getElementRule(e):{};if(a){var s=P(a.outputName||e,1);s.attributes=n,s.shortEnded=o,g.append(s);var u=w[g.name];u&&w[s.name]&&!u[s.name]&&v.push(s);for(var c=r.length;c--;){var l=r[c].name;l in n.map&&((h=i[l])?h.push(s):i[l]=[s])}b[e]&&R(s),o||(g=s),!A&&E[e]&&(A=!0)}},end:function(n){var r,o,i,a,s=x?t.getElementRule(n):{};if(s){if(b[n]&&!A){if((r=g.firstChild)&&3===r.type)if((o=r.value.replace(k,"")).length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,
(0===o.length||T.test(o))&&(r.remove(),r=i),r=i;if((r=g.lastChild)&&3===r.type)if((o=r.value.replace(_,"")).length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||T.test(o))&&(r.remove(),r=i),r=i}if(A&&E[n]&&(A=!1),s.removeEmpty&&eN(t,C,E,g))return a=g.parent,b[g.name]?g.empty().remove():g.unwrap(),void(g=a);s.paddEmpty&&(Q_(g)||eN(t,C,E,g))&&G_(e,u,b,g),g=g.parent}}},t),I=g=new Iy(u.context||e.root_name,11);if(L.parse(s,u.format),x&&v.length&&(u.context?u.invalid=!0:a(v)),S&&("body"===I.name||u.isRootContent)&&D(),!u.invalid){for(m in o)if(Ke(o,m)){for(h=n[m],d=(c=o[m]).length;d--;)c[d].parent||c.splice(d,1);for(l=0,f=h.length;l<f;l++)h[l](c,m,u)}for(l=0,f=r.length;l<f;l++)if((h=r[l]).name in i){for(d=(c=i[h.name]).length;d--;)c[d].parent||c.splice(d,1);for(d=0,p=h.callbacks.length;d<p;d++)h.callbacks[d](c,h.name,u)}}return I}};return aN(u,e),F_(u,e),u},dN=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n=e.length;n--;){var r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}}),e.addAttributeFilter("src,href,style",function(e,r){for(var o="data-mce-"+r,i=t.url_converter,a=t.url_converter_scope,s=e.length;s--;){var u=e[s],c=u.attr(o);c!==undefined?(u.attr(r,c.length>0?c:null),u.attr(o,null)):(c=u.attr(r),"style"===r?c=n.serializeStyle(n.parseStyle(c),u.name):i&&(c=i.call(a,c,r,u.name)),u.attr(r,c.length>0?c:null))}}),e.addAttributeFilter("class",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("class");r&&(r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",r.length>0?r:null))}}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r=e.length;r--;){var o=e[r];if("bookmark"===o.attr("data-mce-type")&&!n.cleanup)se.from(o.firstChild).exists(function(e){return!aa(e.value)})?o.unwrap():o.remove()}}),e.addNodeFilter("noscript",function(e){for(var t=e.length;t--;){var n=e[t].firstChild;n&&(n.value=ys.decode(n.value))}}),e.addNodeFilter("script,style",function(e,n){for(var r=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},o=e.length;o--;){var i=e[o],a=i.firstChild?i.firstChild.value:"";if("script"===n){var s=i.attr("type");s&&i.attr("type","mce-no/type"===s?null:s.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a.length>0&&(i.firstChild.value="// <![CDATA[\n"+r(a)+"\n// ]]>")}else"xhtml"===t.element_format&&a.length>0&&(i.firstChild.value="<!--\n"+r(a)+"\n-->")}}),e.addNodeFilter("#comment",function(e){for(var r=e.length;r--;){var o=e[r];t.preserve_cdata&&0===o.value.indexOf("[CDATA[")?(o.name="#cdata",o.type=4,o.value=n.decode(o.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===o.value.indexOf("mce:protected ")&&(o.name="#text",o.type=3,o.raw=!0,o.value=unescape(o.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n=e.length;n--;){var r=e[n];7===r.type?r.remove():1===r.type&&("input"!==t||r.attr("type")||r.attr("type","text"))}}),e.addAttributeFilter("data-mce-type",function(t){ge(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},pN=function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},hN=function(e,t,n){var r,o=e.dom,i=t.cloneNode(!0),a=document.implementation;if(a.createHTMLDocument){var s=a.createHTMLDocument("");Cn.each("BODY"===i.nodeName?i.childNodes:[i],function(e){s.body.appendChild(s.importNode(e,!0))}),i="BODY"!==i.nodeName?s.body.firstChild:s.body,r=o.doc,o.doc=s}return og(e,st(st({},n),{node:i})),r&&(o.doc=r),i},mN=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},gN=function(e,t,n){return mN(e,n)?hN(e,t,n):t},vN=function(e,t,n){-1===Cn.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},yN=function(e,t,n){return!t.no_events&&e?ig(e,st(st({},t),{content:n})).content:n},bN=function(e,t,n){var r=sa(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||ta(kn.fromDom(t))?r:Cn.trim(r)},CN=function(e,t,n){var r=n.selection?st({forced_root_block:!1},n):n,o=e.parse(t,r);return pN(o),o},wN=function(e,t,n){return fb(e,t).serialize(n)},xN=function(e,t,n,r,o){var i=wN(t,n,r);return yN(e,o,i)},SN=function(t,n){var r=["data-mce-selected"],o=n&&n.dom?n.dom:pc.DOM,i=n&&n.schema?n.schema:As(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var a=fN(t,i);dN(a,t,o);var s=function(e,r){void 0===r&&(r={});var s=st({format:"html"},r),u=gN(n,e,s),c=bN(o,u,s),l=CN(a,c,s);return"tree"===s.format?l:xN(n,t,i,l,s)};return{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:s,addRules:i.addValidElements,setRules:i.setValidElements,addTempAttr:e(vN,a,r),getTempAttrs:K(r),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},EN=function(e,t){var n=SN(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},kN="html",_N=function(e,t){void 0===t&&(t={});var n=t.format?t.format:kN;return h_(e,t,n)},NN=function(e,t,n){return void 0===n&&(n={}),m_(e,t,n)},TN=pc.DOM,AN=function(e){TN.setStyle(e.id,"display",e.orgDisplay)},DN=function(e){return se.from(e).each(function(e){return e.destroy()})},PN=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},RN=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),TN.unbind(t,"submit reset",e.formEventDelegate))},ON=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&TN.remove(o.nextSibling),ag(e),e.editorManager.remove(e),!e.inline&&r&&AN(e),sg(e),TN.remove(e.getContainer()),DN(t),DN(n),e.destroy()}},LN=function(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),DN(n),DN(r)),RN(e),PN(e),e.destroyed=!0):e.remove())},IN=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Ke(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(function(e,t){return M(e)&&M(t)?IN(e,t):t}),BN="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),MN="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),FN="imagetools,toc".split(","),HN=function(e){var t=be(BN,function(t){return Ke(e,t)}),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),Pe(t)},qN=function(e){var t=Cn.makeMap(e.plugins," "),r=function(e){return Ke(t,e)},o=n(n([],be(MN,r),!0),_e(FN,function(e){return r(e)?[e+" (moving to premium)"]:[]}),!0);return Pe(o)},jN=function(e,t){var n=HN(e),r=qN(t),o=r.length>0,i=n.length>0,a="mobile"===t.theme;if(o||i||a){var s="\n- ",u=a?"\n\nThemes:"+s+"mobile":"",c=o?"\n\nPlugins:"+s+r.join(s):"",l=i?"\n\nSettings:"+s+n.join(s):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+u+c+l)}},UN=function(e,t){return{sections:K(e),settings:K(t)}},zN=an().deviceType,WN=zN.isTouch(),VN=zN.isPhone(),$N=zN.isTablet(),XN=["lists","autolink","autosave"],YN={table_grid:!1,object_resizing:!1,resize:!1},KN=function(e){var t=F(e)?e.join(" "):e,n=me(B(t)?t.split(" "):[],_t);return be(n,function(e){return e.length>0})},GN=function(t){return be(t,e(pe,XN))},QN=function(e,t){var n=We(t,function(t,n){return pe(e,n)});return UN(n.t,n.f)},JN=function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=Ye(r,t).getOr({});return Cn.extend({},n,o)},ZN=function(e,t){return Ke(e.sections(),t)},eT=function(e,t,n){var r=e.sections();return ZN(e,t)&&r[t].theme===n},tT=function(e,t){return ZN(e,t)?e.sections()[t]:{}},nT=function(e,t){return Ye(e,"toolbar_mode").orThunk(function(){return Ye(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)},rT=function(e,t,n,r,o){var i={id:t,theme:"silver",toolbar_mode:nT(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return st(st({},i),r?YN:{})},oT=function(e,t){var n={resize:!1,toolbar_mode:nT(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return st(st(st({},YN),n),t?r:{})},iT=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?Cn.extend({},e.external_plugins,n):n},aT=function(e,t){return[].concat(KN(e)).concat(KN(t))},sT=function(e,t,n,r){return e&&eT(t,"mobile","mobile")?GN(r):e&&ZN(t,"mobile")?r:n},uT=function(e,t,n,r){var o=KN(n.forced_plugins),i=KN(r.plugins),a=tT(t,"mobile"),s=a.plugins?KN(a.plugins):i,u=sT(e,t,i,s),c=aT(o,u);if(mn.browser.isIE()&&pe(c,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Cn.extend(r,{plugins:c.join(" ")})},cT=function(e,t){return e&&ZN(t,"mobile")},lT=function(e,t,n,r,o){var i=e?{mobile:oT(o.mobile||{},t)}:{},a=QN(["mobile"],IN(i,o)),s=Cn.extend(n,r,a.settings(),cT(e,a)?JN(a,"mobile"):{},{validate:!0,external_plugins:iT(r,a.settings())});return uT(e,a,r,s)},fT=function(e,t,n,r,o){var i=rT(o,t,n,WN,e),a=lT(VN||$N,VN,i,r,o);return!1!==a.deprecation_warnings&&jN(o,a),a},dT=function(e,t,n){return se.from(t.settings[n]).filter(e)},pT=function(e){var t={};return"string"==typeof e?ge(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[Cn.trim(n[0])]=Cn.trim(n[1]):t[Cn.trim(n[0])]=Cn.trim(n[0])}):t=e,t},hT=function(e){return function(t){return F(t)&&Ne(t,e)}},mT=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?pT(o):"string"===r?dT(B,e,t).getOr(n):"number"===r?dT(V,e,t).getOr(n):"boolean"===r?dT(q,e,t).getOr(n):"object"===r?dT(M,e,t).getOr(n):"array"===r?dT(F,e,t).getOr(n):"string[]"===r?dT(hT(B),e,t).getOr(n):"function"===r?dT(W,e,t).getOr(n):o},gT=function(){var e={};return{add:function(t,n){e[t]=n},get:function(t){return e[t]?e[t]:{icons:{}}},has:function(t){return Ke(e,t)}}}(),vT=function(e,t){return t.dom[e]},yT=function(e,t){return parseInt(Po(t,e),10)},bT=e(vT,"clientWidth"),CT=e(vT,"clientHeight"),wT=e(yT,"margin-top"),xT=e(yT,"margin-left"),ST=function(e){return e.dom.getBoundingClientRect()},ET=function(e,t,n){var r=bT(e),o=CT(e);return t>=0&&n>=0&&t<=r&&n<=o},kT=function(e,t,n,r){var o=ST(t);return{x:n-(e?o.left+t.dom.clientLeft+xT(t):0),y:r-(e?o.top+t.dom.clientTop+wT(t):0)}},_T=function(e,t,n){var r=kn.fromDom(e.getBody()),o=e.inline?r:Zn(r),i=kT(e.inline,o,t,n);return ET(o,i.x,i.y)},NT=function(e){return se.from(e).map(kn.fromDom)},TT=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return NT(t).map(Or).getOr(!1)},AT=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},DT=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():AT()},r=function(){return se.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},s=function(e){Ee(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},u=function(u,c){if(void 0===c&&(c=!0),!e.removed&&TT(e))return c&&e.fire("BeforeOpenNotification",{notification:u}),Se(t,function(e){return o(n().getArgs(e),u)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(u,function(){s(t),i(),r().fold(function(){return e.focus()},function(e){return Cv(kn.fromDom(e.getEl()))})});return a(t),i(),e.fire("OpenNotification",{notification:st({},t)}),t})},c=function(){r().each(function(e){n().close(e),s(e),i()})},l=K(t);return function(e){e.on("SkinLoaded",function(){var t=xd(e);t&&u({text:t,type:"warning",timeout:0},!1),i()}),e.on("show ResizeEditor ResizeWindow NodeChange",function(){Oi.requestAnimationFrame(i)}),e.on("remove",function(){ge(t.slice(),function(e){n().close(e)})})}(e),{open:u,close:c,getNotifications:l}},PT=Ac.PluginManager,RT=Ac.ThemeManager,OT=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():w()},r=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t?t.apply(e,n):undefined}},o=function(t){e.fire("OpenWindow",{dialog:t})},i=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),o(e)},s=function(n){i(n),0===(t=be(t,function(e){return e!==n})).length&&e.focus()},u=function(){return se.from(t[t.length-1])},c=function(t){e.editorManager.setActive(e),Wv(e);var n=t();return a(n),n},l=function(e,t){return c(function(){return n().open(e,t,s)})},f=function(e){return c(function(){return n().openUrl(e,s)})},d=function(e,t,o){var i=n();i.alert(e,r(o||i,t))},p=function(e,t,o){var i=n();i.confirm(e,r(o||i,t))},h=function(){u().each(function(e){n().close(e),s(e)})};return e.on("remove",function(){ge(t,function(e){n().close(e)})}),{open:l,openUrl:f,alert:d,confirm:p,close:h}},LT=function(e,t){e.notificationManager.open({type:"error",text:t})},IT=function(e,t){e._skinLoaded?LT(e,t):e.on("SkinLoaded",function(){LT(e,t)})},BT=function(e,t){IT(e,Tc.translate(["Failed to upload image: {0}",t]))},MT=function(e,t,n){mg(e,t,{message:n}),console.error(n)},FT=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},HT=function(e,t,n){MT(e,"PluginLoadError",FT("plugin",t,n))},qT=function(e,t,n){MT(e,"IconsLoadError",FT("icons",t,n))},jT=function(e,t,n){MT(e,"LanguageLoadError",FT("language",t,n))},UT=function(e,t,n){var r=Tc.translate(["Failed to initialize plugin: {0}",t]);mg(e,"PluginLoadError",{message:r}),zT(r,n),IT(e,r)},zT=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=window.console;o&&(o.error?o.error.apply(o,n([e],t,!1)):o.log.apply(o,n([e],t,!1)))},WT=function(e){return/^[a-z0-9\-]+$/i.test(e)},VT=function(e){return XT(e,hd(e))},$T=function(e){return XT(e,md(e))},XT=function(e,t){var n=e.editorManager.baseURL+"/skins/content",r="content"+e.editorManager.suffix+".css",o=!0===e.inline;return me(t,function(t){return WT(t)&&!o?n+"/"+t+"/"+r:e.documentBaseURI.toAbsolute(t)})},YT=function(e){e.contentCSS=e.contentCSS.concat(VT(e),$T(e))},KT=function(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},o=function(e){return e in n};return{hasBlobUri:o,getResultUri:function(e){var t=n[e];return t?t.resultUri:null},isPending:function(t){return!!o(t)&&n[t].status===e},isUploaded:function(e){return!!o(e)&&n[e].status===t},markPending:function(t){n[t]=r(e,null)},markUploaded:function(e,o){n[e]=r(t,o)},removeFailed:function(e){delete n[e]},destroy:function(){n={}}}},GT=0,QT=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()},JT=function(e){return e+GT+++QT()},ZT=function(){var e=[],t=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat"},n=function(e,t,n,o,i){if(B(e))return r({id:e,name:o,filename:i,blob:t,base64:n});if(M(e))return r(e);throw new Error("Unknown input type")},r=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n=e.id||JT("blobid"),r=e.name||n,o=e.blob;return{id:K(n),name:K(r),filename:K(e.filename||r+"."+t(o.type)),blob:K(o),base64:K(e.base64),blobUri:K(e.blobUri||URL.createObjectURL(o)),uri:K(e.uri)}},o=function(t){a(t.id())||e.push(t)},i=function(t){return Se(e,t).getOrUndefined()},a=function(e){return i(function(t){return t.id()===e})};return{create:n,add:o,get:a,getByUri:function(e){return i(function(t){return t.blobUri()===e})},getByData:function(e,t){return i(function(n){return n.base64()===e&&n.blob().type===t})},findFirst:i,removeByUri:function(t){e=be(e,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){ge(e,function(e){URL.revokeObjectURL(e.blobUri())}),e=[]}}},eA=function(e,t){var n={},r=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},o=function(e,n,o,i){var a=new XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)o("HTTP Error: "+a.status);else{var e=JSON.parse(a.responseText);e&&"string"==typeof e.location?n(r(t.basePath,e.location)):o("Invalid JSON: "+a.responseText)}};var s=new FormData;s.append("file",e.blob(),e.filename()),a.send(s)},i=function(){return new Ti(function(e){e([])})},a=function(e,t){return{url:t,blobInfo:e,status:!0}},s=function(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}},u=function(e,t){Cn.each(n[e],function(e){e(t)}),delete n[e]},c=function(t,n,r){return e.markPending(t.blobUri()),new Ti(function(o){var i;try{var c=function(){i&&(i.close(),$)};n(t,function(n){c(),e.markUploaded(t.blobUri(),n),u(t.blobUri(),a(t,n)),o(a(t,n))},function(n,r){var i=r||{};c(),e.removeFailed(t.blobUri()),u(t.blobUri(),s(t,n,i)),o(s(t,n,i))},function(e){e<0||e>100||se.from(i).orThunk(function(){return se.from(r).map(ee)}).each(function(t){i=t,t.progressBar.value(e)})})}catch(l){o(s(t,l.message,{}))}})},l=function(e){return e===o},f=function(e){var t=e.blobUri();return new Ti(function(e){n[t]=n[t]||[],n[t].push(e)})},d=function(n,r){return n=Cn.grep(n,function(t){return!e.isUploaded(t.blobUri())}),Ti.all(Cn.map(n,function(n){return e.isPending(n.blobUri())?f(n):c(n,t.handler,r)}))},p=function(e,n){return!t.url&&l(t.handler)?i():d(e,n)};return!1===W(t.handler)&&(t.handler=o),{upload:p}},tA=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},nA=function(e,t){return eA(t,{url:od(e),basePath:id(e),credentials:ad(e),handler:sd(e)})},rA=function(e){var t=KT(),n=nA(e,t);return{upload:function(t,r){return void 0===r&&(r=!0),n.upload(t,r?tA(e):undefined)}}},oA=function(e){var t=xc(null);return e.on("change AddUndo",function(e){t.set(st({},e.level))}),{fireIfChanged:function(){var n=e.undoManager.data;Le(n).filter(function(e){return!Sk(t.get(),e)}).each(function(t){e.setDirty(!0),e.fire("change",{level:t,lastLevel:Re(n,n.length-2).getOrNull()})})}}},iA=function(e){var t,n,r=ZT(),o=KT(),i=[],a=oA(e),s=function(t){return function(n){return e.selection?t(n):[]}},u=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()},c=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},l=function(e,t,n){var r='src="'+n+'"'+(n===mn.transparentSrc?' data-mce-placeholder="1"':"");return e=c(e,'src="'+t+'"',r),e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},f=function(t,n){ge(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=me(e.fragments,function(e){return l(e,t,n)}):e.content=l(e.content,t,n)})},d=function(t,n){var r=e.convertURL(n,"src");f(t.src,n),e.$(t).attr({src:ed(e)?u(n):n,"data-mce-src":r})},p=function(n){return t||(t=nA(e,o)),v().then(s(function(o){var i=me(o,function(e){return e.blobInfo});return t.upload(i,tA(e)).then(s(function(t){var i=[],s=me(t,function(t,n){var a=o[n].blobInfo,s=o[n].image;return t.status&&td(e)?(r.removeByUri(s.src),zk(e)||d(s,t.url)):t.error&&(t.error.options.remove&&(f(s.getAttribute("src"),mn.transparentSrc),i.push(s)),BT(e,t.error.message)),{element:s,status:t.status,uploadUri:t.url,blobInfo:a}});return s.length>0&&a.fireIfChanged(),i.length>0&&(zk(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){ge(i,function(t){e.dom.remove(t),r.removeByUri(t.src)})})),n&&n(s),s}))}))},h=function(t){if(Zf(e))return p(t)},m=function(t){return!1!==Ne(i,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||Jf(e)(t))},g=function(e){i.push(e)},v=function(){return n||(n=K_(o,r)),n.findAll(e.getBody(),m).then(s(function(t){return t=be(t,function(t){return"string"!=typeof t||(IT(e,t),!1)}),zk(e)||ge(t,function(e){f(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},y=function(){r.destroy(),o.destroy(),n=t=null},b=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);return a||(a=we(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a?'src="data:'+a.blob().type+";base64,"+a.base64()+'"':t})};return e.on("SetContent",function(){Zf(e)?h():v()}),e.on("RawSaveContent",function(e){e.content=b(e.content)}),e.on("GetContent",function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=b(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){ge(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:g,uploadImages:p,uploadImagesAuto:h,scanForImages:v,destroy:y}},aA=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e){return Yr(e)&&e.hasAttribute("href")},onformat:function(t,n,r){Cn.each(r,function(n,r){e.setAttrib(t,r,n)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(e){var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Cn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},sA=function(e){var t={},n=function(e){return z(e)?t[e]:t},r=function(e){return Ke(t,e)},o=function(e,n){e&&(B(e)?(F(n)||(n=[n]),ge(n,function(e){j(e.deep)&&(e.deep=!um(e)),j(e.split)&&(e.split=!um(e)||cm(e)),j(e.remove)&&um(e)&&!cm(e)&&(e.remove="none"),um(e)&&cm(e)&&(e.mixed=!0,e.block_expand=!0),B(e.classes)&&(e.classes=e.classes.split(/\s+/))}),t[e]=n):He(e,function(e,t){o(t,e)}))},i=function(e){return e&&t[e]&&delete t[e],t};return o(aA(e.dom)),o(_d(e)),{get:n,has:r,register:o,unregister:i}},uA=Cn.each,cA=pc.DOM,lA=function(e,t){var n,r,o,i=t&&t.schema||As({}),a=function(e,t){t.classes.length&&cA.addClass(e,t.classes.join(" ")),cA.setAttribs(e,t.attrs)},s=function(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t=cA.create(r.name);return a(t,r),t},u=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==Cn.inArray(o,t)?t:o[0])},c=function(e,t,n){var r,o,i=t.length>0&&t[0],a=i&&i.name,l=u(e,a);if(l)a===l?(o=t[0],t=t.slice(1)):o=l;else if(i)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=s(o)).appendChild(e),n&&(r||(r=cA.create("div")).appendChild(e),Cn.each(n,function(t){var n=s(t);r.insertBefore(n,e)})),c(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=s(r),(o=cA.create("div")).appendChild(c(n,e.slice(1),r.siblings)),o):""},fA=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Cn.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Cn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},dA=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Cn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Cn.map(e.split(/(?:~\+|~|\+)/),fA),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},pA=function(e,t){var n,r,o,i="",a=Nd(e);if(""===a)return"";var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var u=Ye(t,"preview");if(mo(u,!1))return"";a=u.getOr(a)}n=t.block||t.inline||"span";var c=dA(t.selector);c.length?(c[0].name||(c[0].name=n),n=t.selector,r=lA(c,e)):r=lA([n],e);var l=cA.select(n,r)[0]||r.firstChild;return uA(t.styles,function(e,t){var n=s(e);n&&cA.setStyle(l,t,n)}),uA(t.attributes,function(e,t){var n=s(e);n&&cA.setAttrib(l,t,n)}),uA(t.classes,function(e){var t=s(e);cA.hasClass(l,t)||cA.addClass(l,t)}),e.fire("PreviewFormats"),cA.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=cA.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,uA(a.split(" "),function(t){var n=cA.getStyle(l,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=cA.getStyle(e.getBody(),t,!0),"#ffffff"===cA.toHex(n).toLowerCase())||"color"===t&&"#000000"===cA.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),cA.remove(r),i},hA=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},mA=function(t){var n=sA(t),r=xc(null);return hA(t),gS(t),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(e,n,r){l_(t,e,n,r)},remove:function(e,n,r,o){f_(t,e,n,r,o)},toggle:function(e,n,r){d_(t,e,n,r)},match:function(e,n,r,o){return i_(t,e,n,r,o)},closest:function(e){return c_(t,e)},matchAll:function(e,n){return a_(t,e,n)},matchNode:function(e,n,r,o){return s_(t,e,n,r,o)},canApply:function(e){return u_(t,e)},formatChanged:function(e,n,o,i){return p_(t,r,e,n,o,i)},getCssText:e(pA,t)}},gA=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},vA=function(e,t,n){var r=xc(!1),o=function(e){kk(t,!1,n),t.add({},e)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(e){var r=e.command;gA(r)||(_k(t,n),t.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;gA(t)||o(e)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===Sk(vk(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(e){
var i=e.keyCode;if(!e.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)t.typing&&o(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),kk(t,!0,n),t.add({},e),r.set(!0))}}),e.on("mousedown",function(e){t.typing&&o(e)});var i=function(e){return"insertReplacementText"===e.inputType},a=function(e){return"insertText"===e.inputType&&null===e.data},s=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType};e.on("input",function(e){e.inputType&&(i(e)||a(e)||s(e))&&o(e)}),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()})},yA=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},bA=function(e){var t=Pc(),n=xc(0),r=xc(0),o={data:[],typing:!1,beforeChange:function(){Yk(e,n,t)},add:function(i,a){return Kk(e,o,r,n,t,i,a)},undo:function(){return Gk(e,o,n,r)},redo:function(){return Qk(e,r,o.data)},clear:function(){Jk(e,o,r)},reset:function(){Zk(e,o)},hasUndo:function(){return e_(e,o,r)},hasRedo:function(){return t_(e,o,r)},transact:function(t){return n_(e,o,n,t)},ignore:function(t){r_(e,n,t)},extra:function(t,n){o_(e,o,r,t,n)}};return zk(e)||vA(e,o,n),yA(e),o},CA=[9,27,yg.HOME,yg.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,yg.DOWN,yg.UP,yg.LEFT,yg.RIGHT].concat(mn.browser.isFirefox()?[224]:[]),wA="data-mce-placeholder",xA=function(e){return"keydown"===e.type||"keyup"===e.type},SA=function(e){var t=e.keyCode;return t===yg.BACKSPACE||t===yg.DELETE},EA=function(e){if(xA(e)){var t=e.keyCode;return!SA(e)&&(yg.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||pe(CA,t))}return!1},kA=function(e){return xA(e)&&!(SA(e)||"keyup"===e.type&&229===e.keyCode)},_A=function(e,t,n){if(Ka(kn.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1},NA=function(e){var t=e.dom,n=Wf(e),r=Cd(e),o=function(i,a){if(!EA(i)){var s=e.getBody(),u=!kA(i)&&_A(t,s,n);(""!==t.getAttrib(s,wA)!==u||a)&&(t.setAttrib(s,wA,u?r:null),t.setAttrib(s,"aria-placeholder",u?r:null),hg(e,u),e.on(u?"keydown":"keyup",o),e.off(u?"keyup":"keydown",o))}};r&&e.on("init",function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",function(t){return Oi.setEditorTimeout(e,function(){return o(t)})})})},TA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,AA=function(e){return TA.test(e)},DA=function(e,t){return Ln(kn.fromDom(t),vd(e))},PA=function(e){return"rtl"===pc.DOM.getStyle(e,"direction",!0)||AA(e.textContent)},RA=function(e,t,n){return be(pc.DOM.getParents(n.container(),"*",t),e)},OA=function(e,t,n){var r=RA(e,t,n);return se.from(r[r.length-1])},LA=function(e,t,n){var r=Ap(t,e),o=Ap(n,e);return r&&r===o},IA=function(e){return ma(e)||ga(e)},BA=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?fa(n)?oo(n.nextSibling)?Ql(n.nextSibling,0):Ql.after(n):ma(t)?Ql(n,r+1):t:fa(n)?oo(n.previousSibling)?Ql(n.previousSibling,n.previousSibling.data.length):Ql.before(n):ga(t)?Ql(n,r-1):t},MA=e(BA,!0),FA=e(BA,!1),HA=function(e){return function(t){return Fn(e,kn.fromDom(t.dom.parentNode))}},qA=function(e){return Gi(e)||Ji(e)},jA=function(e,t){return jn(e,t)?xi(t,qA,HA(e)):se.none()},UA=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},zA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),UA(e))},WA=function(e,t,n){return vo(gh(n),vh(n),function(r,o){var i=BA(!0,r),a=BA(!1,o),s=BA(!1,t);return e?hh(n,s).exists(function(e){return e.isEqual(a)&&t.isEqual(i)}):mh(n,s).exists(function(e){return e.isEqual(i)&&t.isEqual(a)})}).getOr(!0)},VA=function(e,t){return{block:e,position:t}},$A=function(e,t){return{from:e,to:t}},XA=function(e,t){var n=kn.fromDom(e),r=kn.fromDom(t.container());return jA(n,r).map(function(e){return VA(e,t)})},YA=function(e){return!1===Fn(e.from.block,e.to.block)},KA=function(e){return tr(e.from.block).bind(function(t){return tr(e.to.block).filter(function(e){return Fn(t,e)})}).isSome()},GA=function(e){return!1===fo(e.from.block.dom)&&!1===fo(e.to.block.dom)},QA=function(e,t,n){return uo(n.position.getNode())&&!1===Ka(n.block)?ph(!1,n.block.dom).bind(function(r){return r.isEqual(n.position)?lh(t,e,r).bind(function(t){return XA(e,t)}):se.some(n)}).getOr(n):n},JA=function(e,t,n){var r=XA(e,Ql.fromRangeStart(n)),o=r.bind(function(n){return lh(t,e,n.position).bind(function(n){return XA(e,n).map(function(n){return QA(e,t,n)})})});return vo(r,o,$A).filter(function(e){return YA(e)&&KA(e)&&GA(e)})},ZA=function(e,t,n){return n.collapsed?JA(e,t,n):se.none()},eD=function(e){var t=ur(e);return Ee(t,$i).fold(K(t),function(e){return t.slice(0,e)})},tD=function(e){var t=eD(e);return ge(t,Pr),t},nD=function(e,t){var n=jb(t,e);return Se(n.reverse(),function(e){return Ka(e)}).each(Pr)},rD=function(e){return 0===be(ar(e),function(e){return!Ka(e)}).length},oD=function(e,t,n,r){if(Ka(n))return Bb(n),gh(n.dom);rD(r)&&Ka(t)&&Sr(r,kn.fromTag("br"));var o=mh(n.dom,Ql.before(r.dom));return ge(tD(t),function(e){Sr(r,e)}),nD(e,t),o},iD=function(e,t,n){if(Ka(n))return Pr(n),Ka(t)&&Bb(t),gh(t.dom);var r=vh(n.dom);return ge(tD(t),function(e){_r(n,e)}),nD(e,t),r},aD=function(e,t){var n=jb(t,e);return se.from(n[n.length-1])},sD=function(e,t){return jn(t,e)?aD(t,e):se.none()},uD=function(e,t){ph(e,t.dom).map(function(e){return e.getNode()}).map(kn.fromDom).filter(Ki).each(Pr)},cD=function(t,n,r){return uD(!0,n),uD(!1,r),sD(n,r).fold(e(iD,t,n,r),e(oD,t,n,r))},lD=function(e,t,n,r){return t?cD(e,r,n):cD(e,n,r)},fD=function(e,t){var n=kn.fromDom(e.getBody()),r=ZA(n.dom,t,e.selection.getRng()).bind(function(e){return lD(n,t,e.from.block,e.to.block)});return r.each(function(t){e.selection.setRng(t.toRange())}),r.isSome()},dD=function(e,t){var n=t.getRng();return vo(jA(e,kn.fromDom(n.startContainer)),jA(e,kn.fromDom(n.endContainer)),function(r,o){return!1===Fn(r,o)&&(n.deleteContents(),lD(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},pD=function(t,n){var r=kn.fromDom(n),o=e(Fn,t);return wi(r,ea,o).isSome()},hD=function(e,t){return pD(e,t.startContainer)||pD(e,t.endContainer)},mD=function(e,t){var n=mh(e.dom,Ql.fromRangeStart(t)).isNone(),r=hh(e.dom,Ql.fromRangeEnd(t)).isNone();return!hD(e,t)&&n&&r},gD=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},vD=function(e){var t=kn.fromDom(e.getBody()),n=e.selection.getRng();return mD(t,n)?gD(e):dD(t,e.selection)},yD=function(e){return!e.selection.isCollapsed()&&vD(e)},bD=lo,CD=fo,wD=function(e,t,n,r,o){return se.from(t._selectionOverrides.showCaret(e,n,r,o))},xD=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},SD=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?se.none():se.some(xD(t))},ED=function(e,t,n){var r=Mp(1,e.getBody(),t),o=Ql.fromRangeStart(r),i=o.getNode();if(gp(i))return wD(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(gp(a))return wD(1,e,a,!1,!1);var s=e.dom.getParent(o.getNode(),function(e){return CD(e)||bD(e)});return gp(s)?wD(1,e,s,!1,n):se.none()},kD=function(e,t,n){return t.collapsed?ED(e,t,n).getOr(t):t},_D=function(e){return Rb(e)||Tb(e)},ND=function(e){return Ob(e)||Ab(e)},TD=function(e,t){oo(t)&&0===t.data.length&&e.remove(t)},AD=function(e,t,n,r,o,i){return wD(r,e,i.getNode(!o),o,!0).each(function(n){if(t.collapsed){var r=t.cloneRange();o?r.setEnd(n.startContainer,n.startOffset):r.setStart(n.endContainer,n.endOffset),r.deleteContents()}else t.deleteContents();e.selection.setRng(n)}),TD(e.dom,n),!0},DD=function(t,n){var r=t.selection.getRng();if(!oo(r.commonAncestorContainer))return!1;var o=n?Jl.Forwards:Jl.Backwards,i=nh(t.getBody()),a=e(Up,n?i.next:i.prev),s=n?_D:ND,u=Hp(o,t.getBody(),r),c=BA(n,a(u));if(!c||!zp(u,c))return!1;if(s(c))return AD(t,r,u.getNode(),o,n,c);var l=a(c);return!!(l&&s(l)&&zp(c,l))&&AD(t,r,u.getNode(),o,n,l)},PD=function(e,t){return DD(e,t)},RD=function(e){return ea(kn.fromDom(e))||Ji(kn.fromDom(e))},OD=ei.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),LD=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return Yr(n)&&n.getAttribute("data-mce-caret")===r},ID=function(e,t,n,r){var o=function(t){return Yi(kn.fromDom(t))&&!Dp(n,r,e)};return Fp(!t,n).fold(function(){return Fp(t,r).fold(ne,o)},o)},BD=function(e,t,n,r){var o=r.getNode(!1===t);return jA(kn.fromDom(e),kn.fromDom(n.getNode())).map(function(e){return Ka(e)?OD.remove(e.dom):OD.moveToElement(o)}).orThunk(function(){return se.some(OD.moveToElement(o))})},MD=function(e,t,n){return lh(t,e,n).bind(function(r){return RD(r.getNode())?se.none():ID(e,t,n,r)?se.none():t&&fo(r.getNode())?BD(e,t,n,r):!1===t&&fo(r.getNode(!0))?BD(e,t,n,r):t&&Ob(n)?se.some(OD.moveToPosition(r)):!1===t&&Rb(n)?se.some(OD.moveToPosition(r)):se.none()})},FD=function(e,t){return e&&fo(t.nextSibling)?se.some(OD.moveToElement(t.nextSibling)):!1===e&&fo(t.previousSibling)?se.some(OD.moveToElement(t.previousSibling)):se.none()},HD=function(e,t,n){return n.fold(function(e){return se.some(OD.remove(e))},function(e){return se.some(OD.moveToElement(e))},function(n){return Dp(t,n,e)?se.none():se.some(OD.moveToPosition(n))})},qD=function(e,t,n){return LD(t,n)?FD(t,n.getNode(!1===t)).fold(function(){return MD(e,t,n)},se.some):MD(e,t,n).bind(function(t){return HD(e,n,t)})},jD=function(e,t,n){var r=Mp(t?1:-1,e,n),o=Ql.fromRangeStart(r),i=kn.fromDom(e);return!1===t&&Ob(o)?se.some(OD.remove(o.getNode(!0))):t&&Rb(o)?se.some(OD.remove(o.getNode())):!1===t&&Rb(o)&&Zb(i,o)?eC(i,o).map(function(e){return OD.remove(e.getNode())}):t&&Ob(o)&&Jb(i,o)?tC(i,o).map(function(e){return OD.remove(e.getNode())}):qD(e,t,o)},UD=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),XC(e,t,kn.fromDom(n)),!0}},zD=function(e,t){return function(n){var r=t?Ql.before(n):Ql.after(n);return e.selection.setRng(r.toRange()),!0}},WD=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},VD=function(e,t){return se.from(ng(e.getBody(),t))},$D=function(e,t){var n=e.selection.getNode();return VD(e,n).filter(fo).fold(function(){return jD(e.getBody(),t,e.selection.getRng()).exists(function(n){return n.fold(UD(e,t),zD(e,t),WD(e))})},re)},XD=function(e){ge($c(e,".mce-offscreen-selection"),Pr)},YD=function(e,t){var n=e.selection.getNode();return!(!fo(n)||po(n))&&VD(e,n.parentNode).filter(fo).fold(function(){return XD(kn.fromDom(e.getBody())),XC(e,t,kn.fromDom(e.selection.getNode())),zA(e),!0},re)},KD=function(e){var t=e.dom,n=e.selection,r=ng(e.getBody(),n.getNode());if(lo(r)&&t.isBlock(r)&&t.isEmpty(r)){var o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(o),n.setRng(Ql.before(o).toRange())}return!0},GD=function(e,t){return e.selection.isCollapsed()?$D(e,t):YD(e,t)},QD=function(e,t){var n=Ql.fromRangeStart(e.selection.getRng());return lh(t,e.getBody(),n).filter(function(e){return t?_b(e):Nb(e)}).bind(function(e){return se.from(Pp(t?0:-1,e))}).exists(function(t){return e.selection.select(t),!0})},JD=function(e,t){return!!e.selection.isCollapsed()&&QD(e,t)},ZD=oo,eP=function(e){return ZD(e)&&e.data[0]===ia},tP=function(e){return ZD(e)&&e.data[e.data.length-1]===ia},nP=function(e){return e.ownerDocument.createTextNode(ia)},rP=function(e){if(ZD(e.previousSibling))return tP(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(ia),e.previousSibling);if(ZD(e))return eP(e)?e:(e.insertData(0,ia),e);var t=nP(e);return e.parentNode.insertBefore(t,e),t},oP=function(e){if(ZD(e.nextSibling))return eP(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,ia),e.nextSibling);if(ZD(e))return tP(e)?e:(e.appendData(ia),e);var t=nP(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},iP=function(e,t){return e?rP(t):oP(t)},aP=e(iP,!0),sP=e(iP,!1),uP=function(e,t){return oo(e.container())?iP(t,e.container()):iP(t,e.getNode())},cP=function(e,t){var n=t.get();return n&&e.container()===n&&fa(n)},lP=function(e,t){return t.fold(function(t){ap(e.get());var n=aP(t);return e.set(n),se.some(Ql(n,n.length-1))},function(t){return gh(t).map(function(t){if(cP(t,e))return Ql(e.get(),1);ap(e.get());var n=uP(t,!0);return e.set(n),Ql(n,1)})},function(t){return vh(t).map(function(t){if(cP(t,e))return Ql(e.get(),e.get().length-1);ap(e.get());var n=uP(t,!1);return e.set(n),Ql(n,n.length-1)})},function(t){ap(e.get());var n=sP(t);return e.set(n),se.some(Ql(n,1))})},fP=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return se.none()},dP=ei.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),pP=function(e,t){var n=Ap(t,e);return n||e},hP=function(t,n,r){var o=MA(r),i=pP(n,o.container());return OA(t,i,o).fold(function(){return hh(i,o).bind(e(OA,t,i)).map(function(e){return dP.before(e)})},se.none)},mP=function(e,t){return null===Ch(e,t)},gP=function(t,n,r){return OA(t,n,r).filter(e(mP,n))},vP=function(e,t,n){var r=FA(n);return gP(e,t,r).bind(function(e){return mh(e,r).isNone()?se.some(dP.start(e)):se.none()})},yP=function(e,t,n){var r=MA(n);return gP(e,t,r).bind(function(e){return hh(e,r).isNone()?se.some(dP.end(e)):se.none()})},bP=function(t,n,r){var o=FA(r),i=pP(n,o.container());return OA(t,i,o).fold(function(){return mh(i,o).bind(e(OA,t,i)).map(function(e){return dP.after(e)})},se.none)},CP=function(e){return!1===PA(xP(e))},wP=function(e,t,n){return fP([hP,vP,yP,bP],[e,t,n]).filter(CP)},xP=function(e){return e.fold(G,G,G,G)},SP=function(e){return e.fold(K("before"),K("start"),K("end"),K("after"))},EP=function(e){return e.fold(dP.before,dP.before,dP.after,dP.after)},kP=function(e){return e.fold(dP.start,dP.start,dP.end,dP.end)},_P=function(e,t){return SP(e)===SP(t)&&xP(e)===xP(t)},NP=function(e,t,n,r,o,i){return vo(OA(t,n,r),OA(t,n,o),function(t,r){return t!==r&&LA(n,t,r)?dP.after(e?t:r):i}).getOr(i)},TP=function(e,t){return e.fold(re,function(e){return!_P(e,t)})},AP=function(t,n,r,o,i){var a=BA(t,i);return lh(t,r,a).map(e(BA,t)).fold(function(){return o.map(EP)},function(i){return wP(n,r,i).map(e(NP,t,n,r,a,i)).filter(e(TP,o))}).filter(CP)},DP=function(e,t){return e?t.fold(X(se.some,dP.start),se.none,X(se.some,dP.after),se.none):t.fold(se.none,X(se.some,dP.before),se.none,X(se.some,dP.end))},PP=function(t,n,r,o){var i=BA(t,o),a=wP(n,r,i);return wP(n,r,i).bind(e(DP,t)).orThunk(function(){return AP(t,n,r,a,o)})};e(PP,!1),e(PP,!0);var RP,OP=function(e){return W(e.selection.getSel().modify)},LP=function(e,t,n){var r=e?1:-1;return t.setRng(Ql(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},IP=function(e,t){var n=t.selection.getRng(),r=e?Ql.fromRangeEnd(n):Ql.fromRangeStart(n);return!!OP(t)&&(e&&ma(r)?LP(!0,t.selection,r):!(e||!ga(r))&&LP(!1,t.selection,r))};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(RP||(RP={}));var BP,MP=function(e,t){return e===Jl.Backwards?Te(t):t},FP=function(e,t,n){return e===Jl.Forwards?t.next(n):t.prev(n)},HP=function(e,t,n,r){return uo(r.getNode(t===Jl.Forwards))?RP.Br:!1===Dp(n,r)?RP.Block:RP.Wrap},qP=function(e,t,n,r){for(var o=nh(n),i=r,a=[];i;){var s=FP(t,o,i);if(!s)break;if(uo(s.getNode(!1)))return t===Jl.Forwards?{positions:MP(t,a).concat([s]),breakType:RP.Br,breakAt:se.some(s)}:{positions:MP(t,a),breakType:RP.Br,breakAt:se.some(s)};if(s.isVisible()){if(e(i,s)){var u=HP(n,t,i,s);return{positions:MP(t,a),breakType:u,breakAt:se.some(s)}}a.push(s),i=s}else i=s}return{positions:MP(t,a),breakType:RP.Eol,breakAt:se.none()}},jP=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===Jl.Backwards?o.concat(r):[r].concat(o)}).getOr([])},UP=function(e,t){return we(e,function(e,n){return e.fold(function(){return se.some(n)},function(r){return vo(Oe(r.getClientRects()),Oe(n.getClientRects()),function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r}).or(e)})},se.none())},zP=function(e,t){return Oe(t.getClientRects()).bind(function(t){return UP(e,t.left)})},WP=e(qP,Ql.isAbove,-1),VP=e(qP,Ql.isBelow,1),$P=e(jP,-1,WP),XP=e(jP,1,VP),YP=function(e,t){return WP(e,t).breakAt.isNone()},KP=function(e,t){return VP(e,t).breakAt.isNone()},GP=function(e){return gh(e).map(function(t){return[t].concat(VP(e,t).positions)}).getOr([])},QP=function(e){return vh(e).map(function(t){return WP(e,t).positions.concat(t)}).getOr([])},JP=function(e){var t=function(t){return me(t,function(t){var n=gl(t);return n.node=e,n})};if(Yr(e))return t(e.getClientRects());if(oo(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},ZP=function(e){return _e(e,JP)};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(BP||(BP={}));var eR,tR,nR=function(e,t,n,r){for(;r=Tp(r,e,Fa,t);)if(n(r))return},rR=function(e,t,n,r,o,i){var a=0,s=[],u=function(r){var i=ZP([r]);-1===e&&(i=i.reverse());for(var u=0;u<i.length;u++){var l=i[u];if(!n(l,c)){if(s.length>0&&t(l,at(s))&&a++,l.line=a,o(l))return!0;s.push(l)}}},c=at(i.getClientRects());if(!c)return s;var l=i.getNode();return u(l),nR(e,r,u,l),s},oR=function(e,t){return t.line>e},iR=function(e,t){return t.line===e},aR=e(rR,BP.Up,Cl,wl),sR=e(rR,BP.Down,wl,Cl),uR=function(e,t,n,r){var o,i,a,s,u=nh(t),c=[],l=0,f=function(e){return at(e.getClientRects())};1===e?(o=u.next,i=wl,a=Cl,s=Ql.after(r)):(o=u.prev,i=Cl,a=wl,s=Ql.before(r));var d=f(s);do{if(s.isVisible()){var p=f(s);if(!a(p,d)){c.length>0&&i(p,at(c))&&l++;var h=gl(p);if(h.position=s,h.line=l,n(h))return c;c.push(h)}}}while(s=o(s));return c},cR=function(e){return function(t){return oR(e,t)}},lR=function(e){return function(t){return iR(e,t)}},fR=fo,dR=Tp,pR=function(e,t){return Math.abs(e.left-t)},hR=function(e,t){return Math.abs(e.right-t)},mR=function(e,t){return e>=t.left&&e<=t.right},gR=function(e,t){return e>=t.top&&e<=t.bottom},vR=function(e){return Ge(e,"node")},yR=function(e,t,n){return void 0===n&&(n=re),ot(e,function(e,r){if(mR(t,r))return n(r)?r:e;if(mR(t,e))return n(e)?e:r;var o=Math.min(pR(e,t),hR(e,t)),i=Math.min(pR(r,t),hR(r,t));return i===o&&vR(r)&&fR(r.node)?r:i<o?r:e})},bR=function(e,t,n,r,o){var i=dR(r,e,Fa,t,!o);do{if(!i||n(i))return}while(i=dR(i,e,Fa,t))},CR=function(t,n,r){void 0===r&&(r=!0);var o=[],i=function(e,t){var r=be(ZP([t]),function(t){return!e(t,n)});return o=o.concat(r),0===r.length};return o.push(n),bR(BP.Up,t,e(i,Cl),n.node,r),bR(BP.Down,t,e(i,wl),n.node,r),o},wR=function(e){return be(Ie(e.getElementsByTagName("*")),vp)},xR=function(e,t){return{node:e.node,before:pR(e,t)<hR(e,t)}},SR=function(t,n,r){var o=ZP(wR(t)),i=be(o,e(gR,r)),a=function(e){return!to(e.node)&&!ho(e.node)},s=yR(i,n,a);if(s){var u=a(s);if((s=yR(CR(t,s,u),n,a))&&vp(s.node))return xR(s,n)}return null},ER=function(e,t){e.selection.setRng(t),yv(e,e.selection.getRng())},kR=function(e,t,n){return se.some(kD(e,t,n))},_R=function(t,n,r,o,i,a){var s=n===Jl.Forwards,u=nh(t.getBody()),c=e(Up,s?u.next:u.prev),l=s?o:i;if(!r.collapsed){var f=El(r);if(a(f))return wD(n,t,f,n===Jl.Backwards,!1)}var d=Hp(n,t.getBody(),r);if(l(d))return SD(t,d.getNode(!s));var p=BA(s,c(d)),h=Sa(r);if(!p)return h?se.some(r):se.none();if(l(p))return wD(n,t,p.getNode(!s),s,!1);var m=c(p);return m&&l(m)&&zp(p,m)?wD(n,t,m.getNode(!s),s,!1):h?kR(t,p.toRange(),!1):se.none()},NR=function(e,t,n,r,o,i){var a=Hp(t,e.getBody(),n),s=at(a.getClientRects()),u=t===BP.Down;if(!s)return se.none();var c,l=(u?sR:aR)(e.getBody(),cR(1),a),f=be(l,lR(1)),d=s.left,p=yR(f,d);if(p&&i(p.node)){var h=Math.abs(d-p.left),m=Math.abs(d-p.right);return wD(t,e,p.node,h<m,!1)}if(c=r(a)?a.getNode():o(a)?a.getNode(!0):El(n)){var g=uR(t,e.getBody(),cR(1),c),v=yR(be(g,lR(1)),d);if(v)return kR(e,v.position.toRange(),!1);if(v=at(be(g,lR(0))))return kR(e,v.position.toRange(),!1)}return 0===f.length?TR(e,u).filter(u?o:r).map(function(t){return kD(e,t.toRange(),!1)}):se.none()},TR=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var o=Ql.fromRangeEnd(n),i=VP(r,o);return Le(i.positions)}o=Ql.fromRangeStart(n),i=WP(r,o);return Oe(i.positions)},AR=function(e,t,n){return TR(e,t).filter(n).exists(function(t){return e.selection.setRng(t.toRange()),!0})},DR=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},PR=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},RR=function(e,t,n){return lP(t,n).map(function(t){return DR(e,t),n})},OR=function(t,n,r){var o=t.getBody(),i=Ql.fromRangeStart(t.selection.getRng()),a=e(DA,t);return PP(r,a,o,i).bind(function(e){return RR(t,n,e)})},LR=function(t,n,r){var o=me($c(kn.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom}),i=be(o,t),a=be(r,t);ge(Ae(i,a),e(PR,!1)),ge(Ae(a,i),e(PR,!0))},IR=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Ql.fromRangeStart(e.selection.getRng());Ql.isTextPosition(n)&&!1===IA(n)&&(DR(e,ip(t.get(),n)),t.set(null))}},BR=function(e,t,n,r){if(t.selection.isCollapsed()){var o=be(r,e);ge(o,function(){var r=Ql.fromRangeStart(t.selection.getRng());wP(e,t.getBody(),r).bind(function(e){return RR(t,n,e)})})}},MR=function(e,t,n){return!!kd(e)&&OR(e,t,n).isSome()},FR=function(e,t){return!!kd(t)&&IP(e,t)},HR=function(t){var n=xc(null),r=e(DA,t);return t.on("NodeChange",function(e){!kd(t)||mn.browser.isIE()&&e.initial||(LR(r,t.dom,e.parents),IR(t,n),BR(r,t,n,e.parents))}),n},qR=e(FR,!0),jR=e(FR,!1),UR=function(t,n,r){if(kd(t)){var o=TR(t,n).getOrThunk(function(){var e=t.selection.getRng();return n?Ql.fromRangeEnd(e):Ql.fromRangeStart(e)});return wP(e(DA,t),t.getBody(),o).exists(function(e){var n=EP(e);return lP(r,n).exists(function(e){return DR(t,e),!0})})}return!1},zR=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},WR=function(e){return vo(gh(e),vh(e),function(t,n){var r=BA(!0,t),o=BA(!1,n);return hh(e,r).forall(function(e){return e.isEqual(o)})}).getOr(!0)},VR=function(e,t){return function(n){return lP(t,n).exists(function(t){return DR(e,t),!0})}},$R=function(t,n,r,o){var i=t.getBody(),a=e(DA,t);t.undoManager.ignore(function(){t.selection.setRng(zR(r,o)),t.execCommand("Delete"),wP(a,i,Ql.fromRangeStart(t.selection.getRng())).map(kP).map(VR(t,n))}),t.nodeChanged()},XR=function(e,t){var n=Ap(t,e);return n||e},YR=function(t,n,r,o){var i=XR(t.getBody(),o.container()),a=e(DA,t),s=wP(a,i,o);return s.bind(function(e){return r?e.fold(K(se.some(kP(e))),se.none,K(se.some(EP(e))),se.none):e.fold(se.none,K(se.some(EP(e))),se.none,K(se.some(kP(e))))}).map(VR(t,n)).getOrThunk(function(){var e=fh(r,i,o),u=e.bind(function(e){return wP(a,i,e)});return vo(s,u,function(){return OA(a,i,o).exists(function(e){return!!WR(e)&&(XC(t,r,kn.fromDom(e)),!0)})}).orThunk(function(){return u.bind(function(){return e.map(function(e){return r?$R(t,n,o,e):$R(t,n,e,o),!0})})}).getOr(!1)})},KR=function(e,t,n){if(e.selection.isCollapsed()&&kd(e)){var r=Ql.fromRangeStart(e.selection.getRng());return YR(e,t,n,r)}return!1},GR=function(e,t){var n=jb(t,e);return Ee(n,$i).fold(K(n),function(e){return n.slice(0,e)})},QR=function(e){return 1===dr(e)},JR=function(t,n,r,o){var i=e(yS,n),a=me(be(o,i),function(e){return e.dom});if(0===a.length)XC(n,t,r);else{var s=vS(r.dom,a);n.selection.setRng(s.toRange())}},ZR=function(e,t){var n=kn.fromDom(e.getBody()),r=kn.fromDom(e.selection.getStart()),o=be(GR(n,r),QR);return Le(o).exists(function(n){var r=Ql.fromRangeStart(e.selection.getRng());return!(!WA(t,r,n.dom)||bS(n))&&(JR(t,e,n,o),!0)})},eO=function(e,t){return!!e.selection.isCollapsed()&&ZR(e,t)},tO=function(e,t,n){return e._selectionOverrides.hideFakeCaret(),XC(e,t,kn.fromDom(n)),!0},nO=function(e,t){var n=t?Tb:Ab,r=t?Jl.Forwards:Jl.Backwards,o=Hp(r,e.getBody(),e.selection.getRng());return n(o)?tO(e,t,o.getNode(!t)):se.from(BA(t,o)).filter(function(e){return n(e)&&zp(o,e)}).exists(function(n){return tO(e,t,n.getNode(!t))})},rO=function(e,t){var n=e.selection.getNode();return!!ho(n)&&tO(e,t,n)},oO=function(e,t){return e.selection.isCollapsed()?nO(e,t):rO(e,t)},iO=function(e){return xi(e,function(e){return lo(e.dom)||fo(e.dom)}).exists(function(e){return lo(e.dom)})},aO=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},sO=function(e,t){return(e||Xi(t)?"margin":"padding")+("rtl"===Po(t,"direction")?"-right":"-left")},uO=function(e,t,n,r,o,i){var a=sO(n,kn.fromDom(i));if("outdent"===t){var s=Math.max(0,aO(i.style[a])-r);e.setStyle(i,a,s?s+o:"")}else{s=aO(i.style[a])+r+o;e.setStyle(i,a,s)}},cO=function(e,t){return Ne(t,function(t){var n=sO(dd(e),t),r=Oo(t,n).map(aO).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&r>0})},lO=function(e){var t=pO(e);return!e.mode.isReadOnly()&&(t.length>1||cO(e,t))},fO=function(e){return Qi(e)||Ji(e)},dO=function(e){return tr(e).exists(fO)},pO=function(e){return be(sl(e.selection.getSelectedBlocks()),function(e){return!fO(e)&&!dO(e)&&iO(e)})},hO=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=pd(e),a=/[a-z%]+$/i.exec(i)[0],s=parseInt(i,10),u=dd(e),c=Wf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),ge(pO(e),function(e){uO(n,t,u,s,a,e.dom)})},mO=function(e){if(e.selection.isCollapsed()&&lO(e)){var t=e.dom,n=e.selection.getRng(),r=Ql.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(null!==o&&$b(kn.fromDom(o),r))return hO(e,"outdent"),!0}return!1},gO=function(e,t){e.getDoc().execCommand(t,!1,null)},vO=function(e,t){mO(e)||GD(e,!1)||PD(e,!1)||KR(e,t,!1)||fD(e,!1)||zw(e)||JD(e,!1)||oO(e,!1)||yD(e)||eO(e,!1)||(gO(e,"Delete"),zA(e))},yO=function(e,t){GD(e,!0)||PD(e,!0)||KR(e,t,!0)||fD(e,!0)||zw(e)||JD(e,!0)||oO(e,!0)||yD(e)||eO(e,!0)||gO(e,"ForwardDelete")},bO=function(e,t){e.addCommand("delete",function(){vO(e,t)}),e.addCommand("forwardDelete",function(){yO(e,t)})},CO=5,wO=400,xO=function(e){return e.touches===undefined||1!==e.touches.length?se.none():se.some(e.touches[0])},SO=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>CO||r>CO},EO=function(e){var t=Pc(),n=xc(!1),r=Oc(function(t){e.fire("longpress",st(st({},t),{type:"longpress"})),n.set(!0)},wO);e.on("touchstart",function(e){xO(e).each(function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target};r.throttle(e),n.set(!1),t.set(i)})},!0),e.on("touchmove",function(o){r.cancel(),xO(o).each(function(r){t.on(function(o){SO(r,o)&&(t.clear(),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter(function(e){return e.target.isEqualNode(o.target)}).each(function(){n.get()?o.preventDefault():e.fire("tap",st(st({},o),{type:"tap"}))})},!0)},kO=function(e,t){return Ke(e,t.nodeName)},_O=function(e,t){return!!oo(t)||!!Yr(t)&&(!kO(e,t)&&!jh(t))},NO=function(e,t,n){return he(qb(kn.fromDom(n),kn.fromDom(t)),function(t){return kO(e,t.dom)})},TO=function(e,t){if(oo(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||kO(e,t.nextSibling)))return!0}return!1},AO=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,s=a.getBlockElements(),u=i.getStart(),c=e.getBody(),l=Wf(e);if(u&&Yr(u)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!NO(s,c,u)){var d=i.getRng(),p=d.startContainer,h=d.startOffset,m=d.endContainer,g=d.endOffset,v=yy(e);for(u=c.firstChild;u;)if(_O(s,u)){if(TO(s,u)){n=u,u=u.nextSibling,o.remove(n);continue}t||(t=o.create(l,Vf(e)),u.parentNode.insertBefore(t,u),r=!0),n=u,u=u.nextSibling,t.appendChild(n)}else t=null,u=u.nextSibling;r&&v&&(d.setStart(p,h),d.setEnd(m,g),i.setRng(d),e.nodeChanged())}}},DO=function(t){Wf(t)&&t.on("NodeChange",e(AO,t))},PO=function(e){return _i(kn.fromDom(e.getBody()),"*[data-mce-caret]").map(function(e){return e.dom}).getOrNull()},RO=function(e){e.selection.setRng(e.selection.getRng())},OO=function(e,t){t.hasAttribute("data-mce-caret")&&(xa(t),RO(e),e.selection.scrollIntoView(t))},LO=function(e,t){var n=PO(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void OO(e,n)):void(pa(n)&&(OO(e,n),e.undoManager.add()))},IO=function(t){t.on("keyup compositionstart",e(LO,t))},BO=fo,MO=function(e,t,n){return _R(t,e,n,Rb,Ob,BO)},FO=function(e,t,n){return NR(t,e,n,function(e){return Rb(e)||Db(e)},function(e){return Ob(e)||Pb(e)},BO)},HO=function(e){var t=e.dom.create(Wf(e));return(!mn.ie||mn.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},qO=function(t,n,r){var o=nh(t.getBody()),i=e(Up,1===n?o.next:o.prev);if(r.collapsed&&Md(t)){var a=t.dom.getParent(r.startContainer,"PRE");if(!a)return;if(!i(Ql.fromRangeStart(r))){var s=HO(t);1===n?t.$(a).after(s):t.$(a).before(s),t.selection.select(s,!0),t.selection.collapse()}}},jO=function(e,t){var n=t?Jl.Forwards:Jl.Backwards,r=e.selection.getRng();return MO(n,e,r).orThunk(function(){return qO(e,n,r),se.none()})},UO=function(e,t){var n=t?1:-1,r=e.selection.getRng();return FO(n,e,r).orThunk(function(){return qO(e,n,r),se.none()})},zO=function(e,t){return jO(e,t).exists(function(t){return ER(e,t),!0})},WO=function(e,t){return UO(e,t).exists(function(t){return ER(e,t),!0})},VO=function(e,t){return AR(e,t,t?Ob:Rb)},$O=function(e){return pe(["figcaption"],Un(e))},XO=function(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t},YO=function(e,t,n){n?_r(e,t):kr(e,t)},KO=function(e,t){var n=kn.fromTag("br");return YO(e,n,t),XO(n)},GO=function(e,t,n,r){var o=kn.fromTag(n),i=kn.fromTag("br");return So(o,r),_r(o,i),YO(e,o,t),XO(i)},QO=function(e,t,n,r){return""===t?KO(e,r):GO(e,r,t,n)},JO=function(t,n){var r=e(Fn,n);return xi(kn.fromDom(t.container()),$i,r).filter($O)},ZO=function(e,t,n){return t?KP(e.dom,n):YP(e.dom,n)},eL=function(e,t){var n=kn.fromDom(e.getBody()),r=Ql.fromRangeStart(e.selection.getRng()),o=Wf(e),i=Vf(e);return JO(r,n).exists(function(){if(ZO(n,t,r)){var a=QO(n,o,i,t);return e.selection.setRng(a),!0}return!1})},tL=function(e,t){return!!e.selection.isCollapsed()&&eL(e,t)},nL=function(e){return me(e,function(e){return st({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:$},e)})},rL=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},oL=function(e,t){return _e(nL(e),function(e){return rL(e,t)?[e]:[]})},iL=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},aL=function(e,t){return Se(oL(e,t),function(e){return e.action()})},sL=function(e,t){var n=t?Jl.Forwards:Jl.Backwards,r=e.selection.getRng();return _R(e,n,r,Tb,Ab,ho).exists(function(t){return ER(e,t),!0})},uL=function(e,t){var n=t?1:-1,r=e.selection.getRng();return NR(e,n,r,Tb,Ab,ho).exists(function(t){return ER(e,t),!0})},cL=function(e,t){return AR(e,t,t?Ab:Tb)},lL=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},fL=function(e,t){return _e(t,function(t){var n=lL(gl(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},dL=function(e,t,n){return we(e,function(e,r){return e.fold(function(){return se.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return se.some(i<o?r:e)})},se.none())},pL=function(e,t,n,r,o){var i=$c(kn.fromDom(n),"td,th,caption").map(function(e){return e.dom}),a=be(fL(e,i),function(e){return t(e,o)});return dL(a,r,o).map(function(e){return e.cell})},hL=function(e){return e.top},mL=function(e,t){return e.y>t},gL=e(pL,function(e){return e.bottom},function(e,t){return e.y<t}),vL=e(pL,hL,mL),yL=function(e,t){return Oe(t.getClientRects()).bind(function(t){return gL(e,t.left,t.top)}).bind(function(e){return zP(QP(e),t)})},bL=function(e,t){return Le(t.getClientRects()).bind(function(t){return vL(e,t.left,t.top)}).bind(function(e){return zP(GP(e),t)})},CL=function(e,t,n){return n.breakAt.exists(function(n){return e(t,n).breakAt.isSome()})},wL=function(e){return e.breakType===RP.Wrap&&0===e.positions.length},xL=function(e){return e.breakType===RP.Br&&1===e.positions.length},SL=function(e,t,n){var r=e(t,n);return wL(r)||!uo(n.getNode())&&xL(r)?!CL(e,t,r):r.breakAt.isNone()},EL=e(SL,WP),kL=e(SL,VP),_L=function(e,t,n){var r=Ql.fromRangeStart(t);return ph(!e,n).exists(function(e){return e.isEqual(r)})},NL=function(e,t,n){var r=e.selection.getRng(),o=t?1:-1;return!(!mp()||!_L(t,r,n))&&(wD(o,e,n,!t,!1).each(function(t){ER(e,t)}),!0)},TL=function(e,t,n){return yL(t,n).orThunk(function(){return Oe(n.getClientRects()).bind(function(n){return UP($P(e,Ql.before(t)),n.left)})}).getOr(Ql.before(t))
},AL=function(e,t,n){return bL(t,n).orThunk(function(){return Oe(n.getClientRects()).bind(function(n){return UP(XP(e,Ql.after(t)),n.left)})}).getOr(Ql.after(t))},DL=function(e,t){var n=t.getNode(e);return Yr(n)&&"TABLE"===n.nodeName?se.some(n):se.none()},PL=function(e,t,n,r){var o=Wf(t);o?t.undoManager.transact(function(){var r=kn.fromTag(o);So(r,Vf(t)),_r(r,kn.fromTag("br")),e?Er(kn.fromDom(n),r):Sr(kn.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom,0),i.setEnd(r.dom,0),ER(t,i)}):ER(t,r.toRange())},RL=function(e,t,n){var r=DL(!!t,n),o=!1===t;r.fold(function(){return ER(e,n.toRange())},function(r){return ph(o,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return ER(e,n.toRange())},function(){return PL(t,e,r,n)})})},OL=function(e,t,n,r){var o=e.selection.getRng(),i=Ql.fromRangeStart(o),a=e.getBody();if(!t&&EL(r,i)){var s=TL(a,n,i);return RL(e,t,s),!0}if(t&&kL(r,i)){s=AL(a,n,i);return RL(e,t,s),!0}return!1},LL=function(e,t,n){return se.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(r){return se.from(e.dom.getParent(r,"table")).map(function(o){return n(e,t,o,r)})}).getOr(!1)},IL=function(e,t){return LL(e,t,NL)},BL=function(e,t){return LL(e,t,OL)},ML=function(e,t,n){var r=an().os;aL([{keyCode:yg.RIGHT,action:iL(zO,e,!0)},{keyCode:yg.LEFT,action:iL(zO,e,!1)},{keyCode:yg.UP,action:iL(WO,e,!1)},{keyCode:yg.DOWN,action:iL(WO,e,!0)},{keyCode:yg.RIGHT,action:iL(IL,e,!0)},{keyCode:yg.LEFT,action:iL(IL,e,!1)},{keyCode:yg.UP,action:iL(BL,e,!1)},{keyCode:yg.DOWN,action:iL(BL,e,!0)},{keyCode:yg.RIGHT,action:iL(sL,e,!0)},{keyCode:yg.LEFT,action:iL(sL,e,!1)},{keyCode:yg.UP,action:iL(uL,e,!1)},{keyCode:yg.DOWN,action:iL(uL,e,!0)},{keyCode:yg.RIGHT,action:iL(MR,e,t,!0)},{keyCode:yg.LEFT,action:iL(MR,e,t,!1)},{keyCode:yg.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:iL(qR,e,t)},{keyCode:yg.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:iL(jR,e,t)},{keyCode:yg.UP,action:iL(tL,e,!1)},{keyCode:yg.DOWN,action:iL(tL,e,!0)}],n).each(function(){n.preventDefault()})},FL=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&ML(e,t,n)})},HL=function(e,t,n){aL([{keyCode:yg.BACKSPACE,action:iL(mO,e,!1)},{keyCode:yg.BACKSPACE,action:iL(GD,e,!1)},{keyCode:yg.DELETE,action:iL(GD,e,!0)},{keyCode:yg.BACKSPACE,action:iL(PD,e,!1)},{keyCode:yg.DELETE,action:iL(PD,e,!0)},{keyCode:yg.BACKSPACE,action:iL(KR,e,t,!1)},{keyCode:yg.DELETE,action:iL(KR,e,t,!0)},{keyCode:yg.BACKSPACE,action:iL(zw,e,!1)},{keyCode:yg.DELETE,action:iL(zw,e,!0)},{keyCode:yg.BACKSPACE,action:iL(JD,e,!1)},{keyCode:yg.DELETE,action:iL(JD,e,!0)},{keyCode:yg.BACKSPACE,action:iL(oO,e,!1)},{keyCode:yg.DELETE,action:iL(oO,e,!0)},{keyCode:yg.BACKSPACE,action:iL(yD,e,!1)},{keyCode:yg.DELETE,action:iL(yD,e,!0)},{keyCode:yg.BACKSPACE,action:iL(fD,e,!1)},{keyCode:yg.DELETE,action:iL(fD,e,!0)},{keyCode:yg.BACKSPACE,action:iL(eO,e,!1)},{keyCode:yg.DELETE,action:iL(eO,e,!0)}],n).each(function(){n.preventDefault()})},qL=function(e,t){aL([{keyCode:yg.BACKSPACE,action:iL(KD,e)},{keyCode:yg.DELETE,action:iL(KD,e)}],t)},jL=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&HL(e,t,n)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&qL(e,t)})},UL=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},zL=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=UL(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(oa),t.firstChild)}var s=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var u=new Bi(t,t);n=u.current();){if(oo(n)){s.setStart(n,0),s.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}r=n,n=u.next()}n||(s.setStart(r,0),s.setEnd(r,0))}else uo(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),yv(e,s)}},WL=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},VL=function(e){return se.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},$L=function(e){return VL(e).fold(K(""),function(e){return e.nodeName.toUpperCase()})},XL=function(e){return VL(e).filter(function(e){return Ji(kn.fromDom(e))}).isSome()},YL=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},KL=function(e){var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e},GL=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},QL=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},JL=function(e){return QL(e)&&QL(e.parentNode)},ZL=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},eI=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Yr(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},tI=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){JL(n)&&(o="LI");var s=o?t(o):i.create("BR");if(eI(n,r,!0)&&eI(n,r,!1))if(GL(n,"LI")){var u=ZL(n);i.insertAfter(s,u),KL(n)?i.remove(u):i.remove(n)}else i.replace(s,n);else if(eI(n,r,!0))GL(n,"LI")?(i.insertAfter(s,ZL(n)),s.appendChild(i.doc.createTextNode(" ")),s.appendChild(n)):n.parentNode.insertBefore(s,n),i.remove(r);else if(eI(n,r,!1))i.insertAfter(s,ZL(n)),i.remove(r);else{n=ZL(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var l=c.extractContents();"LI"===o&&YL(l,"LI")?(s=l.firstChild,i.insertAfter(l,n)):(i.insertAfter(l,n),i.insertAfter(s,n)),i.remove(r)}zL(e,s)}},nI=function(e){ge(Vc(kn.fromDom(e),Xn),function(e){var t=e.dom;t.nodeValue=sa(t.nodeValue)})},rI=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},oI=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},iI=function(e){e.innerHTML='<br data-mce-bogus="1">'},aI=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},sI=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},uI=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;Yr(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):rI(e,o)&&e.remove(o)}},cI=function(e,t,n){return!1===oo(t)?n:e?1===n&&t.data.charAt(n-1)===ia?0:n:n===t.data.length-1&&t.data.charAt(n)===ia?t.data.length:n},lI=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,cI(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,cI(!1,e.endContainer,e.endOffset)),t},fI=function(e){do{oo(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},dI=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},pI=function(e,t,r){var o=e.dom;se.from(r.style).map(o.parseStyle).each(function(e){var n=Lo(kn.fromDom(t)),r=st(st({},n),e);o.setStyles(t,r)});var i=se.from(r["class"]).map(function(e){return e.split(/\s+/)}),a=se.from(t.className).map(function(e){return be(e.split(/\s+/),function(e){return""!==e})});vo(i,a,function(e,r){var i=be(r,function(t){return!pe(e,t)}),a=n(n([],e,!0),i,!0);o.setAttrib(t,"class",a.join(" "))});var s=["style","class"],u=Ve(r,function(e,t){return!pe(s,t)});o.setAttribs(t,u)},hI=function(e,t){var n=Wf(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=Vf(e);pI(e,t,r)}},mI=function(e,t,n,r,o){var i,a,s,u,c,l,f=t||"P",d=e.dom,p=dI(d,r);if(!(a=d.getParent(r,d.isBlock))||!sI(d,a)){if(l=(a=a||p)===e.getBody()||oI(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),hI(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!d.isBlock(u);)s=u,u=u.previousSibling;if(s&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),hI(e,i),s.parentNode.insertBefore(i,s),u=s;u&&!d.isBlock(u);)c=u.nextSibling,i.appendChild(u),u=c;n.setStart(r,o),n.setEnd(r,o)}}return r},gI=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},vI=function(e,t){var n,r,o,i,a,s,u,c,l,f,d=e.dom,p=e.schema,h=p.getNonEmptyElements(),m=e.selection.getRng(),g=function(t){var n,o,a,s=r,u=p.getTextInlineElements();if(a=n=t||"TABLE"===c||"HR"===c?d.create(t||l):i.cloneNode(!1),!1===Yf(e))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(u[s.nodeName]){if(bh(s)||jh(s))continue;o=s.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((s=s.parentNode)&&s!==w);return hI(e,n),iI(a),n},v=function(e){var t,n,a=cI(e,r,o);if(oo(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!e)return!0;if(e&&Yr(r)&&r===i.firstChild)return!0;if(aI(r,"TABLE")||aI(r,"HR"))return f&&!e||!f&&e;var s=new Bi(r,i);for(oo(r)&&(e&&0===a?s.prev():e||a!==r.nodeValue.length||s.next());t=s.current();){if(Yr(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),h[n]&&"br"!==n))return!1}else if(oo(t)&&!qa(t.nodeValue))return!1;e?s.prev():s.next()}return!0},y=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==x?g(l):g(),Kf(e)&&sI(d,u)&&d.isEmpty(i)?a=d.split(u,i):d.insertAfter(a,i),zL(e,a)};Fg(d,m).each(function(e){m.setStart(e.startContainer,e.startOffset),m.setEnd(e.endContainer,e.endOffset)}),r=m.startContainer,o=m.startOffset,l=Wf(e);var b=!(!t||!t.shiftKey),C=!(!t||!t.ctrlKey);Yr(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&oo(r)?r.nodeValue.length:0);var w=dI(d,r);if(w){(l&&!b||!l&&b)&&(r=mI(e,l,m,r,o)),i=d.getParent(r,d.isBlock),u=i?d.getParent(i.parentNode,d.isBlock):null,c=i?i.nodeName.toUpperCase():"";var x=u?u.nodeName.toUpperCase():"";"LI"!==x||C||(i=u,u=u.parentNode,c=x),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(i)?tI(e,g,u,i,l):l&&i===e.getBody()||(l=l||"P",la(i)?(a=xa(i),d.isEmpty(i)&&iI(i),hI(e,a),zL(e,a)):v()?y():v(!0)?(a=i.parentNode.insertBefore(g(),i),zL(e,aI(i,"HR")?a:i)):((n=lI(m).cloneRange()).setEndAfter(i),s=n.extractContents(),nI(s),fI(s),a=s.firstChild,d.insertAfter(s,i),uI(d,h,a),gI(d,i),d.isEmpty(i)&&iI(i),a.normalize(),d.isEmpty(a)?(d.remove(a),y()):(hI(e,a),zL(e,a))),d.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},yI=function(e,t,n){for(var r,o=new Bi(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},bI=function(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),yv(e,r)},CI=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Fg(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var c=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=c&&3===u.nodeType?u.nodeValue.length:0}var l=i.getParent(u,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",p=!(!t||!t.ctrlKey);"LI"!==d||p||(l=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(yI(e.schema,u,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),nf(i,a,n),bI(e,n,r),e.undoManager.add()},wI=function(e,t){var n=kn.fromTag("br");Sr(kn.fromDom(t),n),e.undoManager.add()},xI=function(e,t){EI(e.getBody(),t)||Er(kn.fromDom(t),kn.fromTag("br"));var n=kn.fromTag("br");Er(kn.fromDom(t),n),bI(e,n.dom,!1),e.undoManager.add()},SI=function(e){return uo(e.getNode())},EI=function(e,t){return!!SI(Ql.after(t))||hh(e,Ql.after(t)).map(function(e){return uo(e.getNode())}).getOr(!1)},kI=function(e){return e&&"A"===e.nodeName&&"href"in e},_I=function(e){return e.fold(ne,kI,kI,ne)},NI=function(t){var n=e(DA,t),r=Ql.fromRangeStart(t.selection.getRng());return wP(n,t.getBody(),r).filter(_I)},TI=function(t,n){n.fold($,e(wI,t),e(xI,t),$)},AI=function(t,n){var r=NI(t);r.isSome()?r.each(e(TI,t)):CI(t,n)},DI=function(e,t){return VL(e).filter(function(e){return t.length>0&&Ln(kn.fromDom(e),t)}).isSome()},PI=function(e){return DI(e,$f(e))},RI=function(e){return DI(e,Xf(e))},OI=ei.generate([{br:[]},{block:[]},{none:[]}]),LI=function(e){return RI(e)},II=function(e){return function(t){return""===Wf(t)===e}},BI=function(e){return function(t){return XL(t)===e}},MI=function(e,t){return function(n){return $L(n)===e.toUpperCase()===t}},FI=function(e){return MI("pre",e)},HI=function(){return MI("summary",!0)},qI=function(e){return function(t){return zf(t)===e}},jI=function(e){return PI(e)},UI=function(e,t){return t},zI=function(e){var t=Wf(e),n=WL(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},WI=function(e,t){return function(n,r){return we(e,function(e,t){return e&&t(n,r)},!0)?se.some(t):se.none()}},VI=function(e,t){return fP([WI([LI],OI.none()),WI([HI()],OI.br()),WI([FI(!0),qI(!1),UI],OI.br()),WI([FI(!0),qI(!1)],OI.block()),WI([FI(!0),qI(!0),UI],OI.block()),WI([FI(!0),qI(!0)],OI.br()),WI([BI(!0),UI],OI.br()),WI([BI(!0)],OI.block()),WI([II(!0),UI,zI],OI.block()),WI([II(!0)],OI.br()),WI([jI],OI.br()),WI([II(!1),UI],OI.br()),WI([zI],OI.block())],[e,!(!t||!t.shiftKey)]).getOr(OI.none())},$I=function(e,t){VI(e,t).fold(function(){AI(e,t)},function(){vI(e,t)},$)},XI=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),Nk(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),$I(e,t)}))},YI=function(e){e.on("keydown",function(t){t.keyCode===yg.ENTER&&XI(e,t)})},KI=function(e,t,n){aL([{keyCode:yg.END,action:iL(VO,e,!0)},{keyCode:yg.HOME,action:iL(VO,e,!1)},{keyCode:yg.END,action:iL(cL,e,!0)},{keyCode:yg.HOME,action:iL(cL,e,!1)},{keyCode:yg.END,action:iL(UR,e,!0,t)},{keyCode:yg.HOME,action:iL(UR,e,!1,t)}],n).each(function(){n.preventDefault()})},GI=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&KI(e,t,n)})},QI=an().browser,JI=function(e){var t=Rc(function(){e.composing||SC(e)},0);QI.isIE()&&(e.on("keypress",function(){t.throttle()}),e.on("remove",function(){t.cancel()}))},ZI=function(e){JI(e),e.on("input",function(t){!1===t.isComposing&&SC(e)})},eB=an(),tB=function(e,t,n){aL([{keyCode:yg.PAGE_UP,action:iL(UR,e,!1,t)},{keyCode:yg.PAGE_DOWN,action:iL(UR,e,!0,t)}],n)},nB=function(e){return e.stopImmediatePropagation()},rB=function(e){return e.keyCode===yg.PAGE_UP||e.keyCode===yg.PAGE_DOWN},oB=function(e,t,n){n&&!e.get()?t.on("NodeChange",nB,!0):!n&&e.get()&&t.off("NodeChange",nB),e.set(n)},iB=function(e,t){if(!eB.os.isOSX()){var n=xc(!1);e.on("keydown",function(t){rB(t)&&oB(n,e,!0)}),e.on("keyup",function(r){!1===r.isDefaultPrevented()&&tB(e,t,r),rB(r)&&n.get()&&(oB(n,e,!1),e.nodeChanged())})}},aB=function(e,t){var n=t.container(),r=t.offset();return oo(n)?(n.insertData(r,e),se.some(Ql(n,r+e.length))):qp(t).map(function(n){var r=kn.fromText(e);return t.isAtEnd()?Er(n,r):Sr(n,r),Ql(r.dom,e.length)})},sB=e(aB,oa),uB=e(aB," "),cB=function(e){return function(t){return t.fold(function(t){return mh(e.dom,Ql.before(t))},function(e){return gh(e)},function(e){return vh(e)},function(t){return hh(e.dom,Ql.after(t))})}},lB=function(e,t){return function(n){return fC(e,n)?sB(t):uB(t)}},fB=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},dB=function(t){var n=Ql.fromRangeStart(t.selection.getRng()),r=kn.fromDom(t.getBody());if(t.selection.isCollapsed()){var o=e(DA,t),i=Ql.fromRangeStart(t.selection.getRng());return wP(o,t.getBody(),i).bind(cB(r)).bind(lB(r,n)).exists(fB(t))}return!1},pB=function(e,t){aL([{keyCode:yg.SPACEBAR,action:iL(dB,e)}],t).each(function(){t.preventDefault()})},hB=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&pB(e,t)})},mB=function(e){var t=HR(e);return IO(e),FL(e,t),jL(e,t),YI(e),hB(e),ZI(e),GI(e,t),iB(e,t),t},gB=function(e){return zk(e)?xc(null):mB(e)},vB=function(){function e(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&_g(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!mn.range&&e.selection.isCollapsed()||zm(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(t){!t.isDefaultPrevented()&&zm(e)&&("IMG"===e.selection.getNode().nodeName?Oi.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!Hd(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(t=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),(e=e||{}).element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),yB=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},bB=function(e){e.parser.addNodeFilter("details",function(e){ge(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){ge(e,function(e){var t=e.attr("data-mce-open");e.attr("open",B(t)?t:null),e.attr("data-mce-open",null)})})},CB=function(e){yB(e),bB(e)},wB=function(e){return Yr(e)&&Gi(kn.fromDom(e))},xB=function(e){var t=e.selection.getRng(),n=Ql.fromRangeStart(t),r=Ql.fromRangeEnd(t);if(Ql.isElementPosition(n)){var o=n.container();wB(o)&&gh(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(Ql.isElementPosition(r)){o=n.container();wB(o)&&vh(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng($w(t))},SB=function(e){e.on("click",function(t){t.detail>=3&&xB(e)})},EB=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},kB=function(e){return e.inline?EB(e.getBody()):{left:0,top:0}},_B=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},NB=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},TB=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=EB(e.getContentAreaContainer()),r=NB(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},AB=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},DB=function(e,t){return AB(kB(e),_B(e),TB(e,t))},PB=fo,RB=lo,OB=function(e,t){return PB(t)&&t!==e},LB=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!PB(t)},IB=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},BB=function(e,t,n,r){var o=e.dom,i=t.cloneNode(!0);o.setStyles(i,{width:n,height:r}),o.setAttrib(i,"data-mce-selected",null);var a=o.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(i,{margin:0,boxSizing:"border-box"}),a.appendChild(i),a},MB=function(e,t){e.parentNode!==t&&t.appendChild(e)},FB=function(e,t,n,r,o,i){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(s=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-s+"px"},HB=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},qB=function(e){return 0===e.button},jB=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},UB=function(e,t){return function(n){if(qB(n)){var r=Se(t.dom.getParents(n.target),Al(PB,RB)).getOr(null);if(OB(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.set({element:r,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:r.offsetWidth,height:r.offsetHeight,ghost:BB(t,r,r.offsetWidth,r.offsetHeight)})}}}},zB=function(e,t){var n=Oi.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return t.on("remove",n.stop),function(r){return e.on(function(e){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&o>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var i=jB(e,DB(t,r));MB(e.ghost,t.getBody()),FB(e.ghost,i,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}})}},WB=function(e){var t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t},VB=function(e,t){return function(n){e.on(function(e){if(e.dragging){if(LB(t,WB(t.selection),e.element)){var r=IB(e.element);t.fire("drop",{clientX:n.clientX,clientY:n.clientY}).isDefaultPrevented()||t.undoManager.transact(function(){HB(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})}t.fire("dragend")}}),XB(e)}},$B=function(e,t){return function(){e.on(function(e){e.dragging&&t.fire("dragend")}),XB(e)}},XB=function(e){e.on(function(e){HB(e.ghost)}),e.clear()},YB=function(e){var t=Pc(),n=pc.DOM,r=document,o=UB(t,e),i=zB(t,e),a=VB(t,e),s=$B(t,e);e.on("mousedown",o),e.on("mousemove",i),e.on("mouseup",a),n.bind(r,"mousemove",i),n.bind(r,"mouseup",s),e.on("remove",function(){n.unbind(r,"mousemove",i),n.unbind(r,"mouseup",s)}),e.on("keydown",function(e){e.keyCode===yg.ESC&&s()})},KB=function(e){e.on("drop",function(t){var n="undefined"!=typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(PB(n)||"false"===e.dom.getContentEditableParent(n))&&t.preventDefault()})},GB=function(e){var t=function(t){if(!t.isDefaultPrevented()){var n=t.dataTransfer;n&&(pe(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&IT(e,"Dropped file type is not supported"))}},n=function(n){oy(e,n.target)&&t(n)},r=function(){var r=pc.DOM,o=e.dom,i=document,a=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];ge(s,function(e){r.bind(i,e,n),o.bind(a,e,t)}),e.on("remove",function(){ge(s,function(e){r.unbind(i,e,n),o.unbind(a,e,t)})})};e.on("init",function(){Oi.setEditorTimeout(e,r,0)})},QB=function(e){YB(e),KB(e),Wd(e)&&GB(e)},JB=function(e){var t=Rc(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var t=e.selection.getRng();if(t.collapsed){var n=kD(e,t,!1);e.selection.setRng(n)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},ZB=function(e){e.on("init",function(){e.on("focusin",function(t){var n=t.target;if(ho(n)){var r=ng(e.getBody(),n),o=fo(r)?r:n;e.selection.getNode()!==o&&SD(e,o).each(function(t){return e.selection.setRng(t)})}})})},eM=lo,tM=fo,nM=function(e,t){return ng(e.getBody(),t)},rM=function(e){var t,n=e.selection,r=e.dom,o=r.isBlock,i=e.getBody(),a=hp(e,i,o,function(){return yy(e)}),s="sel-"+r.uniqueId(),u="data-mce-selected",c=function(e){return r.hasClass(e,"mce-offscreen-selection")},l=function(e){return e!==i&&(tM(e)||ho(e))&&r.isChildOf(e,i)},f=function(e){return Rb(e)||Ob(e)||Tb(e)||Ab(e)},d=function(){var e=r.get(s);return e?e.getElementsByTagName("*")[0]:e},p=function(e){e&&n.setRng(e)},h=n.getRng,m=function(t,r,o,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:r,direction:t,before:o}).isDefaultPrevented()?null:(i&&n.scrollIntoView(r,-1===t),a.show(o,r))},g=function(e){e.hasAttribute("data-mce-caret")&&(xa(e),p(h()),n.scrollIntoView(e))},v=function(){e.on("mouseup",function(t){var n=h();n.collapsed&&_T(e,t.clientX,t.clientY)&&ED(e,n,!1).each(p)}),e.on("click",function(t){var o=nM(e,t.target);o&&(tM(o)&&(t.preventDefault(),e.focus()),eM(o)&&r.isChildOf(o,n.getNode())&&E())}),e.on("blur NewBlock",E),e.on("ResizeWindow FullscreenStateChanged",a.reposition);var s=function(e){var t=e.firstChild;if(U(t))return!1;var n=Ql.before(t);if(uo(n.getNode())&&1===e.childNodes.length)return!f(n);var r=nh(e).next(n);return r&&!f(r)},u=function(e,t){return r.getParent(e,o)===r.getParent(t,o)},g=function(t,n){var i=r.getParent(t,o),a=r.getParent(n,o);return!U(i)&&(!(t===a||!r.isChildOf(i,a)||!1!==tM(nM(e,i)))||!r.isChildOf(a,i)&&!u(i,a)&&s(i))};e.on("tap",function(t){var n=t.target,r=nM(e,n);tM(r)?(t.preventDefault(),SD(e,r).each(S)):l(n)&&SD(e,n).each(S)},!0),e.on("mousedown",function(t){var o=t.target;if((o===i||"HTML"===o.nodeName||r.isChildOf(o,i))&&!1!==_T(e,t.clientX,t.clientY)){var a=nM(e,o);if(a)tM(a)?(t.preventDefault(),SD(e,a).each(S)):(E(),eM(a)&&t.shiftKey||rg(t.clientX,t.clientY,n.getRng())||(_(),n.placeCaretAt(t.clientX,t.clientY)));else if(l(o))SD(e,o).each(S);else if(!1===vp(o)){E(),_();var s=SR(i,t.clientX,t.clientY);if(s&&!g(o,s.node)){t.preventDefault();var u=m(1,s.node,s.before,!1);p(u),e.getBody().focus()}}}}),e.on("keypress",function(e){yg.modifierPressed(e)||tM(n.getNode())&&e.preventDefault()}),e.on("GetSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);(n=n.cloneRange()).selectNode(t),e.range=n}}),e.on("SetSelectionRange",function(e){e.range=C(e.range);var t=S(e.range,e.forward);t&&(e.range=t)});var v=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range,n=t.startContainer.parentNode;b(t)||v(n)||_(),c(n)||E()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!mn.ie){var n=d();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText||n.innerText))}}),QB(e),JB(e),ZB(e)},y=function(e){return da(e)||ba(e)||Ca(e)},b=function(e){return y(e.startContainer)||y(e.endContainer)},C=function(t){var n=e.schema.getShortEndedElements(),o=r.createRng(),i=t.startContainer,a=t.startOffset,s=t.endContainer,u=t.endOffset;return Ke(n,i.nodeName.toLowerCase())?0===a?o.setStartBefore(i):o.setStartAfter(i):o.setStart(i,a),Ke(n,s.nodeName.toLowerCase())?0===u?o.setEndBefore(s):o.setEndAfter(s):o.setEnd(s,u),o},w=function(t,o,i){var a=e.$,u=_i(kn.fromDom(e.getBody()),"#"+s).fold(function(){return a([])},function(e){return a([e.dom])});0===u.length&&(u=a('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",s)).appendTo(e.getBody());var c=r.createRng();o===i&&mn.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(o),c.setStartAfter(u[0].firstChild.firstChild),c.setEndAfter(o)):(u.empty().append(oa).append(o).append(oa),c.setStart(u[0].firstChild,1),c.setEnd(u[0].lastChild,0)),u.css({top:r.getPos(t,e.getBody()).y}),u[0].focus();var l=n.getSel();return l.removeAllRanges(),l.addRange(c),c},x=function(n){var o=n.cloneNode(!0),i=e.fire("ObjectSelected",{target:n,targetClone:o});if(i.isDefaultPrevented())return null;var a=w(n,i.targetClone,o),s=kn.fromDom(n);return ge($c(kn.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){Fn(s,e)||No(e,u)}),r.getAttrib(n,u)||n.setAttribute(u,"1"),t=n,_(),a},S=function(e,t){if(!e)return null;if(e.collapsed){if(!b(e)){var n=t?1:-1,o=Hp(n,i,e),a=o.getNode(!t);if(vp(a))return m(n,a,!!t&&!o.isAtEnd(),!1);var s=o.getNode(t);if(vp(s))return m(n,s,!t&&!o.isAtEnd(),!1)}return null}var u=e.startContainer,c=e.startOffset,f=e.endOffset;if(3===u.nodeType&&0===c&&tM(u.parentNode)&&(u=u.parentNode,c=r.nodeIndex(u),u=u.parentNode),1!==u.nodeType)return null;if(f===c+1&&u===e.endContainer){var d=u.childNodes[c];if(l(d))return x(d)}return null},E=function(){t&&t.removeAttribute(u),_i(kn.fromDom(e.getBody()),"#"+s).each(Pr),t=null},k=function(){a.destroy(),t=null},_=function(){a.hide()};return mn.ceFalse&&!zk(e)&&v(),{showCaret:m,showBlockCaretContainer:g,hideFakeCaret:_,destroy:k}},oM=function(e){var t=Cn.each,n=yg.BACKSPACE,r=yg.DELETE,o=e.dom,i=e.selection,a=e.parser,s=mn.gecko,u=mn.ie,c=mn.webkit,l="data:text/mce-internal,",f=u?"Text":"URL",d=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},p=function(e){return e.isDefaultPrevented()},h=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&i.select(t.target),(n=e.selection.getContent()).length>0&&(r=l+escape(e.id)+","+escape(n),t.dataTransfer.setData(f,r)))},m=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(f))&&t.indexOf(l)>=0?(t=t.substr(l.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},g=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},v=function(){var t=function(e){var t=o.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})},a=function(n){var r=t(n),i=o.createRng();return i.selectNode(e.getBody()),r===t(i)};e.on("keydown",function(t){var i,s,u=t.keyCode;if(!p(t)&&(u===r||u===n)){if(i=e.selection.isCollapsed(),s=e.getBody(),i&&!o.isEmpty(s))return;if(!i&&!a(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),s.firstChild&&o.isBlock(s.firstChild)?e.selection.setCursorLocation(s.firstChild,0):e.selection.setCursorLocation(s,0),e.nodeChanged()}})},y=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.inline||o.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(da(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)})},C=function(){e.on("keydown",function(t){if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void t.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(o.remove(a),t.preventDefault())}}})},w=function(){Range.prototype.getClientRects||e.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Oi.setEditorTimeout(e,function(){n.focus()})}})},x=function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),i.select(n))})},S=function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};e.on("keypress",function(t){var o;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),o.bind(e.getDoc(),"cut",function(t){var o;!p(t)&&r()&&(o=n(),Oi.setEditorTimeout(e,function(){o()}))})},E=function(){e.on("keydown",function(e){if(!p(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},k=function(){e.on("keydown",function(t){var n,r;if(!p(t)&&t.keyCode===yg.BACKSPACE){var a=(n=i.getRng()).startContainer,s=n.startOffset,u=o.getRoot();if(r=a,n.collapsed&&0===s){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==u;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),(n=o.createRng()).setStart(a,0),n.setEnd(a,0),i.setRng(n))}}})},_=function(){var t=function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),yd(e)||d("enableObjectResizing",!1)};qd(e)||e.on("BeforeExecCommand mousedown",t)},N=function(){var n=function(){t(o.select("a"),function(e){var t=e.parentNode,n=o.getRoot();if(t.lastChild===e){for(;t&&!o.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})},T=function(){Wf(e)&&e.on("init",function(){d("DefaultParagraphSeparator",Wf(e))})
},A=function(){e.on("keyup focusin mouseup",function(e){yg.modifierPressed(e)||i.normalize()},!0)},D=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},P=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},R=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(mn.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},O=function(){mn.mac&&e.on("keydown",function(t){!yg.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},L=function(){d("AutoUrlDetect",!1)},I=function(){e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},B=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})},M=function(){a.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})},F=function(){e.on("dragstart",function(e){h(e)}),e.on("drop",function(t){if(!p(t)){var n=m(t);if(n&&n.id!==e.id){t.preventDefault();var r=kg(t.x,t.y,e.getDoc());i.setRng(r),g(n.html,!0)}}})},H=$,q=function(){if(!s||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount},j=function(){c&&(b(),x(),B(),y(),mn.iOS&&(P(),R(),I())),s&&(w(),_(),D(),O())},U=function(){k(),v(),mn.windowsPhone||A(),c&&(b(),x(),T(),B(),E(),M(),mn.iOS?(P(),R(),I()):y()),mn.ie>=11&&(R(),E()),mn.ie&&(y(),L(),F()),s&&(C(),w(),S(),_(),N(),D(),O(),E())};return zk(e)?j():U(),{refreshContentEditable:H,isHidden:q}},iM=pc.DOM,aM=function(e,t){var n=kn.fromDom(e.getBody()),r=yr(vr(n)),o=kn.fromTag("style");xo(o,"type","text/css"),_r(o,kn.fromText(t)),_r(r,o),e.on("remove",function(){Pr(o)})},sM=function(e){return e.inline?e.getElement().nodeName.toLowerCase():undefined},uM=function(e){return Ve(e,function(e){return!1===j(e)})},cM=function(e){var t=e.settings,n=e.editorUpload.blobCache;return uM({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:sM(e),validate:!0,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})},lM=function(e){var t=e.settings;return st(st({},cM(e)),uM({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},fM=function(e){var t=fN(cM(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i=t.length,a=e.dom,s="data-mce-"+n;i--;)if((o=(r=t[i]).attr(n))&&!r.attr(s)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=a.serializeStyle(a.parseStyle(o),r.name)).length||(o=null),r.attr(s,o),r.attr(n,o)):"tabindex"===n?(r.attr(s,o),r.attr(n,null)):r.attr(s,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(t){for(var n=t.length;n--;){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n=t.length,r=e.schema.getNonEmptyElements();n--;){var o=t[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new Iy("br",1)).shortEnded=!0)}}),t},dM=function(e){e.settings.auto_focus&&Oi.setEditorTimeout(e,function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()},100)},pM=function(e){var t=e.dom.getRoot();e.inline||zm(e)&&e.selection.getStart(!0)!==t||gh(t).each(function(t){var n=t.getNode(),r=to(n)?gh(n).getOr(t):t;mn.browser.isIE()?Vv(e,r.toRange()):e.selection.setRng(r.toRange())})},hM=function(e){e.bindPendingEventDelegates(),e.initialized=!0,pg(e),e.focus(!0),pM(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),dM(e)},mM=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},gM=function(e,t,n){var r=[new Ti(function(n,r){return mM(e).loadAll(t,n,r)})];return e.inline?r:r.concat([new Ti(function(t,r){return e.ui.styleSheetLoader.loadAll(n,t,r)})])},vM=function(e){var t=mM(e),n=md(e),r=e.contentCSS,o=function(){t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=function(){e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){var a="";Cn.each(e.contentStyles,function(e){a+=e+"\r\n"}),e.dom.addStyle(a)}var s=Ti.all(gM(e,r,n)).then(i)["catch"](i);return e.settings.content_style&&aM(e,e.settings.content_style),s},yM=function(e){var t=e.settings,n=e.getDoc(),r=e.getBody();fg(e),t.browser_spellcheck||t.gecko_spellcheck||(n.body.spellcheck=!1,iM.setAttrib(r,"spellcheck","false")),e.quirks=oM(e),dg(e);var o=gd(e);o!==undefined&&(r.dir=o),t.protect&&e.on("BeforeSetContent",function(e){Cn.each(t.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type})},bM=function(e){zk(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},CM=function(e){!0!==e.removed&&(bM(e),hM(e))},wM=function(e,t){var n=e.settings,r=e.getElement(),o=e.getDoc();n.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(o.open(),o.write(e.iframeHTML),o.close()),e.inline&&(iM.addClass(r,"mce-content-body"),e.contentDocument=o=document,e.contentWindow=window,e.bodyElement=r,e.contentAreaContainer=r);var i=e.getBody();i.disabled=!0,e.readonly=!!n.readonly,e.readonly||(e.inline&&"static"===iM.getStyle(i,"position",!0)&&(i.style.position="relative"),i.contentEditable=e.getParam("content_editable_state",!0)),i.disabled=!1,e.editorUpload=iA(e),e.schema=As(n),e.dom=pc(o,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:ud(e),referrerPolicy:cd(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=fM(e),e.serializer=EN(lM(e),e),e.selection=O_(e.dom,e.getWin(),e.serializer,e),e.annotator=eg(e),e.formatter=mA(e),e.undoManager=bA(e),e._nodeChangeDispatcher=new vB(e),e._selectionOverrides=rM(e),EO(e),CB(e),zk(e)||SB(e);var a=gB(e);bO(e,a),DO(e),NA(e);var s=Vk(e);yM(e),s.fold(function(){vM(e).then(function(){return CM(e)})},function(t){e.setProgressState(!0),vM(e).then(function(){t().then(function(){e.setProgressState(!1),CM(e)},function(t){e.notificationManager.open({type:"error",text:String(t)}),CM(e)})})})},xM=pc.DOM,SM=function(e,t){if(document.domain!==window.location.hostname&&mn.browser.isIE()){var n=JT("mce");e[n]=function(){wM(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return xM.setAttrib(t,"src",r),!0}return!1},EM=function(e,t,n,r){var o=kn.fromTag("iframe");return So(o,r),So(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),jc(o,"tox-edit-area__iframe"),o},kM=function(e){var t=Ff(e)+"<html><head>";Hf(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=qf(e),r=jf(e),o=e.translate(Yd(e));return Uf(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Uf(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'" aria-label="'+o+'"><br></body></html>'},_M=function(e,t){var n=e.translate("Rich Text Area"),r=EM(e.id,n,t.height,Mf(e)).dom;r.onload=function(){r.onload=null,e.fire("load")};var o=SM(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=kM(e),xM.add(t.iframeContainer,r),o},NM=function(e,t){var n=_M(e,t);t.editorContainer&&(xM.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=xM.isHidden(t.editorContainer)),e.getElement().style.display="none",xM.setAttrib(e.id,"aria-hidden","true"),n||wM(e)},TM=pc.DOM,AM=function(e,t,n){var r=PT.get(n),o=PT.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Cn.trim(n),r&&-1===Cn.inArray(t,n)){if(Cn.each(PT.dependencies(n),function(n){AM(e,t,n)}),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(uq){UT(e,n,uq)}}},DM=function(e){return e.replace(/^\-/,"")},PM=function(e){var t=[];Cn.each(Ud(e).split(/[ ,]/),function(n){AM(e,t,DM(n))})},RM=function(e){var t=Cn.trim(nd(e)),n=e.ui.registry.getAll().icons,r=st(st({},gT.get("default").icons),gT.get(t).icons);He(r,function(t,r){Ke(n,r)||e.ui.registry.addIcon(r,t)})},OM=function(e){var t=Sd(e);if(B(t)){e.settings.theme=DM(t);var n=RT.get(t);e.theme=new n(e,RT.urls[t]),e.theme.init&&e.theme.init(e,RT.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},LM=function(e){return e.theme.renderUI()},IM=function(e){var t=e.getElement(),n=Sd(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n},BM=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},MM=function(e){var t=TM.create("div");return TM.insertAfter(t,e),BM(t)},FM=function(e){var t=e.getElement();return e.inline?BM(null):MM(t)},HM=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,B(Sd(e))?LM(e):W(Sd(e))?IM(e):FM(e)},qM=function(e,t){var n={show:se.from(t.show).getOr($),hide:se.from(t.hide).getOr($),disable:se.from(t.disable).getOr($),isDisabled:se.from(t.isDisabled).getOr(ne),enable:function(){e.mode.isReadOnly()||se.from(t.enable).map(te)}};e.ui=st(st({},e.ui),n)},jM=function(e){e.fire("ScriptsLoaded"),RM(e),OM(e),PM(e);var t=HM(e);qM(e,se.from(t.api).getOr({}));var n={editorContainer:t.editorContainer,iframeContainer:t.iframeContainer};return e.editorContainer=n.editorContainer?n.editorContainer:null,YT(e),e.inline?wM(e):NM(e,n)},UM=pc.DOM,zM=function(e){return"-"===e.charAt(0)},WM=function(e,t){var n=ld(t),r=fd(t);if(!1===Tc.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,$,undefined,function(){jT(t,o,n)})}},VM=function(e,t,n,r){var o=Sd(t);if(B(o)){if(!zM(o)&&!Ke(RT.urls,o)){var i=Dd(t);i?RT.load(o,t.documentBaseURI.toAbsolute(i)):RT.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){RT.waitFor(o,r)})}else r()},$M=function(e){return se.from(rd(e)).filter(function(e){return e.length>0}).map(function(e){return{url:e,name:se.none()}})},XM=function(e,t,n){return se.from(t).filter(function(e){return e.length>0&&!gT.has(e)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:se.some(t)}})},YM=function(e,t,n){var r=XM(t,"default",n),o=$M(t).orThunk(function(){return XM(t,nd(t),"")});ge(go([r,o]),function(n){e.add(n.url,$,undefined,function(){qT(t,n.url,n.name.getOrUndefined())})})},KM=function(e,t){Cn.each(zd(e),function(t,n){PT.load(n,t,$,undefined,function(){HT(e,t,n)}),e.settings.plugins+=" "+n}),Cn.each(Ud(e).split(/[ ,]/),function(n){if((n=Cn.trim(n))&&!PT.urls[n])if(zM(n)){n=n.substr(1,n.length);var r=PT.dependencies(n);Cn.each(r,function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},o=PT.createUrl(r,n);PT.load(o.resource,o,$,undefined,function(){HT(e,o.prefix+o.resource+o.suffix,o.resource)})})}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};PT.load(n,o,$,undefined,function(){HT(e,o.prefix+o.resource+o.suffix,n)})}})},GM=function(e,t){var n=wc.ScriptLoader;VM(n,e,t,function(){WM(n,e),YM(n,e,t),KM(e,t),n.loadQueue(function(){e.removed||jM(e)},e,function(){e.removed||jM(e)})})},QM=function(e,t){return Ii.forElement(e,{contentCssCors:jd(t),referrerPolicy:cd(t)})},JM=function(e){var t=e.id;Tc.setCode(ld(e));var n=function(){UM.unbind(window,"ready",n),e.render()};if(Vs.Event.domLoaded){if(e.getElement()&&mn.contentEditable){var r=kn.fromDom(e.getElement()),o=To(r);e.on("remove",function(){ve(r.dom.attributes,function(e){return No(r,e.name)}),So(r,o)}),e.ui.styleSheetLoader=QM(r,e),Pd(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var i=e.getElement().form||UM.getParent(t,"form");i&&(e.formElement=i,Rd(e)&&!ro(e.getElement())&&(UM.insertAfter(UM.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},UM.bind(i,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),!Od(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)})),e.windowManager=OT(e),e.notificationManager=DT(e),Ld(e)&&e.on("GetContent",function(e){e.save&&(e.content=UM.encode(e.content))}),Id(e)&&e.on("submit",function(){e.initialized&&e.save()}),Bd(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),GM(e,e.suffix)}}else UM.bind(window,"ready",n)},ZM=function(e,t){return y_(e,t)},eF={"font-size":"size","font-family":"face"},tF=function(e,t,n){var r=function(t){return Oo(t,e).orThunk(function(){return"font"===Un(t)?Ye(eF,e).bind(function(e){return ko(t,e)}):se.none()})},o=function(e){return Fn(kn.fromDom(t),e)};return jx(kn.fromDom(n),function(e){return r(e)},o)},nF=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},rF=function(e,t){return se.from(pc.DOM.getStyle(t,e,!0))},oF=function(e){return function(t,n){return se.from(n).map(kn.fromDom).filter($n).bind(function(n){return tF(e,t,n.dom).or(rF(e,n.dom))}).getOr("")}},iF=oF("font-size"),aF=X(nF,oF("font-family")),sF=function(e){return gh(e.getBody()).map(function(e){var t=e.container();return oo(t)?t.parentNode:t})},uF=function(e){return se.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return t.startContainer===n&&0===t.startOffset?se.none():se.from(e.selection.getStart(!0))})},cF=function(t,n){return uF(t).orThunk(e(sF,t)).map(kn.fromDom).filter($n).bind(n)},lF=function(e,t){return cF(e,Y(se.some,t))},fF=function(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=Gf(e),o=Qf(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},dF=function(e){var t=e.split(/\s*,\s*/);return me(t,function(e){return-1===e.indexOf(" ")||Et(e,'"')||Et(e,"'")?e:"'"+e+"'"}).join(",")},pF=function(e,t){var n=fF(e,t);e.formatter.toggle("fontname",{value:dF(n)}),e.nodeChanged()},hF=function(e){return lF(e,function(t){return aF(e.getBody(),t.dom)}).getOr("")},mF=function(e,t){e.formatter.toggle("fontsize",{value:fF(e,t)}),e.nodeChanged()},gF=function(e){return lF(e,function(t){return iF(e.getBody(),t.dom)}).getOr("")},vF=function(t){return lF(t,function(n){var r=kn.fromDom(t.getBody()),o=function(){var e=parseFloat(Po(n,"line-height")),t=parseFloat(Po(n,"font-size"));return String(e/t)};return jx(n,function(e){return Oo(e,"line-height")},e(Fn,r)).getOrThunk(o)}).getOr("")},yF=function(e,t){e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},bF=function(e){if("string"!=typeof e){var t=Cn.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},CF=function(e,t){var n=bF(t);g_(e,n.content,n.details)},wF=Cn.each,xF=Cn.map,SF=Cn.inArray,EF=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){if("mcefocus"!==e.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Xv(a.editor):a.editor.focus()),(r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;var s=e.toLowerCase();if(o=a.commands.exec[s])return o(s,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(wF(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),i=!0,!1}),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(u){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(n){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(n){}}},e.prototype.addCommands=function(e,t){void 0===t&&(t="exec");var n=this;wF(e,function(e,r){wF(r.toLowerCase().split(","),function(r){n.commands[t][r]=e})})},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return t===undefined&&(t=!1),n===undefined&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":$,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},mceFocus:function(t,n,r){xy(e,r)},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");mn.mac&&(i=i.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),wF("left,center,right,justify".split(","),function(t){r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,{value:r})},FontName:function(t,n,r){pF(e,r)},FontSize:function(t,n,r){mF(e,r)},LineHeight:function(t,n,r){yF(e,r)},Lang:function(e,n,r){t.toggleFormat(e,{value:r.code,customValue:r.customCode})},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1},e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){CF(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(t,n,r){$I(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){hO(e,t)},mceRepaint:$,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),lo);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return AI(e,r),!0}});var n=function(t){return function(){var n=e.selection,r=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks(),o=xF(r,function(n){return!!e.formatter.matchNode(n,t)});return-1!==SF(o,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return lO(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",function(){return hF(e)},this),t.addQueryValueHandler("FontSize",function(){return gF(e)},this),t.addQueryValueHandler("LineHeight",function(){return vF(e)},this)},e}(),kF="data-mce-contenteditable",_F=function(e,t,n){Wc(e,t)&&!1===n?zc(e,t):n&&jc(e,t)},NF=function(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(r){}},TF=function(e,t){e.dom.contentEditable=t?"true":"false"},AF=function(e){ge($c(e,'*[contenteditable="true"]'),function(e){xo(e,kF,"true"),TF(e,!1)})},DF=function(e){ge($c(e,"*["+kF+'="true"]'),function(e){No(e,kF),TF(e,!0)})},PF=function(e){se.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})},RF=function(e){e.selection.setRng(e.selection.getRng())},OF=function(e,t){var n=kn.fromDom(e.getBody());_F(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),PF(e),e.readonly=!0,TF(n,!1),AF(n)):(e.readonly=!1,TF(n,!0),DF(n),NF(e,"StyleWithCSS",!1),NF(e,"enableInlineTableEditing",!1),NF(e,"enableObjectResizing",!1),by(e)&&e.focus(),RF(e),e.nodeChanged())},LF=function(e){return e.readonly},IF=function(e){e.parser.addAttributeFilter("contenteditable",function(t){LF(e)&&ge(t,function(e){e.attr(kF,e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(kF,function(t){LF(e)&&ge(t,function(e){e.attr("contenteditable",e.attr(kF))})}),e.serializer.addTempAttr(kF)},BF=function(e){e.serializer?IF(e):e.on("PreInit",function(){IF(e)})},MF=function(e){return"click"===e.type},FF=function(e,t){return Ni(t,"a",function(t){return Fn(t,kn.fromDom(e.getBody()))}).bind(function(e){return ko(e,"href")})},HF=function(e,t){if(MF(t)&&!yg.metaKeyPressed(t)){var n=kn.fromDom(t.target);FF(e,n).each(function(n){if(t.preventDefault(),/^#/.test(n)){var r=e.dom.select(n+',[name="'+xt(n,"#")+'"]');r.length&&e.selection.scrollIntoView(r[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},qF=function(e){e.on("ShowCaret",function(t){LF(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){LF(e)&&t.preventDefault()})},jF=Cn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),UF=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ne}return e.isNative=function(e){return!!jF[e.toLowerCase()]},e.prototype.fire=function(e,t){var n=e.toLowerCase(),r=Ms(n,t||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var s=o[i];if(!s.removed){if(s.once&&this.off(n,s.func),r.isImmediatePropagationStopped())return r;if(!1===s.func.call(this.scope,r))return r.preventDefault(),r}}return r},e.prototype.on=function(e,t,r,o){if(!1===t&&(t=ne),t){var i={func:t,removed:!1};o&&Cn.extend(i,o);for(var a=e.toLowerCase().split(" "),s=a.length;s--;){var u=a[s],c=this.bindings[u];c||(c=[],this.toggleEvent(u,!0)),c=r?n([i],c,!0):n(n([],c,!0),[i],!1),this.bindings[u]=c}}return this},e.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i=r[o],a=this.bindings[i];if(!i)return He(this.bindings,function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]}),this;if(a){if(t){var s=ye(a,function(e){return e.func===t});a=s.fail,this.bindings[i]=a,ge(s.pass,function(e){e.removed=!0})}else a.length=0;a.length||(this.toggleEvent(e,!1),delete this.bindings[i])}}else He(this.bindings,function(e,t){n.toggleEvent(t,!1)}),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),zF=function(e){return e._eventDispatcher||(e._eventDispatcher=new UF({scope:e,toggleEvent:function(t,n){UF.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},WF={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=zF(r).fire(e,t);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.fire(e,o,!1),i=i.parent();return o},on:function(e,t,n){return zF(this).on(e,t,n)},off:function(e,t){return zF(this).off(e,t)},once:function(e,t){return zF(this).once(e,t)},hasEventListeners:function(e){return zF(this).has(e)}},VF=pc.DOM,$F=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=wd(e);return n?(e.eventRoot||(e.eventRoot=VF.select(n)[0]),e.eventRoot):e.getBody()},XF=function(e){return!e.hidden&&!LF(e)},YF=function(e,t,n){XF(e)?e.fire(t,n):LF(e)&&HF(e,n)},KF=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=$F(e,t);if(wd(e)){if(eR||(eR={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||eR&&(He(eR,function(t,n){e.dom.unbind($F(e,n))}),eR=null)})),eR[t])return;n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||VF.isChildOf(r,a))&&YF(o[i],t,n)}},eR[t]=n,VF.bind(r,t,n)}else n=function(n){YF(e,t,n)},VF.bind(r,t,n),e.delegates[t]=n}},GF=st(st({},WF),{bindPendingEventDelegates:function(){var e=this;Cn.each(e._pendingNativeEvents,function(t){KF(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?KF(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind($F(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(He(e.delegates,function(t,n){e.dom.unbind($F(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),QF=["design","readonly"],JF=function(e,t,n,r){var o=n[t.get()],i=n[r];try{i.activate()}catch(uq){return void console.error("problem while activating editor mode "+r+":",uq)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&OF(e,i.editorReadOnly),t.set(r),ug(e,r)},ZF=function(e,t,n,r){if(r!==n.get()){if(!Ke(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?JF(e,n,t,r):e.on("init",function(){return JF(e,n,t,r)})}},eH=function(e,t,n){var r;if(pe(QF,t))throw new Error("Cannot override default mode "+t);return st(st({},e),((r={})[t]=st(st({},n),{deactivate:function(){try{n.deactivate()}catch(uq){console.error("problem while deactivating editor mode "+t+":",uq)}}}),r))},tH=function(e){var t=xc("design"),n=xc({design:{activate:$,deactivate:$,editorReadOnly:!1},readonly:{activate:$,deactivate:$,editorReadOnly:!0}});return BF(e),qF(e),{isReadOnly:function(){return LF(e)},set:function(r){return ZF(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(eH(n.get(),e,t))}}},nH=Cn.each,rH=Cn.explode,oH={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},iH=Cn.makeMap("alt,ctrl,shift,meta,access"),aH=function(e){var t,n={};nH(rH(e.toLowerCase(),"+"),function(e){e in iH?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=oH[e]||e.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in iH)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,mn.mac?n.ctrl=!0:n.shift=!0),n.meta&&(mn.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},sH=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(nH(t.shortcuts,function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}
return e.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return nH(rH(Cn.trim(e)),function(e){var n=o.createShortcut(e,t,i,r);o.shortcuts[n.id]=n}),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:Cn.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},e.prototype.createShortcut=function(e,t,n,r){var o=Cn.map(rH(e,">"),aH);return o[o.length-1]=Cn.extend(o[o.length-1],{func:n,scope:r||this.editor}),Cn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),uH=function(){var e={},t={},n={},r={},o={},i={},a={},s=function(e,t){return function(n,r){return e[n.toLowerCase()]=st(st({},r),{type:t})}},u=function(e,t){return r[e.toLowerCase()]=t};return{addButton:s(e,"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(i,"contexttoolbar"),addContextForm:s(i,"contextform"),addSidebar:s(a,"sidebar"),addIcon:u,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},cH=function(){var e=uH();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},lH=pc.DOM,fH=Cn.extend,dH=Cn.each,pH=Cn.resolve,hH=mn.ie,mH=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,fH(this,GF),this.settings=fT(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(wc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),pc.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ac.languageLoad=this.settings.language_load,Ac.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new $y(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new sH(this),this.editorCommands=new EF(this),this.settings.cache_suffix&&(mn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:cH(),styleSheetLoader:undefined,show:$,hide:$,enable:$,disable:$,isDisabled:ne};var o=tH(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ic.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}return e.prototype.render=function(){JM(this)},e.prototype.focus=function(e){this.execCommand("mceFocus",!1,e)},e.prototype.hasFocus=function(){return yy(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?pH(r):0,i=pH(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,t)},e.prototype.translate=function(e){return Tc.translate(e)},e.prototype.getParam=function(e,t,n){return mT(this,e,t,n)},e.prototype.hasPlugin=function(e,t){return!!pe(Ud(this).split(/[ ,]/),e)&&(!t||PT.get(e)!==undefined)},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(lH.show(e.getContainer()),lH.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(hH&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(lH.hide(e.getContainer()),lH.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){(e=e||{}).load=!0;var o=ro(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,ro(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=lH.getParent(r.id,"form"))&&dH(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return NN(this,e,t)},e.prototype.getContent=function(e){return _N(this,e)},e.prototype.insertContent=function(e,t){t&&(e=fH({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){e===undefined?NN(this,this.startContent,{format:"raw"}):NN(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=lH.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=lH.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},e.prototype.addVisual=function(e){ZM(this,e)},e.prototype.remove=function(){ON(this)},e.prototype.destroy=function(e){LN(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),gH=pc.DOM,vH=Cn.explode,yH=Cn.each,bH=Cn.extend,CH=0,wH=!1,xH=[],SH=[],EH=function(e){return"length"!==e},kH=function(e){var t=e.type;yH(DH.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},_H=function(e){e!==wH&&(e?ic(window).on("resize scroll",kH):ic(window).off("resize scroll",kH),wH=e)},NH=function(e){var t=SH;delete xH[e.id];for(var n=0;n<xH.length;n++)if(xH[n]===e){xH.splice(n,1);break}return SH=be(SH,function(t){return e!==t}),DH.activeEditor===e&&(DH.activeEditor=SH.length>0?SH[0]:null),DH.focusedEditor===e&&(DH.focusedEditor=null),t.length!==SH.length},TH=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(NH(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},AH="CSS1Compat"!==document.compatMode,DH=st(st({},WF),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ic,majorVersion:"5",minorVersion:"10.3",releaseDate:"2022-02-09",editors:xH,i18n:Tc,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,n=this,r="";t=$y.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var o=window.tinymce||window.tinyMCEPreInit;if(o)e=o.base||o.baseURL,r=o.suffix;else{for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var s;if(""!==(s=i[a].src||"")){var u=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==u.indexOf(".min")&&(r=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}if(!e&&document.currentScript)-1!==(s=document.currentScript.src).indexOf(".min")&&(r=".min"),e=s.substring(0,s.lastIndexOf("/"))}n.baseURL=new $y(t).toAbsolute(e),n.documentBaseURL=t,n.baseURI=new $y(n.baseURL),n.suffix=r,uy(n)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;r!==undefined&&He(r,function(e,t){Ac.PluginManager.urls[t]=e})},init:function(e){var t,n=this,r=Cn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},i=function(e){var t=e.id;return t||(t=Ye(e,"name").filter(function(e){return!gH.get(e)}).getOrThunk(gH.uniqueId),e.setAttribute("id",t)),t},a=function(t){var r=e[t];if(r)return r.apply(n,[])},s=function(e,t){return t.constructor===RegExp?t.test(e.className):gH.hasClass(e,t)},u=function(e){var t=[];if(mn.browser.isIE()&&mn.browser.version.major<11)return zT("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(AH)return zT("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return yH(e.types,function(e){t=t.concat(gH.select(e.selector))}),t;if(e.selector)return gH.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var n=e.elements||"";n.length>0&&yH(vH(n),function(e){var n=gH.get(e);n?t.push(n):yH(document.forms,function(n){yH(n.elements,function(n){n.name===e&&(e="mce_editor_"+CH++,gH.setAttrib(n,"id",e),t.push(n))})})});break;case"textareas":case"specific_textareas":yH(gH.select("textarea"),function(n){e.editor_deselector&&s(n,e.editor_deselector)||e.editor_selector&&!s(n,e.editor_selector)||t.push(n)})}return t},c=function(e){t=e},l=function(){var t,r=0,s=[],f=function(e,o,i){var a=new mH(e,o,n);s.push(a),a.on("init",function(){++r===t.length&&c(s)}),a.targetElm=a.targetElm||i,a.render()};gH.unbind(window,"ready",l),a("onpageload"),t=ic.unique(u(e)),e.types?yH(e.types,function(n){Cn.each(t,function(t){return!gH.is(t,n.selector)||(f(i(t),bH({},e,n),t),!1)})}):(Cn.each(t,function(e){TH(n.get(e.id))}),0===(t=Cn.grep(t,function(e){return!n.get(e.id)})).length?c([]):yH(t,function(t){o(e,t)?zT("Could not initialize inline editor on invalid inline target element",t):f(i(t),e,t)}))};return n.settings=e,gH.bind(window,"ready",l),new Ti(function(e){t?e(t):c=function(t){e(t)}})},get:function(e){return 0===arguments.length?SH.slice(0):B(e)?Se(SH,function(t){return t.id===e}).getOr(null):V(e)&&SH[e]?SH[e]:null},add:function(e){var t=this;return xH[e.id]===e?e:(null===t.get(e.id)&&(EH(e.id)&&(xH[e.id]=e),xH.push(e),SH.push(e)),_H(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),tR||(tR=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",tR)),e)},createEditor:function(e,t){return this.add(new mH(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!B(e))return n=e,H(r.get(n.id))?null:(NH(n)&&r.fire("RemoveEditor",{editor:n}),0===SH.length&&window.removeEventListener("beforeunload",tR),n.remove(),_H(SH.length>0),n);yH(gH.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})}else for(t=SH.length-1;t>=0;t--)r.remove(SH[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new mH(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){yH(SH,function(e){e.save()})},addI18n:function(e,t){Tc.add(e,t)},translate:function(e){return Tc.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new $y(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new $y(this.baseURL)}});DH.setup();var PH,RH,OH=Math.min,LH=Math.max,IH=Math.round,BH=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,s=t.w,u=t.h,c=(n||"").split("");return"b"===c[0]&&(o+=u),"r"===c[1]&&(r+=s),"c"===c[0]&&(o+=IH(u/2)),"c"===c[1]&&(r+=IH(s/2)),"b"===c[3]&&(o-=a),"r"===c[4]&&(r-=i),"c"===c[3]&&(o-=IH(a/2)),"c"===c[4]&&(r-=IH(i/2)),qH(r,o,i,a)},MH=function(e,t,n){return qH(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},FH=function(e,t){var n=LH(e.x,t.x),r=LH(e.y,t.y),o=OH(e.x+e.w,t.x+t.w),i=OH(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:qH(n,r,o-n,i-r)},HH=function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,s=t.x+t.w,u=t.y+t.h,c=LH(0,t.x-r),l=LH(0,t.y-o),f=LH(0,i-s),d=LH(0,a-u);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),qH(r,o,(i-=f)-r,(a-=d)-o)},qH=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},jH={inflate:MH,relativePosition:BH,findBestRelativePosition:function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if((o=BH(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:FH,clamp:HH,create:qH,fromClientRect:function(e){return qH(e.left,e.top,e.width,e.height)}},UH=function(e,t,n){void 0===n&&(n=1e3);var r=!1,o=null,i=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||(r=!0,null!==o&&(clearTimeout(o),o=null),e.apply(null,t))}},a=i(e),s=i(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==o||(o=setTimeout(function(){return s.apply(null,e)},n))},resolve:a,reject:s}},zH=function(){var e={},t={};return{load:function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(e[n]!==undefined)return e[n];var a=new Ti(function(e,a){var s=UH(e,a);t[n]=s.resolve,wc.ScriptLoader.loadScript(r,function(){return s.start(i)},function(){return s.reject(o)})});return e[n]=a,a},add:function(n,r){t[n]!==undefined&&(t[n](r),delete t[n]),e[n]=Ti.resolve(r)}}}(),WH=Cn.each,VH=Cn.extend,$H=function(){};$H.extend=PH=function(e){var t=this,n=t.prototype,r=function(){var e,t,n,r=this;if(!RH&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(r,arguments)},o=function(){return this},i=function(e,t){return function(){var r=this,o=r._super;r._super=n[e];var i=t.apply(r,arguments);return r._super=o,i}};RH=!0;var a=new t;return RH=!1,e.Mixins&&(WH(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&WH(e.Methods.split(","),function(t){e[t]=o}),e.Properties&&WH(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return e!==undefined?(t[n]=e,t):t[n]}}),e.Statics&&WH(e.Statics,function(e,t){r[t]=e}),e.Defaults&&n.Defaults&&(e.Defaults=VH({},n.Defaults,e.Defaults)),He(e,function(e,t){"function"==typeof e&&n[t]?a[t]=i(t,e):a[t]=e}),r.prototype=a,r.constructor=r,r.extend=PH,r};var XH,YH=Math.min,KH=Math.max,GH=Math.round,QH=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o;r=0,o=0;var i=YH(e/=255,YH(t/=255,n/=255)),a=KH(e,KH(t,n));return i===a?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,o=a,{h:GH(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(a-i))),s:GH(100*r),v:GH(100*o)})},a=function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=KH(0,YH(t,1)),i=KH(0,YH(i,1)),0!==t){var a=e/60,s=i*t,u=s*(1-Math.abs(a%2-1)),c=i-s;switch(Math.floor(a)){case 0:n=s,r=u,o=0;break;case 1:n=u,r=s,o=0;break;case 2:n=0,r=s,o=u;break;case 3:n=0,r=u,o=s;break;case 4:n=u,r=0,o=s;break;case 5:n=s,r=0,o=u;break;default:n=r=o=0}n=GH(255*(n+c)),r=GH(255*(r+c)),o=GH(255*(o+c))}else n=r=o=GH(255*i)},s=function(){var e=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},u=function(){return{r:n,g:r,b:o}},c=function(){return i(n,r,o)},l=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=u,t.toHsv=c,t.toHex=s,t.parse=l,t},JH={serialize:function(e){var t=JSON.stringify(e);return B(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},parse:function(e){try{return JSON.parse(e)}catch(t){}}},ZH={callbacks:{},count:0,send:function(e){var t=this,n=pc.DOM,r=e.count!==undefined?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},eq=st(st({},WF),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):Oi.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",eq.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Cn.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=eq.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();Oi.setTimeout(r,10)}}),tq=Cn.extend,nq=function(){function e(e){this.settings=tq({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=tq(this.settings,e);r.success=function(e,o){void 0===(e=JH.parse(e))&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=JH.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",eq.send(r)},e}(),rq=function(){return e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0},Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n;var e,t,n};try{var oq="__storage_test__";(XH=window.localStorage).setItem(oq,oq),XH.removeItem(oq)}catch(uq){XH=rq()}var iq={geom:{Rect:jH},util:{Promise:Ti,Delay:Oi,Tools:Cn,VK:yg,URI:$y,Class:$H,EventDispatcher:UF,Observable:WF,I18n:Tc,XHR:eq,JSON:JH,JSONRequest:nq,JSONP:ZH,LocalStorage:XH,Color:QH,ImageUploader:rA},dom:{EventUtils:Vs,Sizzle:Au,DomQuery:ic,TreeWalker:Bi,TextSeeker:hl,DOMUtils:pc,ScriptLoader:wc,RangeUtils:jg,Serializer:EN,StyleSheetLoader:Li,ControlSelection:Cg,BookmarkManager:tg,Selection:O_,Event:Vs.Event},html:{Styles:Ps,Entities:ys,Node:Iy,Schema:As,SaxParser:Zy,DomParser:fN,Writer:lb,Serializer:fb},Env:mn,AddOnManager:Ac,Annotator:eg,Formatter:mA,UndoManager:bA,EditorCommands:EF,WindowManager:OT,NotificationManager:DT,EditorObservable:GF,Shortcuts:sH,Editor:mH,FocusManager:Yv,EditorManager:DH,DOM:pc.DOM,ScriptLoader:wc.ScriptLoader,PluginManager:PT,ThemeManager:RT,IconManager:gT,Resource:zH,trim:Cn.trim,isArray:Cn.isArray,is:Cn.is,toArray:Cn.toArray,makeMap:Cn.makeMap,each:Cn.each,map:Cn.map,grep:Cn.grep,inArray:Cn.inArray,extend:Cn.extend,create:Cn.create,walk:Cn.walk,createNS:Cn.createNS,resolve:Cn.resolve,explode:Cn.explode,_addCacheSuffix:Cn._addCacheSuffix,isOpera:mn.opera,isWebKit:mn.webkit,isIE:mn.ie,isGecko:mn.gecko,isMac:mn.mac},aq=Cn.extend(DH,iq),sq=function(e){if("object"==typeof module)try{module.exports=e}catch(t){}};(function(e){window.tinymce=e,window.tinyMCE=e})(aq),sq(aq)}(),function(){function e(){return i.tinymce}var t,n,r,o=[],i="undefined"!=typeof global?global:window,a=i.jQuery;a.fn.tinymce=function(t){function u(){var n=[],o=0;r||(s(),r=!0),p.each(function(r,i){var a,s=i.id,u=t.oninit;s||(i.id=s=e().DOM.uniqueId()),e().get(s)||(a=e().createEditor(s,t),n.push(a),a.on("init",function(){var t,r=u;p.css("visibility",""),u&&++o==n.length&&("string"==typeof r&&(t=-1===r.indexOf(".")?null:e().resolve(r.replace(/\.\w+$/,"")),r=e().resolve(r)),r.apply(t||e(),n))}))}),a.each(n,function(e,t){t.render()})}var c,l,f,d,p=this,h="";return p.length?t?(p.css("visibility","hidden"),i.tinymce||n||!(c=t.script_url)?1===n?o.push(u):u():(n=1,l=c.substring(0,c.lastIndexOf("/")),-1!=c.indexOf(".min")&&(h=".min"),i.tinymce=i.tinyMCEPreInit||{base:l,suffix:h},-1!=c.indexOf("gzip")&&(f=t.language||"en",c=c+(/\?/.test(c)?"&":"?")+"js=true&core=true&suffix="+escape(h)+"&themes="+escape(t.theme||"modern")+"&plugins="+escape(t.plugins||"")+"&languages="+(f||""),i.tinyMCE_GZ||(i.tinyMCE_GZ={start:function(){function n(t){e().ScriptLoader.markDone(e().baseURI.toAbsolute(t))}n("langs/"+f+".js"),n("themes/"+t.theme+"/theme"+h+".js"),n("themes/"+t.theme+"/langs/"+f+".js"),a.each(t.plugins.split(","),function(e,t){t&&(n("plugins/"+t+"/plugin"+h+".js"),n("plugins/"+t+"/langs/"+f+".js"))})},end:function(){}})),(d=document.createElement("script")).type="text/javascript",d.onload=d.onreadystatechange=function(r){r=r||window.event,2===n||"load"!=r.type&&!/complete|loaded/.test(d.readyState)||(e().dom.Event.domLoaded=1,n=2,t.script_loaded&&t.script_loaded(),u(),a.each(o,function(e,t){t()}))},d.src=c,document.body.appendChild(d)),p):e()?e().get(p[0].id):null:p},a.extend(a.expr[":"],{tinymce:function(t){var n;return!!(t.id&&"tinymce"in i&&(n=e().get(t.id))&&n.editorManager===e())}});var s=function(){function n(t){"remove"===t&&this.each(function(e,t){var n=s(t);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,n){var r=e().get(n.id.replace(/_parent$/,""));r&&r.remove()})}function r(t){var r,o=this;if(null!=t)n.call(o),o.each(function(n,r){var o;(o=e().get(r.id))&&o.setContent(t)});else if(0<o.length&&(r=e().get(o[0].id)))return r.getContent()}function o(e){return e&&e.length&&i.tinymce&&e.is(":tinymce")}var s=function(t){var n=null;return t&&t.id&&i.tinymce?e().get(t.id):n},u={};a.each(["text","html","val"],function(e,n){var i=u[n]=a.fn[n],c="text"===n;a.fn[n]=function(e){var n=this;if(!o(n))return i.apply(n,arguments);if(e!==t)return r.call(n.filter(":tinymce"),e),i.apply(n.not(":tinymce"),arguments),n;var u="",l=arguments;return(c?n:n.eq(0)).each(function(e,t){var n=s(t);u+=n?c?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):i.apply(a(t),l)}),u}}),a.each(["append","prepend"],function(e,n){var r=u[n]=a.fn[n],i="prepend"===n;a.fn[n]=function(e){var n=this;return o(n)?e!==t?("string"==typeof e&&n.filter(":tinymce").each(function(t,n){var r=s(n);r&&r.setContent(i?e+r.getContent():r.getContent()+e)}),r.apply(n.not(":tinymce"),arguments),n):void 0:r.apply(n,arguments)}}),a.each(["remove","replaceWith","replaceAll","empty"],function(e,t){var r=u[t]=a.fn[t];a.fn[t]=function(){return n.call(this,t),r.apply(this,arguments)}}),u.attr=a.fn.attr,a.fn.attr=function(e,n){var i=this,c=arguments;if(!e||"value"!==e||!o(i))return u.attr.apply(i,c);if(n!==t)return r.call(i.filter(":tinymce"),n),u.attr.apply(i.not(":tinymce"),c),i;var l=i[0],f=s(l);return f?f.getContent({save:!0}):u.attr.apply(a(l),c)}}}(),function(){var e=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(e);var t=e.Rails;(function(){(function(){var e;e=null,t.loadCSPNonce=function(){var t;return e=null!=(t=document.querySelector("meta[name=csp-nonce]"))?t.content:void 0},t.cspNonce=function(){return null!=e?e:t.loadCSPNonce()}}).call(this),function(){var e,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,t.matches=function(e,t){return null!=t.exclude?n.call(e,t.selector)&&!n.call(e,t.exclude):n.call(e,t)},e="_ujsData",t.getData=function(t,n){var r;return null!=(r=t[e])?r[n]:void 0},t.setData=function(t,n,r){return null==t[e]&&(t[e]={}),t[e][n]=r},t.$=function(e){return Array.prototype.slice.call(document.querySelectorAll(e))}}.call(this),function(){var e,n,r;e=t.$,r=t.csrfToken=function(){var e;return(e=document.querySelector("meta[name=csrf-token]"))&&e.content},n=t.csrfParam=function(){var e;return(e=document.querySelector("meta[name=csrf-param]"))&&e.content},t.CSRFProtection=function(e){var t;if(null!=(t=r()))return e.setRequestHeader("X-CSRF-Token",t)},t.refreshCSRFTokens=function(){var t,o;if(o=r(),t=n(),null!=o&&null!=t)return e('form input[name="'+t+'"]').forEach(function(e){return e.value=o})}}.call(this),function(){var e,n,r,o;r=t.matches,"function"!=typeof(e=window.CustomEvent)&&((e=function(e,t){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype,o=e.prototype.preventDefault,e.prototype.preventDefault=function(){var e;return e=o.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),e}),n=t.fire=function(t,n,r){var o;return o=new e(n,{bubbles:!0,cancelable:!0,detail:r}),t.dispatchEvent(o),!o.defaultPrevented},t.stopEverything=function(e){return n(e.target,"ujs:everythingStopped"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},t.delegate=function(e,t,n,o){return e.addEventListener(n,function(e){var n;for(n=e.target;n instanceof Element&&!r(n,t);)n=n.parentNode;if(n instanceof Element&&!1===o.call(n,e))return e.preventDefault(),e.stopPropagation()})}}.call(this),function(){var e,n,r,o,i,a;o=t.cspNonce,n=t.CSRFProtection,t.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},t.ajax=function(e){var t;return e=i(e),t=r(e,function(){var n,r;return r=a(null!=(n=t.response)?n:t.responseText,t.getResponseHeader("Content-Type")),2===Math.floor(t.status/100)?"function"==typeof e.success&&e.success(r,t.statusText,t):"function"==typeof e.error&&e.error(r,t.statusText,t),"function"==typeof e.complete?e.complete(t,t.statusText):void 0}),!(null!=e.beforeSend&&!e.beforeSend(t,e))&&(t.readyState===XMLHttpRequest.OPENED?t.send(e.data):void 0)},i=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},r=function(e,t){var r;return(r=new XMLHttpRequest).open(e.type,e.url,!0),r.setRequestHeader("Accept",e.accept),"string"==typeof e.data&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.crossDomain||(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(r)),r.withCredentials=!!e.withCredentials,r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)return t(r)},r},a=function(e,t){var n,r;if("string"==typeof e&&"string"==typeof t)if(t.match(/\bjson\b/))try{e=JSON.parse(e)}catch(i){}else if(t.match(/\b(?:java|ecma)script\b/))(r=document.createElement("script")).setAttribute("nonce",o()),r.text=e,document.head.appendChild(r).parentNode.removeChild(r);else if(t.match(/\b(xml|html|svg)\b/)){n=new DOMParser,t=t.replace(/;.+/,"");try{e=n.parseFromString(e,t)}catch(i){}}return e},t.href=function(e){return e.href},t.isCrossDomain=function(e){var t,n;(t=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=e,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(r){return r,!0}}}.call(this),function(){var e,n;e=t.matches,n=function(e){return Array.prototype.slice.call(e)},
t.serializeElement=function(t,r){var o,i;return o=[t],e(t,"form")&&(o=n(t.elements)),i=[],o.forEach(function(t){if(t.name&&!t.disabled)return e(t,"select")?n(t.options).forEach(function(e){if(e.selected)return i.push({name:t.name,value:e.value})}):t.checked||-1===["radio","checkbox","submit"].indexOf(t.type)?i.push({name:t.name,value:t.value}):void 0}),r&&i.push(r),i.map(function(e){return null!=e.name?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):e}).join("&")},t.formElements=function(t,r){return e(t,"form")?n(t.elements).filter(function(t){return e(t,r)}):n(t.querySelectorAll(r))}}.call(this),function(){var e,n,r;n=t.fire,r=t.stopEverything,t.handleConfirm=function(t){if(!e(this))return r(t)},e=function(e){var t,r,o;if(!(o=e.getAttribute("data-confirm")))return!0;if(t=!1,n(e,"confirm")){try{t=confirm(o)}catch(i){}r=n(e,"confirm:complete",[t])}return t&&r}}.call(this),function(){var e,n,r,o,i,a,s,u,c,l,f;c=t.matches,u=t.getData,l=t.setData,f=t.stopEverything,s=t.formElements,t.handleDisabledElement=function(e){if(this.disabled)return f(e)},t.enableElement=function(e){var n;return n=e instanceof Event?e.target:e,c(n,t.linkDisableSelector)?a(n):c(n,t.buttonDisableSelector)||c(n,t.formEnableSelector)?o(n):c(n,t.formSubmitSelector)?i(n):void 0},t.disableElement=function(o){var i;return i=o instanceof Event?o.target:o,c(i,t.linkDisableSelector)?r(i):c(i,t.buttonDisableSelector)||c(i,t.formDisableSelector)?e(i):c(i,t.formSubmitSelector)?n(i):void 0},r=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(l(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t),e.addEventListener("click",f),l(e,"ujs:disabled",!0)},a=function(e){var t;return null!=(t=u(e,"ujs:enable-with"))&&(e.innerHTML=t,l(e,"ujs:enable-with",null)),e.removeEventListener("click",f),l(e,"ujs:disabled",null)},n=function(n){return s(n,t.formDisableSelector).forEach(e)},e=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(c(e,"button")?(l(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t):(l(e,"ujs:enable-with",e.value),e.value=t)),e.disabled=!0,l(e,"ujs:disabled",!0)},i=function(e){return s(e,t.formEnableSelector).forEach(o)},o=function(e){var t;return null!=(t=u(e,"ujs:enable-with"))&&(c(e,"button")?e.innerHTML=t:e.value=t,l(e,"ujs:enable-with",null)),e.disabled=!1,l(e,"ujs:disabled",null)}}.call(this),function(){var e;e=t.stopEverything,t.handleMethod=function(n){var r,o,i,a,s,u,c;if(c=(u=this).getAttribute("data-method"))return s=t.href(u),o=t.csrfToken(),r=t.csrfParam(),i=document.createElement("form"),a="<input name='_method' value='"+c+"' type='hidden' />",null==r||null==o||t.isCrossDomain(s)||(a+="<input name='"+r+"' value='"+o+"' type='hidden' />"),a+='<input type="submit" />',i.method="post",i.action=s,i.target=u.target,i.innerHTML=a,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),e(n)}}.call(this),function(){var e,n,r,o,i,a,s,u,c,l=[].slice;a=t.matches,r=t.getData,u=t.setData,n=t.fire,c=t.stopEverything,e=t.ajax,o=t.isCrossDomain,s=t.serializeElement,i=function(e){var t;return null!=(t=e.getAttribute("data-remote"))&&"false"!==t},t.handleRemote=function(f){var d,p,h,m,g,v,y;return!i(m=this)||(n(m,"ajax:before")?(y=m.getAttribute("data-with-credentials"),h=m.getAttribute("data-type")||"script",a(m,t.formSubmitSelector)?(d=r(m,"ujs:submit-button"),g=r(m,"ujs:submit-button-formmethod")||m.method,v=r(m,"ujs:submit-button-formaction")||m.getAttribute("action")||location.href,"GET"===g.toUpperCase()&&(v=v.replace(/\?.*$/,"")),"multipart/form-data"===m.enctype?(p=new FormData(m),null!=d&&p.append(d.name,d.value)):p=s(m,d),u(m,"ujs:submit-button",null),u(m,"ujs:submit-button-formmethod",null),u(m,"ujs:submit-button-formaction",null)):a(m,t.buttonClickSelector)||a(m,t.inputChangeSelector)?(g=m.getAttribute("data-method"),v=m.getAttribute("data-url"),p=s(m,m.getAttribute("data-params"))):(g=m.getAttribute("data-method"),v=t.href(m),p=m.getAttribute("data-params")),e({type:g||"GET",url:v,data:p,dataType:h,beforeSend:function(e,t){return n(m,"ajax:beforeSend",[e,t])?n(m,"ajax:send",[e]):(n(m,"ajax:stopped"),!1)},success:function(){var e;return e=1<=arguments.length?l.call(arguments,0):[],n(m,"ajax:success",e)},error:function(){var e;return e=1<=arguments.length?l.call(arguments,0):[],n(m,"ajax:error",e)},complete:function(){var e;return e=1<=arguments.length?l.call(arguments,0):[],n(m,"ajax:complete",e)},crossDomain:o(v),withCredentials:null!=y&&"false"!==y}),c(f)):(n(m,"ajax:stopped"),!1))},t.formSubmitButtonClick=function(){var e,t;if(t=(e=this).form)return e.name&&u(t,"ujs:submit-button",{name:e.name,value:e.value}),u(t,"ujs:formnovalidate-button",e.formNoValidate),u(t,"ujs:submit-button-formaction",e.getAttribute("formaction")),u(t,"ujs:submit-button-formmethod",e.getAttribute("formmethod"))},t.preventInsignificantClick=function(e){var t,n,r,o;if(o=((r=this).getAttribute("data-method")||"GET").toUpperCase(),t=r.getAttribute("data-params"),n=(e.metaKey||e.ctrlKey)&&"GET"===o&&!t,null!=e.button&&0!==e.button||n)return e.stopImmediatePropagation()}}.call(this),function(){var e,n,r,o,i,a,s,u,c,l,f,d,p,h,m;if(a=t.fire,r=t.delegate,u=t.getData,e=t.$,m=t.refreshCSRFTokens,n=t.CSRFProtection,p=t.loadCSPNonce,i=t.enableElement,o=t.disableElement,l=t.handleDisabledElement,c=t.handleConfirm,h=t.preventInsignificantClick,d=t.handleRemote,s=t.formSubmitButtonClick,f=t.handleMethod,"undefined"!=typeof jQuery&&null!==jQuery&&null!=jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=t,jQuery.ajaxPrefilter(function(e,t,r){if(!e.crossDomain)return n(r)})}t.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return e(t.formEnableSelector).forEach(function(e){if(u(e,"ujs:disabled"))return i(e)}),e(t.linkDisableSelector).forEach(function(e){if(u(e,"ujs:disabled"))return i(e)})}),r(document,t.linkDisableSelector,"ajax:complete",i),r(document,t.linkDisableSelector,"ajax:stopped",i),r(document,t.buttonDisableSelector,"ajax:complete",i),r(document,t.buttonDisableSelector,"ajax:stopped",i),r(document,t.linkClickSelector,"click",h),r(document,t.linkClickSelector,"click",l),r(document,t.linkClickSelector,"click",c),r(document,t.linkClickSelector,"click",o),r(document,t.linkClickSelector,"click",d),r(document,t.linkClickSelector,"click",f),r(document,t.buttonClickSelector,"click",h),r(document,t.buttonClickSelector,"click",l),r(document,t.buttonClickSelector,"click",c),r(document,t.buttonClickSelector,"click",o),r(document,t.buttonClickSelector,"click",d),r(document,t.inputChangeSelector,"change",l),r(document,t.inputChangeSelector,"change",c),r(document,t.inputChangeSelector,"change",d),r(document,t.formSubmitSelector,"submit",l),r(document,t.formSubmitSelector,"submit",c),r(document,t.formSubmitSelector,"submit",d),r(document,t.formSubmitSelector,"submit",function(e){return setTimeout(function(){return o(e)},13)}),r(document,t.formSubmitSelector,"ajax:send",o),r(document,t.formSubmitSelector,"ajax:complete",i),r(document,t.formInputClickSelector,"click",h),r(document,t.formInputClickSelector,"click",l),r(document,t.formInputClickSelector,"click",c),r(document,t.formInputClickSelector,"click",s),document.addEventListener("DOMContentLoaded",m),document.addEventListener("DOMContentLoaded",p),window._rails_loaded=!0},window.Rails===t&&a(document,"rails:attachBindings")&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),
/*
Turbolinks 5.2.0
Copyright © 2018 Basecamp, LLC
 */
function(){var e=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,n){return t.controller.visit(e,n)},clearCache:function(){return t.controller.clearCache()},setProgressBarDelay:function(e){return t.controller.setProgressBarDelay(e)}}}).call(this)}).call(e);var t=e.Turbolinks;(function(){(function(){var e,n,r,o=[].slice;t.copyObject=function(e){var t,n,r;for(t in n={},e)r=e[t],n[t]=r;return n},t.closest=function(t,n){return e.call(t,n)},e=function(){var e;return null!=(e=document.documentElement.closest)?e:function(e){var t;for(t=this;t;){if(t.nodeType===Node.ELEMENT_NODE&&n.call(t,e))return t;t=t.parentNode}}}(),t.defer=function(e){return setTimeout(e,1)},t.throttle=function(e){var t;return t=null,function(){var n,r;return n=1<=arguments.length?o.call(arguments,0):[],null!=t?t:t=requestAnimationFrame((r=this,function(){return t=null,e.apply(r,n)}))}},t.dispatch=function(e,t){var n,o,i,a,s,u;return u=(s=null!=t?t:{}).target,n=s.cancelable,o=s.data,(i=document.createEvent("Events")).initEvent(e,!0,!0===n),i.data=null!=o?o:{},i.cancelable&&!r&&(a=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),a.call(this)}),(null!=u?u:document).dispatchEvent(i),i},r=function(){var e;return(e=document.createEvent("Events")).initEvent("test",!0,!0),e.preventDefault(),e.defaultPrevented}(),t.match=function(e,t){return n.call(e,t)},n=function(){var e,t,n,r;return null!=(t=null!=(n=null!=(r=(e=document.documentElement).matchesSelector)?r:e.webkitMatchesSelector)?n:e.msMatchesSelector)?t:e.mozMatchesSelector}(),t.uuid=function(){var e,t,n;for(n="",e=t=1;36>=t;e=++t)n+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){t.Location=function(){function e(e){var t,n;null==e&&(e=""),(n=document.createElement("a")).href=e.toString(),this.absoluteURL=n.href,2>(t=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=n.hash.slice(1))}var t,n,r,o;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=n(e),this.isEqualTo(e)||o(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},n=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return r(e,"/")?e:e+"/"},o=function(e,t){return e.slice(0,t.length)===t},r=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.HttpRequest=function(){function n(n,r,o){this.delegate=n,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(r).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&300>t?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},n.prototype.requestFailed=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}));var e},n.prototype.requestTimedOut=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}));var e},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},n.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((e=this,function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}))):void 0;var e},t.prototype.setValue=function(e){return this.value=e,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((e=this,function(){return e.progressElement.style.width=10+90*e.value+"%"}));var e},t.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},t.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},t}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var r,o,i;return i=t.HttpRequest,r=i.NETWORK_FAILURE,o=i.TIMEOUT_FAILURE,n.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},n.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},n.prototype.visitRequestCompleted=function(e){return e.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(e,t){switch(t){case r:case o:return this.reload();default:return e.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(e){return e.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.History=function(){function n(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(e,n){return e=t.Location.wrap(e),this.update("push",e,n)},n.prototype.replace=function(e,n){return e=t.Location.wrap(e),this.update("replace",e,n)},n.prototype.onPopState=function(e){var n,r,o,i;return this.shouldHandlePopState()&&(i=null!=(r=e.state)?r.turbolinks:void 0)?(n=t.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,o)):void 0},n.prototype.onPageLoad=function(){return t.defer(function(e){return function(){return e.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(e,t,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[e+"State"](r,null,t)},n}()}.call(this),function(){t.HeadDetails=function(){function e(e){var t,n,r,a,s;for(this.elements={},n=0,a=e.length;a>n;n++)(s=e[n]).nodeType===Node.ELEMENT_NODE&&(r=s.outerHTML,(null!=(t=this.elements)[r]?t[r]:t[r]={type:i(s),tracked:o(s),elements:[]}).elements.push(s))}var t,n,r,o,i;return e.fromHeadElement=function(e){var t;return new this(null!=(t=null!=e?e.childNodes:void 0)?t:[])},e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var e;return function(){var t,n;for(e in n=[],t=this.elements)t[e].tracked&&n.push(e);return n}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var n,r,o,i,a,s;for(r in a=[],o=this.elements)s=(i=o[r]).type,n=i.elements,s!==e||t.hasElementWithKey(r)||a.push(n[0]);return a},e.prototype.getProvisionalElements=function(){var e,t,n,r,o,i,a;for(t in n=[],r=this.elements)a=(o=r[t]).type,i=o.tracked,e=o.elements,null!=a||i?e.length>1&&n.push.apply(n,e.slice(1)):n.push.apply(n,e);return n},e.prototype.getMetaValue=function(e){var t;return null!=(t=this.findMetaElementByName(e))?t.getAttribute("content"):void 0},e.prototype.findMetaElementByName=function(e){var n,r,o,i;for(o in n=void 0,i=this.elements)r=i[o].elements,t(r[0],e)&&(n=r[0]);return n},i=function(e){return n(e)?"script":r(e)?"stylesheet":void 0},o=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},n=function(e){return"script"===e.tagName.toLowerCase()},r=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},t=function(e,t){return"meta"===e.tagName.toLowerCase()&&e.getAttribute("name")===t},e}()}.call(this),function(){t.Snapshot=function(){function e(e,t){this.headDetails=e,this.bodyElement=t}return e.wrap=function(e){return e instanceof this?e:"string"==typeof e?this.fromHTMLString(e):this.fromHTMLElement(e)},e.fromHTMLString=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromHTMLElement(t)},e.fromHTMLElement=function(e){var n,r,o;return r=e.querySelector("head"),n=null!=(o=e.querySelector("body"))?o:document.createElement("body"),new this(t.HeadDetails.fromHeadElement(r),n)},e.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},e.prototype.getRootLocation=function(){var e,n;return n=null!=(e=this.getSetting("root"))?e:"/",new t.Location(n)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.bodyElement.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(t){}},e.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.getPermanentElementById=function(e){return this.bodyElement.querySelector("#"+e+"[data-turbolinks-permanent]")},e.prototype.getPermanentElementsPresentInSnapshot=function(e){var t,n,r,o,i;for(i=[],n=0,r=(o=this.getPermanentElements()).length;r>n;n++)t=o[n],e.getPermanentElementById(t.id)&&i.push(t);return i},e.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){return this.headDetails.getMetaValue("turbolinks-"+e)},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,r;return n=arguments[0],t=arguments[1],(r=function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(this,3<=arguments.length?e.call(arguments,2):[],function(){})).delegate=n,r.render(t),r},t.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,n(t,e),t)},n=function(e,t){var n,r,o,i,a,s,u;for(s=[],n=0,r=(i=t.attributes).length;r>n;n++)o=(a=i[n]).name,u=a.value,s.push(e.setAttribute(o,u));return s},t}()}.call(this),function(){var e,n,r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;t.SnapshotRenderer=function(t){function o(e,t,n){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return r(o,t),o.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView((t=this,function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}))):this.invalidateView();var t},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){var e;return e=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(e)},o.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadStylesheetElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(e));return o},o.prototype.copyNewHeadScriptElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadScriptElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(this.createScriptElement(e)));return o},o.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getCurrentHeadProvisionalElements()).length;n>t;t++)e=r[t],o.push(document.head.removeChild(e));return o},o.prototype.copyNewHeadProvisionalElements=function(){var e,t,n,r,o;for(o=[],t=0,n=(r=this.getNewHeadProvisionalElements()).length;n>t;t++)e=r[t],o.push(document.head.appendChild(e));return o},o.prototype.relocateCurrentBodyPermanentElements=function(){var t,r,o,i,a,s,u;for(u=[],t=0,r=(s=this.getCurrentBodyPermanentElements()).length;r>t;t++)i=s[t],a=e(i),o=this.newSnapshot.getPermanentElementById(i.id),n(i,a.element),n(o,i),u.push(a);return u},o.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(e){var t,r,o,i,a,s;for(s=[],o=0,i=e.length;i>o;o++)r=(a=e[o]).element,t=a.permanentElement.cloneNode(!0),s.push(n(r,t));return s},o.prototype.activateNewBodyScriptElements=function(){var e,t,r,o,i,a;for(a=[],t=0,o=(i=this.getNewBodyScriptElements()).length;o>t;t++)r=i[t],e=this.createScriptElement(r),a.push(n(r,e));return a},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.newSnapshot.findFirstAutofocusableElement())?e.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},o}(t.Renderer),e=function(e){var t;return(t=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),t.setAttribute("content",e.id),{element:t,permanentElement:e}},n=function(e,t){var n;return(n=e.parentNode)?n.replaceChild(t,e):void 0}}.call(this),function(){var e=function(e,t){function r(){this.constructor=e}for(var o in t)n.call(t,o)&&(e[o]=t[o]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},n={}.hasOwnProperty;t.ErrorRenderer=function(t){function n(e){var t;(t=document.createElement("html")).innerHTML=e,this.newHead=t.querySelector("head"),this.newBody=t.querySelector("body")}return e(n,t),n.prototype.render=function(e){return this.renderView((t=this,function(){return t.replaceHeadAndBody(),t.activateBodyScriptElements(),e()}));var t},n.prototype.replaceHeadAndBody=function(){var e,t;return t=document.head,e=document.body,t.parentNode.replaceChild(this.newHead,t),e.parentNode.replaceChild(this.newBody,e)},n.prototype.activateBodyScriptElements=function(){var e,t,n,r,o,i;for(i=[],t=0,n=(r=this.getScriptElements()).length;n>t;t++)o=r[t],e=this.createScriptElement(o),i.push(o.parentNode.replaceChild(e,o));return i},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(t.Renderer)}.call(this),function(){t.View=function(){function e(e){this.delegate=e,this.htmlElement=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return t.Snapshot.fromHTMLElement(this.htmlElement)},e.prototype.render=function(e,t){var n,r,o;return o=e.snapshot,n=e.error,r=e.isPreview,this.markAsPreview(r),null!=o?this.renderSnapshot(o,r,t):this.renderError(n,t)},e.prototype.markAsPreview=function(e){return e?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,n,r){return t.SnapshotRenderer.render(this.delegate,r,this.getSnapshot(),t.Snapshot.wrap(e),n)},e.prototype.renderError=function(e,n){return t.ErrorRenderer.render(this.delegate,n,e)},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(e){return e.scrollIntoView()},n.prototype.scrollToPosition=function(e){var t,n;return t=e.x,n=e.y,window.scrollTo(t,n)},n.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){t.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var n;return e.prototype.has=function(e){return n(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var t;return t=n(e),this.snapshots[t]},e.prototype.write=function(e,t){var r;return r=n(e),this.snapshots[r]=t},e.prototype.touch=function(e){var t,r;return r=n(e),(t=this.keys.indexOf(r))>-1&&this.keys.splice(t,1),this.keys.unshift(r),this.trim()},e.prototype.trim=function(){var e,t,n,r,o;for(o=[],e=0,n=(r=this.keys.splice(this.size)).length;n>e;e++)t=r[e],o.push(delete this.snapshots[t]);return o},n=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.Visit=function(){function n(n,r,o){this.controller=n,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(r),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var r;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var e,t;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,t=r(e),this.controller[t](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var e,t;return(t=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:t,isPreview:e},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),e?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(e,n){return this.response=e,null!=n&&(this.redirectedToLocation=t.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},n.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},r=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame((t=this,function(){return t.frame=null,e.call(t)}));var t},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};t.Controller=function(){function n(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return n.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},n.prototype.visit=function(e,n){var r,o;return null==n&&(n={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(r=null!=(o=n.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,r)):window.location=e:void 0},n.prototype.startVisitToLocationWithAction=function(e,n,r){var o;return t.supported?(o=this.getRestorationDataForIdentifier(r),this.startVisit(e,n,{restorationData:o})):window.location=e},n.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},n.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,n){var r;return this.restorationIdentifier=n,this.enabled?(r=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:r,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(e){var t;return null!=(t=this.cache.get(e))?t.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),n=this.view.getSnapshot(),e=this.lastRenderedLocation,t.defer(function(t){
return function(){return t.cache.put(e,n.clone())}}(this))):void 0},n.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},n.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},n.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},n.prototype.render=function(e,t){return this.view.render(e,t)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(e){var t,n,r;return this.enabled&&this.clickEventIsSignificant(e)&&(n=this.getVisitableLinkForNode(e.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(e.preventDefault(),t=this.getActionForLink(n),this.visit(r,{action:t})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,n){return t.dispatch("turbolinks:click",{target:e,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},n.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},n.prototype.startVisit=function(e,t,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(e,t,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},n.prototype.createVisit=function(e,n,r){var o,i,a,s,u;return s=(i=null!=r?r:{}).restorationIdentifier,a=i.restorationData,o=i.historyChanged,(u=new t.Visit(this,e,n)).restorationIdentifier=null!=s?s:t.uuid(),u.restorationData=t.copyObject(a),u.historyChanged=o,u.referrer=this.location,u},n.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},n.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(e){var n;return n=new t.Location(e.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},n.prototype.nodeIsVisitable=function(e){var n;return!(n=t.closest(e,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},n}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,n,r;t.start=function(){return n()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=t),r()},e=function(){var e;return(e=new t.Controller).adapter=new t.BrowserAdapter(e),e},(r=function(){return window.Turbolinks===t})()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this);