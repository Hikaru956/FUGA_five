tinymce.PluginManager.add("emoticons",
	function(e,t){
		function n(){
			var e;
			return e='<table role="list" class="mce-grid">',
						tinymce.each(r,function(n){
							e+="<tr>",
							tinymce.each(n,
								function(n){
									var r=t+"/img/"+n+".gif";
									e+='<td><a href="#" data-mce-url="'+r+'" data-mce-alt="'+n+'" tabindex="-1" role="option" aria-label="'+n+'"><img src="'+r+'" style="width: 18px; height: 18px" role="presentation" /></a></td>'
								}
							),
							e+="</tr>"
						}),e+="</table>"
		}
		var r=[
				["smiley-cool","smiley-cry","smiley-embarassed","smiley-foot-in-mouth","smiley-frown","smiley-innocent","smiley-kiss","smiley-laughing"],
				["smiley-money-mouth","smiley-sealed","smiley-smile","smiley-surprised","smiley-tongue-out","smiley-undecided","smiley-wink","smiley-yell"],
				["zero","one","two","three","four","five","six","seven"],
				["eight","nine","up","down","updown","downwardleft","downwardright","upwardleft"],
				
				["upwardright","leftright","end","enter","ok","ng","angry","annoy"],
				["bearing","bleah","catface","coldsweats01","coldsweats02","confident","lovely","pout"],
				["shock","smile","think","weep","wink","wobbly","sad","happy01"],
				["happy02","gawk","delicious", "despair","sign01","sign02","sign03","sign04"],

				["ear","eye", "good","punch", "rock","scissors","paper","kissmark"],
				["airplane","bicycle", "bullettrain","bus", "car","rvcar","ship","train"],
				["yacht","sun", "newmoon","fullmoon", "rain","night","mist","typhoon"],
				["heart01","heart02","heart03","heart04","diamond","spade", "clover","club" ],

				["24hours","aquarius","aries", "art","atm","bag","ban","banana"],
				["bank","bar","baseball","basketball","beer","bell","birthday","bomb"],
				["book","bottle","boutique","bread","bud","building","by-d","cafe"],
				["cake","camera","cancer","capricornus","carouselpony","cat","cd","chair"],

				["cherry","cherryblossom","chick","clear","clip","clock","cloud","copyright"],
				["crown","crying","cute","drama","danger","dash","denim","dog"],
				["dollar","door","d-point","empty","event","eyeglass","fastfood","faxto"],
				["fish","flag","flair","foot","free","freedial","fuji","full"],

				["game","gasstation","gemini","golf","hairsalon","house","id","horse"],
				["hospital","hotel","impact","info01","info02","japanesetea","karaoke","key"],
				["leo","libra","loveletter","mail","mailto","maple","memo","mobaq"],
				["mobilephone","movie","music","new","noodle","nosmoking","note","notes"],

				["on","parking","pass","pc","pen","pencil","penguin", "phoneto"],
				["pig","pisces","pocketbell","postoffice","pouch","present","recycle","restaurant"],
				["ribbon","riceball","ring","r-mark","rouge","run","sagittarius","sandclock"],
				["school","scorpius","search","secret","shadow","sharp","shine","shoe"],
				["sign05","signaler","ski","slate","sleepy","smoking","snail","snow"],

				["snowboard","soccer","soon","spa","sports","sprinkle","subway","sweat01"],

				["sweat02","taurus", "telephone","tennis","thunder","ticket","tm","toilet"],
				["t-shirt","tulip","tv","virgo","watch","wave","wheelchair","wine"],
				["wrench","xmas","yen"]
			];
		e.addButton("emoticons",{type:"panelbutton",panel:{role:"application",autohide:!0,html:n,onclick:function(t){var n=e.dom.getParent(t.target,"a");n&&(e.insertContent('<img src="'+n.getAttribute("data-mce-url")+'" alt="'+n.getAttribute("data-mce-alt")+'" />'),this.hide())}},tooltip:"Emoticons"})
	}
);